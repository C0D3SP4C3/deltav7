/*! For license information please see index.js.LICENSE.txt */
(()=>{var e,t,n={5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),a=new I(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var b={};u(b,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==n&&r.call(_,i)&&(b=_);var k=g.prototype=y.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var u=l(e[o],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function U(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function P(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:t,done:!0}}return m.prototype=g,u(k,"constructor",g),u(g,"constructor",m),m.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(T.prototype),u(T.prototype,a,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},5974:(e,t,n)=>{"use strict";e.exports=n.p+"cb45d8b1ace0723c7853.js"},552:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(5914),o=n(9564);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=new DataView(new ArrayBuffer(0));function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!Number.isInteger(e))throw Error("Invalid pointer");this.pointer=e,this.view=null}function v(){if(this.view&&0!==this._mem.byteLength)return!1;var e=this._mem=this.wasm.memory.buffer;return this.view=new DataView(e,this.pointer,this.targetBytelength>0?this.targetBytelength:e.byteLength),this.float32=new Float32Array(e),this.reader.view=this.view,!0}function y(){this.destroyed=!0,this.pointer=null}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(g,e);var t,n,r,i,m=(r=g,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(i){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function g(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a(this,g),h(l(t=m.call(this)),"destroyed",!1),h(l(t),"pointer",null),h(l(t),"view",null),h(l(t),"_mem",null),h(l(t),"wasm",null),h(l(t),"targetBytelength",0),h(l(t),"float32",null),h(l(t),"reader",new o.E(d)),t.targetBytelength=n,t.wasm=e,t}return t=g,(n=[{key:"setPointer",value:p},{key:"checkView",value:v},{key:"destroy",value:y}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),g}(r.aN)},3253:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ne});var r=n(9564),o=n(552),i=n(7273),a=n(1205);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){throw new Error("Must be implemented")}function c(e){throw new Error("Must be implemented")}function l(e,t){throw new Error("Must be implemented")}function f(e,t,n,r,o){throw new Error("Must be implemented")}function h(){throw new Error("Must be implemented")}function d(e){}function p(e,t,n){throw new Error("Must be implemented")}function v(e){throw new Error("Must be implemented")}function y(e){throw new Error("Must be implemented")}function m(e){this.connection.send(e.buffer||e)}function g(e,t){this.connection.closeListenerEvents(e||1003,t||"Unspecified protocol fail")}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function k(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function T(e){return!(e.length<5||126!==e.readUInt8()||(this.gotProtocol=!0,console.log("GOT DELTA PROTOCOL"),this.protocol=e.readUInt32(),!X[this.protocol]||(this.protocol<4&&(this.protocol=4,console.debug("legacy protocol: got version ".concat(this.protocol,", which is lower than 4"))),0)))}function x(e){var t=e.readUInt8();if(!this.gotKey){if(255!==t)return;return e.length<5?void this.fail(1003,"Unexpected message format"):(this.gotKey=!0,void(this.key=e.readUInt32()))}switch(t){case 0:var n=e.readInt16(),r=decodeURIComponent(escape(e.readUTF8StringZero()));this.connection.onSpawnRequest(n,r);break;case 1:this.connection.requestingSpectate=!0,this.connection.hasProcessedQ=!1;break;case 16:if(11!=e.length)return void this.fail(1003,"Unexpected message format");this.connection.mouseX=e.readInt32(),this.connection.mouseY=e.readInt32();var o=e.readInt16(),i=this.connection.players.get(o);i&&(i.mouseX=this.connection.mouseX,i.mouseY=this.connection.mouseY);break;case 17:var a=e.readInt16();e.readInt8(),this.connection.splitAttemptAdd(a);break;case 18:this.connection.isPressingQ=!0,this.connection.hasProcessedQ=!1;break;case 19:this.connection.isPressingQ=this.hasProcessedQ=!1;break;case 20:var s=e.readInt16(),u=!!e.readUInt8();this.connection.onMacroPress(s,u);break;case 21:var c=e.readInt16();this.connection.ejectAttemptAdd(c);break;case 22:if(!this.gotKey)break;this.connection.splitAttemptAddMinions();break;case 23:if(!this.gotKey)break;this.connection.ejectAttemptAddMinions();break;case 24:case 254:break;case 99:return console.log("opcode chat message");case 255:return void this.fail(1003,"Unexpected message");default:return void this.fail(1003,"Unknown message type "+t)}}function U(e,t){var n=new a.Q;n.writeUInt8(99),n.writeUInt8(128*e.isServer),n.writeColor(e.color),B(n,e.name,this.protocol),B(n,t,this.protocol),this.send(n.finalize())}function C(){var e=new a.Q;e.writeUInt8(254);var t=this.connection.player.world.stats,n={mode:t.gamemode,update:t.loadTime,playersTotal:t.external,playersAlive:t.playing,playersSpect:t.spectating,playersLimit:t.limit};B(e,JSON.stringify(Object.assign({},n,t)),this.protocol),this.send(e.finalize())}function I(e){var t=new a.Q;t.writeUInt8(32),t.writeUInt32(e.id),this.send(t.finalize())}function P(e,t,n,r,o){var i=new a.Q;i.writeUInt8(64),i.writeFloat64(e-n),i.writeFloat64(t-r),i.writeFloat64(e+n),i.writeFloat64(t+r),o&&(i.writeUInt32(1),i.writeUTF8StringZero("Delta arena")),this.send(i.finalize())}function O(e){var t=new a.Q;t.writeUInt8(63),t.writeUInt32(e),this.send(t.finalize())}function R(){var e=new a.Q;e.writeUInt8(18),this.send(e.finalize()),null!==this.lastLeaderboardType&&(this.onLeaderboardUpdate(this.lastLeaderboardType,[],null),this.lastLeaderboardType=null)}function E(e,t,n){this.lastLeaderboardType=e;var r=new a.Q;switch(e){case"ffa":D[this.protocol](r,t,n,this.protocol);break;case"pie":F[this.protocol](r,t,n,this.protocol);break;case"text":K[this.protocol](r,t,this.protocol)}this.send(r.finalize())}function M(e){var t=new a.Q;t.writeUInt8(17),t.writeFloat32(e.view_x),t.writeFloat32(e.view_y),t.writeFloat32(e.view_s),this.send(t.finalize())}function A(e){this.send(e)}function j(){return"delta"}const L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(s,e);var t,n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(o);if(i){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).gotProtocol=!1,t.protocol=NaN,t.gotKey=!1,t.key=NaN,t.lastLeaderboardType=null,t}return t=s,r=[{key:"type",get:j}],(n=[{key:"distinguishes",value:T},{key:"onSocketMessage",value:x},{key:"onChatMessage",value:U},{key:"onStatsRequest",value:C},{key:"onNewOwnedCell",value:I},{key:"onNewWorldBounds",value:P},{key:"onNewOwnPlayer",value:O},{key:"onWorldReset",value:R},{key:"onLeaderboardUpdate",value:E},{key:"onSpectatePosition",value:M},{key:"onVisibleCellUpdate",value:A}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.connection=t}var t,n;return t=e,(n=[{key:"distinguishes",value:u},{key:"onSocketMessage",value:c},{key:"onChatMessage",value:l},{key:"onNewWorldBounds",value:f},{key:"onWorldReset",value:h},{key:"onNewOwnPlayer",value:d},{key:"onLeaderboardUpdate",value:p},{key:"onSpectatePosition",value:v},{key:"onVisibleCellUpdate",value:y},{key:"send",value:m},{key:"fail",value:g}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());var F={22:function(e,t,n){e.writeUInt8(50),e.writeUInt32(t.length);for(var r=0,o=t.length;r<o;r++)e.writeFloat32(t[r].weight),e.writeColor(t[r].color)}},D={22:function(e,t,n,r){e.writeUInt8(r>=14?53:51);for(var o=0,i=t.length;o<i;o++){var a=t[o];a===n?e.writeUInt8(8):(e.writeUInt8(2),e.writeZTStringUTF8(a.name))}}},K={22:function(e,t,n){e.writeUInt8(53);for(var r=0,o=t.length;r<o;r++)e.writeUInt8(2),e.writeZTStringUTF8(t[r])}},X={22:function(e,t,n,r,o,i,a,s,u,c){e.writeUInt32(r.id),e.writeInt32(r.x),e.writeInt32(r.y),e.writeUInt16(r.size);var l=0,f=0;o&&(1===r.type&&(f|=1),0===r.type&&(f|=4),l|=128),r.isSpiked&&(l|=1),s&&(l|=2),c&&(l|=4),u&&(l|=8),r.isAgitated&&(l|=16),3===r.type&&(l|=32),3===r.type&&r.owner!==t&&(l|=64),e.writeUInt8(l),o&&e.writeUInt8(f),s&&e.writeColor(r.color),c&&e.writeZTStringUTF8(r.skin),u&&e.writeZTStringUTF8(r.name),o&&4&f&&e.writeUInt32(r.owner.id)}};function B(e,t,n){e[n<6?"writeZTStringUCS2":"writeZTStringUTF8"](t)}var N=n(1728);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(){return W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=G(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},W.apply(this,arguments)}function G(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Q(e)););return e}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function Y(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=new DataView(new ArrayBuffer(1));function ee(e){return console.log("Event message from server. MBO")}function te(){return console.log("Event connection opened. MBO")}function ne(e,t){return console.log("Event connection closed. MBO")}function re(e){var t=this.players.get(e);t&&t.splitAttempts++}function oe(e){var t=this.players.get(e);t&&t.ejectAttempts++}function ie(e,t){var n=this.players.get(e);n&&(n.ejectMacroPressed=t)}function ae(e){if(e.controller_ptr)throw Error("Can`t attach player");e.connection=this,this.wasm.controller_attachPlayer(this.pointer,e.pointer)}function se(e){this.attachPlayer(e),this.players.set(e.id,e)}function ue(){if(null==this.pointer)throw Error("Can`t init players");for(var e=2;e--;){var t=new i.Z(this,this.world);this.addPlayer(t),this.world.addPlayer(t),this.protocol.onNewOwnPlayer(t.id)}}function ce(){this.protocol.onNewWorldBounds(this.world.border_x,this.world.border_y,this.world.border_w,this.world.border_h,!0)}function le(){var e=this;this.players.forEach((function(t,n){t.destroy(),e.players.delete(n)}))}function fe(){if(null!=this.pointer)for(var e=this.minions.buffer,t=this.server.view,n=0,r=this.minions.size;r>n;n++){var o=e[n]+12;t.setUint8(o,t.getUint8(o)+1)}}function he(){if(null!=this.pointer)for(var e=this.server.view,t=this.minions.buffer,n=0,r=this.minions.size;r>n;n++){var o=t[n]+13;e.setUint8(o,e.getUint8(o)+1)}}function de(){if(null!=this.pointer)throw Error("Fatal: Already has pointer!");this.pointer=this.server.wasm.new_connection(),this.server.buffer_events.on(this.pointer,this.on_wasm_buffer),this.minions=new N.N(this.wasm,20),this.minions.setPointer(this.minions_ptr)}function pe(){if(null==this.pointer)throw Error("Fatal: No pointer!");this.server.buffer_events.removeListener(this.pointer,this.on_wasm_buffer),this.server.wasm.close_connection(this.pointer),this.pointer=null,this.minions=null}function ve(e){if(e instanceof String)this.closeListenerEvents(1003,"Unexpected message format");else if(e.byteLength>51200||0===e.byteLength)this.closeListenerEvents(1009,"Unexpected message size");else{this.lastActivityTime=Date.now();var t=e.buffer?new DataView(e.buffer,0,e.byteLength):new DataView(e);if(this.messageReader.setView(t),null!==this.protocol)this.protocol.onSocketMessage(this.messageReader);else{var n=new L(this);if(n.distinguishes(this.messageReader)&&(this.protocol=n,this.onProtocolDecided()),null===this.protocol)return void this.closeListenerEvents(1003,"Ambiguous protocol")}}}function ye(){}function me(){this.client_onclose(),this.pointer&&this.wasm_close_connection(),this.destroy()}function ge(e){this.send_callback(e)}function be(e,t){if(null==this.pointer)throw Error("No connection pointer");var n=this.players.get(e);n&&(n.nick=t,n.spawnRequested=!0)}function we(e,t){this.listenerClosed&&console.error("Listener alreay closed"),this.listenerClosed||(this.listenerClosed=!0,this.server.onCloseConnection(this,e,t),this.client_onclose(e,t))}function _e(){return this.checkView(),this.view.getFloat32(4,!0)}function ke(e){this.checkView(),this.view.setFloat32(4,e,!0)}function Se(){return this.checkView(),this.view.getFloat32(8,!0)}function Te(e){this.checkView(),this.view.setFloat32(8,e,!0)}function xe(){return this.checkView(),this.view.getFloat32(12,!0)}function Ue(e){this.checkView(),this.view.setFloat32(12,e,!0)}function Ce(){return this.checkView(),this.view.getFloat32(16,!0)}function Ie(e){this.checkView(),this.view.setFloat32(16,e,!0)}function Pe(){return this.checkView(),this.view.getFloat32(20,!0)}function Oe(e){this.checkView(),this.view.setFloat32(20,e,!0)}function Re(){return this.checkView(),this.view.getInt8(32)}function Ee(e){this.checkView(),this.view.setInt8(32,e)}function Me(){return this.checkView(),0!==this.view.getInt8(33)}function Ae(e){this.checkView(),this.view.setInt8(33,e?1:0)}function je(){return this.checkView(),0!==this.view.getInt8(34)}function Le(e){this.checkView(),this.view.setInt8(34,e?1:0)}function Fe(){return this.checkView(),0!==this.view.getInt8(35)}function De(e){this.checkView(),this.view.setInt8(35,e?1:0)}function Ke(){return this.checkView(),this.view.getUint32(36,!0)}function Xe(e){this.checkView(),this.view.setUint32(36,e,!0)}function Be(){return this.checkView(),this.view.getUint32(40,!0)}const Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(s,e);var t,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(o);if(i){var n=Q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Y(this,e)});function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return q(this,s),J(Z(t=a.call(this,e.wasm,n)),"aborted",!1),J(Z(t),"remoteAddress",""),J(Z(t),"webSocket",null),J(Z(t),"connectTime",Date.now()),J(Z(t),"lastActivityTime",Date.now()),J(Z(t),"lastChatTime",Date.now()),J(Z(t),"messageReader",new r.E($)),J(Z(t),"world",null),J(Z(t),"server",null),J(Z(t),"players",new Map),J(Z(t),"protocol",null),J(Z(t),"on_wasm_buffer",(function(e,n){16==e&&(1!=t.state&&2!=t.state||t.protocol.onSpectatePosition(Z(t)),t.protocol.onVisibleCellUpdate(n))})),J(Z(t),"send_callback",ee),J(Z(t),"client_onopen",te),J(Z(t),"client_onclose",ne),t.server=e,t.listenerClosed=!1,globalThis.cnn=Z(t),t}return t=s,(n=[{key:"splitAttemptAdd",value:re},{key:"ejectAttemptAdd",value:oe},{key:"onMacroPress",value:ie},{key:"attachPlayer",value:ae},{key:"addPlayer",value:se},{key:"initPlayers",value:ue},{key:"onWorldSet",value:ce},{key:"remPlayers",value:le},{key:"ejectAttemptAddMinions",value:fe},{key:"splitAttemptAddMinions",value:he},{key:"wasm_init_connection",value:de},{key:"wasm_close_connection",value:pe},{key:"onSocketMessage",value:ve},{key:"onProtocolDecided",value:ye},{key:"close",value:me},{key:"destroy",value:function(){this.unlisten(),W(Q(s.prototype),"destroy",this).call(this)}},{key:"send",value:ge},{key:"onSpawnRequest",value:be},{key:"closeListenerEvents",value:we},{key:"mouseX",get:_e,set:ke},{key:"mouseY",get:Se,set:Te},{key:"view_x",get:xe,set:Ue},{key:"view_y",get:Ce,set:Ie},{key:"view_s",get:Pe,set:Oe},{key:"state",get:Re,set:Ee},{key:"requestingSpectate",get:Me,set:Ae},{key:"isPressingQ",get:je,set:Le},{key:"hasProcessedQ",get:Fe,set:De},{key:"minionsAmount",get:Ke,set:Xe},{key:"minions_ptr",get:Be}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.Z)},7273:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var r=n(9564),o=n(1205);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){this.connection&&this.wasm.controller_detachPlayer(this.connection.pointer,this.pointer),this.unlisten(),this.wasm.__unpin(this.pointer)}function d(){return!!this.world}function p(){return this.checkView(),this.view.getUint16(0,!0)}function v(){return this.checkView(),this.view.getFloat32(4,!0)}function y(e){this.checkView(),this.view.setFloat32(4,e,!0)}function m(){return this.checkView(),this.view.getFloat32(8,!0)}function g(e){this.checkView(),this.view.setFloat32(8,e,!0)}function b(){return this.checkView(),this.view.getUint8(12)}function w(e){this.checkView(),this.view.setUint8(12,e)}function _(){return this.checkView(),this.view.getUint8(13)}function k(e){this.checkView(),this.view.setUint8(13,e)}function S(){return this.checkView(),0!==this.view.getUint8(14)}function T(e){this.checkView(),this.view.setUint8(14,e?1:0)}function x(){return this.checkView(),!!this.view.getUint8(16)}function U(e){this.checkView(),this.view.setUint8(16,e?1:0)}function C(){return this.checkView(),this.view.getUint32(24,!0)}function I(e){this.checkView(),this.view.setUint32(24,e,!0)}function P(){return this.checkView(),this.view.getUint32(28,!0)}function O(e){this.checkView(),this.view.setUint32(28,e,!0)}function R(){return this.checkView(),this.view.getUint32(32,!0)}function E(e){this.checkView(),this.view.setUint32(32,e,!0)}function M(){return this.checkView(),this.view.getUint32(36,!0)}function A(e){this.checkView(),this.view.setUint32(36,e,!0)}function j(){this.server.checkView();var e=new r.E(this.server.view);return e.offset=this.nick_ptr,decodeURIComponent(escape(e.readUTF16StringZero()))}function L(e){e=unescape(encodeURIComponent(e));var t=this.wasm.__new(e.length<<1,1);this.server.checkView();var n=new o.Q;n.offset=t,n.view=this.server.view,n.writeUTF16String(e),this.nick_ptr=t}const F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(F,e);var t,n,r,o,i=(r=F,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(o){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function F(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,F),f(c(n=i.call(this,e.server.wasm,80)),"connection",null),f(c(n),"world",null),n.pointer=n.wasm.new_player(t.pointer),n.wasm.__pin(n.pointer),n.connection=e,n.server=e.server,n.world=t,n}return t=F,(n=[{key:"destroy",value:h},{key:"hasWorld",get:d},{key:"id",get:p},{key:"mouseX",get:v,set:y},{key:"mouseY",get:m,set:g},{key:"ejectAttempts",get:b,set:w},{key:"splitAttempts",get:_,set:k},{key:"ejectMacroPressed",get:S,set:T},{key:"spawnRequested",get:x,set:U},{key:"color",get:C,set:I},{key:"world_ptr",get:P,set:O},{key:"controller_ptr",get:R,set:E},{key:"nick_ptr",get:M,set:A},{key:"nick",get:j,set:L}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),F}(n(552).Z)},1728:(e,t,n)=>{"use strict";n.d(t,{N:()=>p});var r=n(552);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(){if(this.checkView())return this._buffer=new Uint32Array(this.wasm.memory.buffer,this.view.getUint32(0,!0),this.byteLength/4)}function l(){return this.updateBuffer(),this._buffer}function f(){return this.checkView(),this.view.getUint32(12,!0)}function h(e){this.checkView(),this.view.setUint32(12,e,!0)}function d(){return this.checkView(),this.view.getUint32(8,!0)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(y,e);var t,n,r,o,p,v=(t=y,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=u(t);if(n){var o=u(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return s(this,e)});function y(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(n=v.call(this,e,t)).pointer=t,n.updateBuffer(),n}return r=y,(o=[{key:"updateBuffer",value:c},{key:"buffer",get:l},{key:"size",get:f,set:h},{key:"byteLength",get:d}])&&i(r.prototype,o),p&&i(r,p),Object.defineProperty(r,"prototype",{writable:!1}),y}(r.Z);r.Z},7654:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){if(this.clients.has(e))return this.clients.get(e);var t=new f(e);return this.clients.set(e,t),t}function a(e,t){if(this.players.has(e))return this.players.get(e);var n=new h(e,t);return this.players.set(e,n),n}function s(e){if(this.clients.has(e))return this.clients.delete(e)}function u(e){if(this.players.has(e))return this.players.delete(e)}function c(){this.clients.clear(),this.players.clear()}n.d(t,{cR:()=>l});var l=function(){function e(){r(this,e),this.clients=new Map,this.players=new Map,this.cells=new Map}var t,n;return t=e,(n=[{key:"getClient",value:i},{key:"getPlayer",value:a},{key:"remClient",value:s},{key:"remPlayer",value:u},{key:"clear",value:c}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),f=function e(t){r(this,e),this.id=t,this.isBot=!1,this.nick="An unnamed cell",this.team=""},h=function e(t,n){r(this,e),this.client=n,this.id=t,this.nick="An unnamed cell",this.color="#ffffff",this.protocol_color="#ffffff",this.skin=""}},2284:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(7472),o=n(1493);function i(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){if(!e)throw Error("Cant convert:",e);return this.regex.tokenAgar.test(e)?"wss://live-arena-"+e+".agar.io:443":this.regex.tokenUniversal.test(e)?"wss://"+atob(e):""}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(this.regex.wsAgar);if(t)return t[1];var n=e.match(this.regex.wsUniversal);return n&&n[1]&&n[1].indexOf("raga")>-1||n&&n[1]?btoa(n[1]):""}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(this.regex.tokenParty);return t&&t[1]?t[1]:""}function l(e){var t,n,r,o,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t=this.tokenToWs(e))){a.next=3;break}return a.abrupt("return",t);case 3:if(!(n=e.match(this.regex.tokenRaga))||!n[1]){a.next=8;break}return a.next=7,this.RagaApi.findServer(n[1]);case 7:case 15:return a.abrupt("return",a.sent);case 8:if(!(r=e.match(this.regex.wsUniversal))||!r[1]){a.next=11;break}return a.abrupt("return",r[0]);case 11:if(!(o=e.match(this.regex.tokenParty))||!o[1]){a.next=16;break}return a.next=15,this.MCAPI.getPartyServer(o[1]);case 16:if(!(i=e.match(this.regex.anyUniversal))||!i[0]){a.next=19;break}return a.abrupt("return",i[0]);case 19:throw Error("Cant convert",e);case 20:case"end":return a.stop()}}),l,this)}function f(){this.wsToToken("wss://live-arena-1n2ac4v.agar.io:443"),this.wsToToken("wss://delta-ffa.glitch.me"),this.tokenToWs("1n2ac4v"),this.tokenToWs("ZGVsdGEtZmZhLmdsaXRjaC5tZQ==")}var h=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.regex={wsAgar:/live-arena-([\w\d]+(\.tech)?)\.agar\.io/,wsUniversal:/wss?:\/\/(.+)/,anyUniversal:/^(.+)$/,tokenAgar:/^[a-z0-9]{5,}(\.tech)?$/,tokenUniversal:/^[a-zA-Z0-9=+/]{12,}$/,tokenParty:/([A-Z0-9]{6})/,tokenRaga:/^srv:\/\/(.+?)$/},this.RagaApi=o.v,this.MCAPI=r.Z}var t,n,h,d;return t=e,(n=[{key:"tokenToWs",value:s},{key:"wsToToken",value:u},{key:"extractTokenParty",value:c},{key:"getWs",value:(h=regeneratorRuntime.mark(l),d=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=h.apply(e,t);function a(e){i(o,n,r,a,s,"next",e)}function s(e){i(o,n,r,a,s,"throw",e)}a(void 0)}))},function(e){return d.apply(this,arguments)})},{key:"test",value:f}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());window.tokensUtil=h;const d=h},780:(e,t,n)=>{"use strict";n.d(t,{V:()=>te,g:()=>ie});var r=n(1148),o=n(8967),i=n(5537),a=n(4602);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},u.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.yK.Component,i.yK.render,i.yK.h,i.yK.createRef,i.rl.useState;var w=i.rl.useEffect;function _(){var e=this,t="auth_";Object.assign(this.memory,storage.get(t+this.name)),this.memory.on("*",(function(){storage.set(t+e.name,e.memory)}))}i.rl.useRef;var k=function(e){d(n,e);var t=v(n);function n(){var e;l(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return b(m(e=t.call.apply(t,[this].concat(i))),"name","dummy"),b(m(e),"typeId",0),b(m(e),"token",""),b(m(e),"state",(0,o.fC)({expiration:0,logged:!1})),b(m(e),"memory",(0,o.fC)({enabled:!1})),e}return h(n,[{key:"init",value:_}]),n}(o.aN),S=null;function T(){this.logout(),this.connect()}function x(){this.memory.enabled=!0,S.signIn(),S.currentUser.get(),!S.isSignedIn.get()&&S.signIn()}function U(e){if(console.log("readUser"),e&&S&&this.memory.enabled&&S.isSignedIn.get()){var t=e.getAuthResponse(),n=e.getBasicProfile();this.state.expiration=t.expires_at,this.token=t.id_token,this.user.picture=n.getImageUrl(),this.user.first_name=n.getGivenName(),this.user.last_name=n.getFamilyName(),this.user.id=n.getId(),this.emit("user",this),this.emit("login",this)}}function C(){}function I(){console.log("readUser"),this.memory.enabled&&this.connect()}function P(){this.memory.enabled=!1,this.logout()}function O(){S.signOut(),this.token=null,this.state.logged=!1,this.user={},this.tries=0,this.emit("logout",this)}function R(e){j.readUser(e)}function E(){(S=window.gapi.auth2.init({client_id:"686981379285-oroivr8u2ag1dtm3ntcs6vi05i3cpv0j.apps.googleusercontent.com",cookie_policy:"single_host_origin",cookiepolicy:"single_host_origin",scope:"profile",app_package_name:"com.miniclip.agar.io"})).currentUser.listen(R)}function M(){window.gapi.load("auth2",E)}function A(){!function(e,t,n){var r=e.getElementsByTagName(t)[0];if(!e.getElementById(n)){var o=e.createElement(t);o.id=n,o.src="https://apis.google.com/js/client:platform.js?onload=gapiAsyncInit",r.parentNode.insertBefore(o,r)}}(document,"script","GAPI"),window.gapiAsyncInit=M}var j=window.GlAccount=new(function(e){d(n,e);var t=v(n);function n(){var e,r;return l(this,n),b(m(r=t.call(this)),"name","Google"),b(m(r),"typeId",4),u((e=m(r),g(n.prototype)),"init",e).call(e),r.user={},r.tries=0,r}return h(n,[{key:"reconnect",value:T},{key:"connect",value:x},{key:"readUser",value:U},{key:"read",value:C},{key:"start",value:I},{key:"setLogout",value:P},{key:"logout",value:O},{key:"init",value:A}]),n}(k));function L(){this.logout(),this.start()}function F(){var e=this;this.memory.enabled=!0,window.FB?window.FB.login((function(t){return e.loginHandler(t)}),{scope:"public_profile, email"}):alert("You seem to have something blocking Facebook on your browser, please check for any extensions")}function D(e){"connected"===e.status&&(this.token=e.authResponse.accessToken,this.token?(this.state.expiration=Date.now()+1e3*e.expiresIn,this.readUser(),this.emit("login",this)):this.tries<3&&(this.tries++,this.connect(),this.logout()))}function K(){var e=this;this.token&&window.FB.api("/me/?fields=picture.width(128),first_name,last_name&width=280&height=280",(function(t){t&&(t.picture&&t.picture.data&&t.picture.data.url&&(e.user.picture=t.picture.data.url),e.user.first_name=t.first_name,e.user.last_name=t.last_name,e.user.id=t.id,e.emit("user",e))}))}function X(){var e=this;this.token&&window.FB.api("/me/friends?fields=name,id,picture.width(128),canReceiveGift&limit=5000",(function(t){e.friends=t.friends,e.emit("friends"),console.log("readFriendsFB",t)}))}function B(e){this.memory.enabled&&this.loginHandler(e)}function N(){this.memory.enabled=!0,this.logout()}function z(e){}function q(){window.FB.logout(z),this.token=null,this.state.logged=!1,this.user={},this.tries=0,this.emit("logout",this)}function H(e){"connected"===e.status&&e.authResponse?Y.start(e):Y.logout()}function W(){window.FB.getLoginStatus(H)}function G(){window.FB.init({appId:677505792353827,cookie:!0,xfbml:!1,status:!0,version:"v3.2"}),setTimeout(W,0)}function V(){!function(e,t,n){var r=e.getElementsByTagName(t)[0];if(!e.getElementById(n)){var o=e.createElement(t);o.id=n,o.src="https://connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(o,r)}}(document,"script","facebook-jssdk"),window.fbAsyncInit=G}var Y=window.FbAccount=new(function(e){d(n,e);var t=v(n);function n(){var e,r;return l(this,n),b(m(r=t.call(this)),"name","Facebook"),b(m(r),"typeId",2),u((e=m(r),g(n.prototype)),"init",e).call(e),r.user={},r.tries=0,r}return h(n,[{key:"reconnect",value:L},{key:"connect",value:F},{key:"loginHandler",value:D},{key:"readUser",value:K},{key:"readFriends",value:X},{key:"start",value:B},{key:"setLogout",value:N},{key:"logout",value:q},{key:"init",value:V}]),n}(k));function Z(e){Y.token||j.token||(this.storage.realmpriority=e,console.log("setFirstPriority",e))}function Q(e,t){if("master"!==t.tabName&&"slave"!==t.tabName)return!1;t.realm_events.ev.length>0&&console.error("Fatal error"),t.realm_events.listenTo(t,"estabilished",(function(){e.token&&t.sendAccessToken(e.token,e.typeId)})),t.realm_events.listenTo(t,"spawn",(function(){t.accessTokenSent&&e.token&&t.sendAccessToken(e.token,e.typeId)}));var n=t.realm_events.listenTo(t,"logout",(function(t){switch(t){case 3:case 6:case 7:case 8:case 12:case 15:break;default:e.logout(),e.connect()}}));t.realm_events.listenTo(t,"112",n),t.realm_events.listenTo(e,"login",(function(){t.estabilished&&e.token&&t.sendAccessToken(e.token,e.typeId)})),t.realm_events.listenTo(t,"removeEvents",(function(){t.realm_events.unlisten()}))}function J(e){e.realm_events.unlisten()}function $(){var e=this;this.storage.realmpriority="Facebook"===this.storage.realmpriority?"Google":"Facebook",console.log(this.storage.realmpriority,"Google"===this.storage.realmpriority?"Facebook":"Google"),this.app.clients.render.forEach(J),this.app.clients.render.forEach((function(t){var n="Facebook"==e.storage.realmpriority&&"master"==t.tabName||"Facebook"!=e.storage.realmpriority&&"slave"==t.tabName?Y:j;e.initClientEvents(n,t)})),this.app.reconnect()}function ee(e){var t=this;this.app=e,this.app.on("initClient",(function(e){var n="Facebook"==t.storage.realmpriority&&"master"==e.tabName||"Facebook"!=t.storage.realmpriority&&"slave"==e.tabName?Y:j;t.initClientEvents(n,e)}))}Y.init(),j.init();var te=window.accs=new(function(e){d(n,e);var t=v(n);function n(){var e;l(this,n),(e=t.call(this)).realms={Facebook:Y,Google:j},e.tabsPriority=["master","slave"];var r={instances:[],realmpriority:"Facebook"};return Object.assign(r,storage.get("deltaAccs")),e.storage=(0,o.fC)(r),e.storage.on("*",(function(){storage.set("deltaAccs",e.storage)})),e}return h(n,[{key:"setFirstPriority",value:Z},{key:"initClientEvents",value:Q},{key:"swapPrimary",value:$},{key:"init",value:ee}]),n}(o.aN));function ne(){te.swapPrimary()}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){return r.Zr.displayChatInfo(null,e+" login successfully")}te.realms[e].token?(r.Zr.displayChatInfo(null,"Please, refresh server"),te.realms[e].memory.enabled=!1,te.realms[e].logout()):(te.realms[e].once("login",t),te.realms[e].memory.enabled=!0,te.setFirstPriority(e),te.realms[e].connect())}function oe(){var e=this;function t(t){return e.setState({fb_logged:!0})}function n(t){return e.setState({fb_logged:!1})}function r(t){return e.setState({gl_logged:!0})}function o(t){return e.setState({gl_logged:!1})}function a(){e.setState({reversed:"Facebook"!==te.storage.realmpriority})}return w((function(){e.listenTo(Y,"login",t),e.listenTo(Y,"logout",n),e.listenTo(j,"login",r),e.listenTo(j,"logout",o),e.listenTo(te.storage,"realmpriority",a)(),e.setState({fb_logged:!!Y.token}),e.setState({gl_logged:!!j.token})}),[1]),i.yK.h("div",{class:"row",id:"realms",style:{"flex-direction":this.state.reversed?"row-reverse":"row"}},i.yK.h("div",{class:"gy-1 col"},i.yK.h("div",{class:"btn btn-colored size-small"+(this.state.fb_logged?" active":""),onclick:function(){return e.clickButton("Facebook")},style:"--data-background:#4267B2"},i.yK.h("div",{class:"btn-layer",role:"tooltip","data-microtip-position":"bottom"},i.yK.h("tty",null,"Facebook"),i.yK.h("div",{class:"btn-icon fab fa-facebook-f"})))),i.yK.h("div",{class:"gy-1 col-2"},i.yK.h("div",{onclick:this.swapPrimary,class:"btn size-small"},i.yK.h("div",{class:"btn-layer",role:"tooltip","data-microtip-position":"bottom"},i.yK.h("tty",null,"Swap accounts"),i.yK.h("div",{class:"btn-logo"},i.yK.h("div",{class:"btn-icon fas fa-exchange-alt"}))))),i.yK.h("div",{class:"gy-1 col"},i.yK.h("div",{class:"btn btn-colored size-small"+(this.state.gl_logged?" active":""),onclick:function(){return e.clickButton("Google")},style:"--data-background:#DB4437"},i.yK.h("div",{class:"btn-layer",role:"tooltip","data-microtip-position":"bottom"},i.yK.h("tty",null,"Google"),i.yK.h("div",{class:"btn-logo"},i.yK.h("div",{class:"btn-icon fab fa-google"}))))))}var ie=function(e){d(n,e);var t=v(n);function n(){var e;l(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return b(m(e=t.call.apply(t,[this].concat(o))),"state",{fb_logged:Y.state.logged,gl_logged:j.state.logged,reversed:"Facebook"!==te.storage.realmpriority}),b(m(e),"swapPrimary",ne),e}return h(n,[{key:"clickButton",value:re},{key:"render",value:oe}]),n}(a.l)},7472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(8967),o=n(7298);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,u,"next",e)}function u(e){a(i,r,o,s,u,"throw",e)}s(void 0)}))}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function d(e){for(var t=0,n=0;e.length>n;n++)t+=e[n][1];var r=function(e,t){return Math.round(Math.random()*(t-0+1)-.5)}(0,t);for(n=0;e.length>n;n++){var o=t;if(r>=(t-=e[n][1])&&o>=r)return e[n][0]}}function p(){var e=this;return new Promise((function(t,n){var r=e.xhr=new XMLHttpRequest;r.open("GET","https://agar.io/agario.core.js",!0),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var e=Number(r.responseText.match(/\w\[\w\+\d+>>\d\]=\w;\w+\(\w,(\d+)\);/)[1]);t(e)}},r.onerror=n,r.send()}))}function v(){var e=this;return new Promise((function(t,n){var r=e.xhr=new XMLHttpRequest,i=0;r.open("GET","https://agar.io/mc/agario.js?",!0),r.onprogress=function(e){return i=e.loaded},r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var n=r.responseText,a=n.match(/versionString=\"(\d+\.\d+\.\d+)\"/);a&&(e.log("client version",a[1],"(".concat((0,o.t)(i),")")),e.data.client_version_string!=a[1]&&(e.data.client_version_string=a[1]));var s=n.match(/x-support-proto-version","(\d+\.\d+\.\d+)"/);s&&(e.log("proto version",s[1],"(".concat((0,o.t)(i),")")),e.data.proto_version=s[1]),t()}},r.onerror=n,r.send()}))}function y(e){var t=this;return new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET","https://".concat(t.data.master_host,"/getLatestID"),!0),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var n=r.responseText,i=r.getResponseHeader("Content-Length");t.log("config id",n,"(".concat((0,o.t)(i),")")),t.data.latest_config_id!=n&&(t.data.latest_config_id=n),e(n)}},r.onerror=n,r.send()}))}function m(){var e=this;return new Promise((function(t,n){var r=e.xhr=new XMLHttpRequest;r.open("GET","https://"+e.data.master_host+"/getCountry",!0),r.onreadystatechange=function(){4==r.readyState&&200==r.status&&t(JSON.parse(r.responseText))},r.onerror=n,r.send()}))}function g(){var e=this;return new Promise((function(t,n){var r=new XMLHttpRequest,i=0;r.onprogress=function(e){return i=e.loaded},r.open("GET","https://configs-web.agario.miniclippt.com/live/v15/".concat(e.data.latest_config_id,"/GameConfiguration.json"),!0),r.onreadystatechange=function(){4==r.readyState&&200==r.status&&(e.log("game configs received","(".concat((0,o.t)(i),")")),t(JSON.parse(r.responseText)))},r.onerror=function(){console.error("AJAX in gameConfiguration server errored out!"),n()},r.send()}))}function b(e){e=JSON.parse(e)}function w(){this.makeMasterSimpleRequest("info").then(b)}function _(e,t,n,r){var o=this.generatePayload(e,t);this.getRandomServer("findServer",o,e,t).then((function(e){return n(e)})).catch((function(e){return r(e)}))}function k(e,t,n,r){var o;function i(e){return n(e)}function a(e){return r(e)}return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=d([[e,80],["RU-Russia",20]]),o=this.generatePayload(e,t),n.next=5,this.getRandomServer("findServer",o,e,t).then(i).catch(a);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),k,this)}function S(e,t,n){var r=[],o=function(e){r.push(e.length);for(var t=0;t<e.length;t++)r.push(e.charCodeAt(t))};return r.push(10,2+e.length+2+t.length,10),o(e),r.push(18),o(t),n&&(r.push(26,8,10),o(n)),new Uint8Array(r)}function T(e,t,n,r){var o=this;return new Promise((function(i,a){var s=o.xhr=new XMLHttpRequest;s.open("POST","https://"+o.data.master_host+"/"+o.data.endpoint_version+"/"+e,!0),s.setRequestHeader("x-support-proto-version",o.data.proto_version),s.setRequestHeader("x-client-version",o.data.client_version+""),s.setRequestHeader("Accept","q=0.01"),s.setRequestHeader("Content-Type","application/octet-stream"),s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var e=JSON.parse(s.responseText);if(e.region=n,e.gamemode=r,e.endpoints.https.indexOf("0.0.0.0")>-1)return a;i(e),o.emit("endpoint",e)}},s.onerror=a,s.send(t)}))}function x(e,t){var n=this;return new Promise((function(r,o){var i=n.xhr=new XMLHttpRequest;i.open("GET","https://"+n.data.master_host+"/"+e,!0),i.setRequestHeader("x-support-proto-version",n.data.proto_version),i.setRequestHeader("x-client-version",n.data.client_version+""),i.setRequestHeader("Accept","q=0.01"),i.setRequestHeader("Content-Type","application/octet-stream"),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&r(i.responseText)},i.onerror=o,i.send(t)}))}function U(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=this.generatePayload(e,":party"),r.next=3,this.getRandomServer("createToken",t);case 3:if(!(n=r.sent)){r.next=6;break}return r.abrupt("return",n.token);case 6:case"end":return r.stop()}}),U,this)}function C(e){var t,n,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=e.replace("#",""),t=this.generatePayload("","",e),!this.partyTokenCache.get(e)){o.next=4;break}return o.abrupt("return",this.partyTokenCache.get(e));case 4:return o.next=6,this.getRandomServer("getToken",t);case 6:return n=o.sent,r="wss://"+n.endpoints.https+"/?party_id="+e,this.partyTokenCache.set(e,r),o.abrupt("return",r);case 10:case"end":return o.stop()}}),C,this)}function I(e){window.history&&window.history.replaceState&&window.history.replaceState({},window.document.title,location.origin+location.pathname+""+e.replace("/",""))}function P(){}function O(e){}function R(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O;if(!t)throw Error("empty argument");if(!n)throw Error("empty argument");function i(){s()}var a=function(){setTimeout(i,e.backoffPeriod*=2)},s=function(){var i=Date.now();e.findingServer=i;var s=++e.curValidFindServer;e.findEndpoint(t,n,(function(t){if(s==e.curValidFindServer){if(null===t.endpoints||"0.0.0.0:0"===t.endpoints.https)return o&&o(t),void console.log("Вернуло ничего, проблема");null!==t.token&&(e.partyToken=t.token);var n="wss://".concat(t.endpoints.https).concat(t.token?"/?party_id="+t.token:"");e.backoffPeriod=500,r(n)}}),a)};s()}const E=window.MCAPI=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(O,e);var t,n,o,i,a,d,b,P=(d=O,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(d);if(b){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function O(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),(e=P.call(this)).isAgarioHost="agar.io"===location.host,e.log=console.log,e.isDebug=!0,(0,r.qc)(!0,f(e),"[[33mMCAPI[39m]:"),e.MCConfigs=null,e.partyTokenFromUrl="",e.McComebackTimeout=0,e.findingServer=0,e.curValidFindServer=0,e.backoffPeriod=500,e.langCodes={AF:"JP-Tokyo",AX:"EU-London",AL:"EU-London",DZ:"EU-London",AS:"SG-Singapore",AD:"EU-London",AO:"EU-London",AI:"US-Atlanta",AG:"US-Atlanta",AR:"BR-Brazil",AM:"JP-Tokyo",AW:"US-Atlanta",AU:"SG-Singapore",AT:"EU-London",AZ:"JP-Tokyo",BS:"US-Atlanta",BH:"JP-Tokyo",BD:"JP-Tokyo",BB:"US-Atlanta",BY:"RU-Russia",BE:"EU-London",BZ:"US-Atlanta",BJ:"EU-London",BM:"US-Atlanta",BT:"JP-Tokyo",BO:"BR-Brazil",BQ:"US-Atlanta",BA:"EU-London",BW:"EU-London",BR:"BR-Brazil",IO:"JP-Tokyo",VG:"US-Atlanta",BN:"JP-Tokyo",BG:"EU-London",BF:"EU-London",BI:"EU-London",KH:"JP-Tokyo",CM:"EU-London",CA:"US-Atlanta",CV:"EU-London",KY:"US-Atlanta",CF:"EU-London",TD:"EU-London",CL:"BR-Brazil",CN:"CN-China",CX:"JP-Tokyo",CC:"JP-Tokyo",CO:"BR-Brazil",KM:"EU-London",CD:"EU-London",CG:"EU-London",CK:"SG-Singapore",CR:"US-Atlanta",CI:"EU-London",HR:"EU-London",CU:"US-Atlanta",CW:"US-Atlanta",CY:"JP-Tokyo",CZ:"EU-London",DK:"EU-London",DJ:"EU-London",DM:"US-Atlanta",DO:"US-Atlanta",EC:"BR-Brazil",EG:"EU-London",SV:"US-Atlanta",GQ:"EU-London",ER:"EU-London",EE:"EU-London",ET:"EU-London",FO:"EU-London",FK:"BR-Brazil",FJ:"SG-Singapore",FI:"EU-London",FR:"EU-London",GF:"BR-Brazil",PF:"SG-Singapore",GA:"EU-London",GM:"EU-London",GE:"JP-Tokyo",DE:"EU-London",GH:"EU-London",GI:"EU-London",GR:"EU-London",GL:"US-Atlanta",GD:"US-Atlanta",GP:"US-Atlanta",GU:"SG-Singapore",GT:"US-Atlanta",GG:"EU-London",GN:"EU-London",GW:"EU-London",GY:"BR-Brazil",HT:"US-Atlanta",VA:"EU-London",HN:"US-Atlanta",HK:"JP-Tokyo",HU:"EU-London",IS:"EU-London",IN:"JP-Tokyo",ID:"JP-Tokyo",IR:"JP-Tokyo",IQ:"JP-Tokyo",IE:"EU-London",IM:"EU-London",IL:"JP-Tokyo",IT:"EU-London",JM:"US-Atlanta",JP:"JP-Tokyo",JE:"EU-London",JO:"JP-Tokyo",KZ:"JP-Tokyo",KE:"EU-London",KI:"SG-Singapore",KP:"JP-Tokyo",KR:"JP-Tokyo",KW:"JP-Tokyo",KG:"JP-Tokyo",LA:"JP-Tokyo",LV:"EU-London",LB:"JP-Tokyo",LS:"EU-London",LR:"EU-London",LY:"EU-London",LI:"EU-London",LT:"EU-London",LU:"EU-London",MO:"JP-Tokyo",MK:"EU-London",MG:"EU-London",MW:"EU-London",MY:"JP-Tokyo",MV:"JP-Tokyo",ML:"EU-London",MT:"EU-London",MH:"SG-Singapore",MQ:"US-Atlanta",MR:"EU-London",MU:"EU-London",YT:"EU-London",MX:"US-Atlanta",FM:"SG-Singapore",MD:"EU-London",MC:"EU-London",MN:"JP-Tokyo",ME:"EU-London",MS:"US-Atlanta",MA:"EU-London",MZ:"EU-London",MM:"JP-Tokyo",NA:"EU-London",NR:"SG-Singapore",NP:"JP-Tokyo",NL:"EU-London",NC:"SG-Singapore",NZ:"SG-Singapore",NI:"US-Atlanta",NE:"EU-London",NG:"EU-London",NU:"SG-Singapore",NF:"SG-Singapore",MP:"SG-Singapore",NO:"EU-London",OM:"JP-Tokyo",PK:"JP-Tokyo",PW:"SG-Singapore",PS:"JP-Tokyo",PA:"US-Atlanta",PG:"SG-Singapore",PY:"BR-Brazil",PE:"BR-Brazil",PH:"JP-Tokyo",PN:"SG-Singapore",PL:"EU-London",PT:"EU-London",PR:"US-Atlanta",QA:"JP-Tokyo",RE:"EU-London",RO:"EU-London",RU:"RU-Russia",RW:"EU-London",BL:"US-Atlanta",SH:"EU-London",KN:"US-Atlanta",LC:"US-Atlanta",MF:"US-Atlanta",PM:"US-Atlanta",VC:"US-Atlanta",WS:"SG-Singapore",SM:"EU-London",ST:"EU-London",SA:"EU-London",SN:"EU-London",RS:"EU-London",SC:"EU-London",SL:"EU-London",SG:"JP-Tokyo",SX:"US-Atlanta",SK:"EU-London",SI:"EU-London",SB:"SG-Singapore",SO:"EU-London",ZA:"EU-London",SS:"EU-London",ES:"EU-London",LK:"JP-Tokyo",SD:"EU-London",SR:"BR-Brazil",SJ:"EU-London",SZ:"EU-London",SE:"EU-London",CH:"EU-London",SY:"EU-London",TW:"JP-Tokyo",TJ:"JP-Tokyo",TZ:"EU-London",TH:"JP-Tokyo",TL:"JP-Tokyo",TG:"EU-London",TK:"SG-Singapore",TO:"SG-Singapore",TT:"US-Atlanta",TN:"EU-London",TR:"TK-Turkey",TM:"JP-Tokyo",TC:"US-Atlanta",TV:"SG-Singapore",UG:"EU-London",UA:"RU-Russia",AE:"EU-London",GB:"EU-London",US:"US-Atlanta",UM:"SG-Singapore",VI:"US-Atlanta",UY:"BR-Brazil",UZ:"JP-Tokyo",VU:"SG-Singapore",VE:"BR-Brazil",VN:"JP-Tokyo",WF:"SG-Singapore",EH:"EU-London",YE:"JP-Tokyo",ZM:"EU-London",ZW:"EU-London"};var t="mc_api2",n={master_host:"webbouncer-live-v8-0.agario.miniclippt.com",endpoint_version:"v4",proto_version:"15.0.3",client_version:31103,client_version_string:"3.11.3",latest_config_id:"10078",protocol_version:23};function o(t){window.Texture.getVanillaSkinsLinks(t,f(e)),e.MCConfigs=t}return Object.assign(n,r.tO.get(t)),e.data=(0,r.fC)(n),e.data.on("client_version_string",(function(t){e.data.client_version=1e4*parseInt(t.split(".")[0])+100*parseInt(t.split(".")[1])+parseInt(t.split(".")[2])})),e.data.on("*",(function(){r.tO.set(t,e.data)})),!(location.href.indexOf("dev2")>-1)&&e.isAgarioHost&&e.getClientVersion(),e.isAgarioHost&&setInterval((function(){e.refreshRegionNumPlayers()}),18e4),e.isAgarioHost&&e.refreshRegionNumPlayers(),e.isAgarioHost&&e.getLatestID().then((function(){e.getGameConfigs().then(o)})),e.partyTokenCache=new Map,e}return t=O,n=[{key:"getProtocolVersion",value:p},{key:"getClientVersion",value:v},{key:"getLatestID",value:y},{key:"getRegionCode",value:m},{key:"getGameConfigs",value:g},{key:"refreshRegionNumPlayers",value:w},{key:"findEndpoint",value:_},{key:"findEndpointAsync",value:(a=s(regeneratorRuntime.mark(k)),function(e,t,n,r){return a.apply(this,arguments)})},{key:"generatePayload",value:S},{key:"getRandomServer",value:T},{key:"makeMasterSimpleRequest",value:x},{key:"createPartyToken",value:(i=s(regeneratorRuntime.mark(U)),function(e){return i.apply(this,arguments)})},{key:"getPartyServer",value:(o=s(regeneratorRuntime.mark(C)),function(e){return o.apply(this,arguments)})},{key:"setURL",value:I},{key:"getServer",value:R}],n&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),O}(r.aN))},7042:(e,t,n)=>{"use strict";n.d(t,{l:()=>x,z:()=>k});var r=n(8967),o=(n(340),n(4857)),i=n(6524);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e){e&&e.destroy()}function g(){var e=this;Object.keys(this.all).forEach((function(t){e.emit(t),e.rem(t)}))}function b(e){this.emit(e),this.rem(e)}function w(e){var t=!1;if(this.has(e[this.indexId]))if(t=!0,e.destroy){var n=this.get(e[this.indexId]);n.destroy(),this.remove(n[this.indexId]),this.add(e)}else this.set(this.all,e[this.indexId],e);else this.add(e);this.emit(e[this.indexId],e,t)}function _(e){return(this.get(e)||{}).amount}var k=function(e){f(n,e);var t=d(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).on("remove",m),e}return l(n,[{key:"flush",value:g},{key:"remove",value:b},{key:"update",value:w},{key:"amount",value:_}]),n}(r.FA);function S(e){this._.options.ontick(e)}function T(){this.timer&&this.timer.stop(),this.unlisten()}var x=function(e){f(n,e);var t=d(n);function n(e,r,a){var c;u(this,n),s(v(c=t.call(this)),"expiresInSeconds",0),s(v(c),"gameType",0),s(v(c),"goal",0),s(v(c),"productId","quest_activation_24h"),s(v(c),"type","highest_mass"),s(v(c),"progress",0),s(v(c),"done",!1),s(v(c),"prevLbPos",0),s(v(c),"prevScore",0),s(v(c),"timer",null),s(v(c),"parent",null),Object.assign(v(c),a),c.client=r,c.parent=e;var l=v(c);return"food_eaten"===c.type&&c.listenTo(c.client.counter,"eatPellet",(function(){c.done||(c.progress=c.client.counter.eatPellet,c.emit(n.events.progress),c.client.counter.eatPellet>=c.goal&&c.onDone())})),"viruses_eaten"===c.type&&c.listenTo(c.client.counter,"eatVirus",(function(){c.done||(c.progress=c.client.counter.eatVirus,c.emit(n.events.progress),c.client.counter.eatVirus>=c.goal&&c.onDone())})),"normal_cells_eaten"===c.type&&c.listenTo(c.client.counter,"counterAll",(function(){c.done||(c.progress=c.client.counter.counterAll,c.emit(n.events.progress),c.client.counter.counterAll>=c.goal&&c.onDone())})),"top_position"===c.type&&c.listenTo(c.client,"leaderboard",(function(){c.done||(c.client.playerPosition!=c.prevLbPos&&(c.progress=c.client.playerPosition,c.emit(n.events.progress)),c.prevLbPos=c.client.playerPosition,0!=c.client.playerPosition&&c.client.playerPosition<=c.goal&&c.onDone())})),"highest_mass"===c.type&&c.listenTo(i.X,"render",(function(){c.done||(c.client.unitManager.activeUnit.score!=c.prevScore&&(c.progress=c.client.unitManager.activeUnit.score,c.emit(n.events.progress)),c.prevScore=c.client.unitManager.activeUnit.score,c.client.unitManager.activeUnit.play&&c.client.unitManager.activeUnit.score>=c.goal&&c.onDone())})),"time_total"===c.type&&(c.timer=new o.B7({tick:.9,ontick:function(e){l.progress=e,l.emit(n.events.progress)},onstart:S,onend:function(){l.onDone()}}),c.timer.start(c.goal),c.timer.stop(),c.listenTo(c.client.unitManager.units[0],"spawn",(function(){c.client.unitManager.units[0].play&&c.timer.start(c.goal)}))(),c.listenTo(c.client.unitManager.activeUnit,"death",(function(){c.timer.stop(),c.timer.start(c.goal),c.timer.stop()}))),c.once(n.events.done,(function(){var e=c.listenTo(c.client.unitManager.activeUnit,"death",(function(){c.client.unitManager.activeUnit.removeListener("death",e),c.parent.remove(c.productId)}))})),c}return l(n,[{key:"onDone",value:function(){console.log("quest done",this.type),this.done=!0,this.emit(n.events.done)}},{key:"destroy",value:T}]),n}(r.aN);s(x,"events",{progress:"progress",done:"done"})},7404:(e,t,n)=>{"use strict";n.d(t,{E:()=>N});var r=n(340),o=n(7472),i=n(2267),a=n(4977),s=n(115),u=(n(9564),n(1205)),c=n(3689);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=d(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,_(e,t,"set"),n),n}function w(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,_(e,t,"get"))}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var k=new WeakMap;function S(){this.sendClientProtocol(),this.sendClientVersion()}function T(){var e=new u.Q;e.writeUInt8(126),e.writeUInt32(22),this.sendMessage(e)}function x(){var e=new u.Q;e.writeUInt8(255),e.writeUInt32(this.client_version),this.sendMessage(e)}function U(e){this.handleMessage(e)}function C(e){switch(e.readUInt8()){case 13:for(var t=e.readUInt8(),n=0;t>n;n++){var o=e.readUInt16(),u=e.readFloat64();this.client.emit("local-server-stats",o,u)}break;case 32:break;case 16:this.client.beforeUpdateCells();for(var c=e.readUInt16(),l=e.readUInt16(),f=e.readUInt16(),h=f,d=e.readUInt16(),p=0;2>p;p++)for(var v=[c,l][p];v--;){var y=e.readUInt32(),m=!1,g=null,b=255,w=255,_=null,k="",S=!1,T=!1,x=null,U=null,C=null,I=this.client.receiveX(e.readInt32()),P=this.client.receiveY(e.readInt32()),O=e.readUInt16(),R=e.readUInt8(),E=128&R?e.readUInt8():0;if(1&R&&(S=!0),2&R){var M=e.readUInt8(),A=e.readUInt8(),j=e.readUInt8();b=M<<16|A<<8|j,w=new s.Z(~~(.9*M),~~(.9*A),~~(.9*j)).getInt()}4&R&&(_=e.readUTF8StringZero()),8&R&&(k=decodeURIComponent(escape(e.readUTF8StringZero()))),32&R&&(x=!0),64&R&&(U=!0),1&E&&(T=!0),4&E&&(C=e.readUInt32());var L=T?r.bL.Type.food:S?r.bL.Type.virus:r.bL.Type.cell;this.client.indexedCells[y]?g=this.client.indexedCells[y]:(m=!0,(g=new r.bL(this.client,L,y,I,P,O,b,w)).isOtherFood=U,T?this.client.foods.push(g):S?(i.Xd.proxy.virusesRange&&this.client.viruses.push(g),this.client.cells.push(g)):(x&&!U&&this.client.emit("sfx","myEject",g),this.client.cells.push(g)),this.client.indexedCells[y]=g),_&&(g.hasVanillaCustomSkin=_.indexOf("%custom")>-1,g.skin=_.replace(/level_\d/,"level_1"),g.skinUserId=this.client.getCustomSkinId(_));var F=m&&C&&this.client.unitManager.getUnit(C);if(F&&!F.hasCell(g)&&(k=F.profile.nick,F.play||(this.client.resetCounter(),this.client.counter.playerSpawnTime=this.client.time),F.addCellID(y),F.addCell(g)),g.type!==r.bL.Type.food&&g.type!==r.bL.Type.virus&&null===g.playerOriginUnit){var D=null!==C?this.client.parent.findUnitOrigin(this.client,C,null):this.client.parent.findUnitOrigin(this.client,null,y);null!==D&&(g.playerOriginUnit=D)}C&&(g.accountID=C,g.isPlayerCell&&(_&&(this.player_protocol_skin=_),this.playerAID=C),this.client.cellAID.hasOwnProperty(C)?this.client.cellAID[C].push(y):this.client.cellAID[C]=[y]),g.targetX=I,g.targetY=P,g.targetSize=O,g.isPlayerCell&&g.calcAnti(O),k&&(g.targetNick=k,g.nameSkin=k.toLowerCase(),g.hasVanillaNamedSkin=!!a.x.vanillaSkinMap.get(g.nameSkin)),g.type!==r.bL.Type.virus&&g.targetSize!=O&&g.size<148&&this.client.emit("sfx","virusFeed",g,this),m&&this.client.emit("newCell",g)}for(var K=e.offset;f--;){var X=e.readUInt32(),B=e.readUInt32(),N=this.client.indexedCells[X],z=this.client.indexedCells[B];if(z)this.client.eatCellEvent(N,z);else{var q=e.offset;e.offset=K;for(var H=h;H--;){var W=e.readUInt32(),G=e.readUInt32();G==B&&console.log({i:h-H,ei:W,vi:G})}e.offset=q,console.log({eater_id:X,victim_id:B},{eater:N,victim:z})}}for(;d--;){var V=e.readUInt32(),Y=this.client.indexedCells[V];Y&&this.client.removeCell(Y)}this.client.afterUpdateCells(),this.client.countPps();break;case 63:var Z=e.readUInt32();this.client.unitManager.addUnit(Z,Z,this.client),console.log("self id",Z);break;default:e.offset--,this.client.handleMessage(e)}}function I(){this.client.flushGameData()}function P(e){this.protocolKey=e.readUInt32(),this.serverVersion=e.readUTF8StringZero()}function O(e){if(this.client.socket.readyState===WebSocket.OPEN){var t=e.view;this.client.socket.send(t?e.finalize():e.buffer)}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;e=unescape(encodeURIComponent(e));var n=new u.Q;n.writeUInt8(0),n.writeUInt16(t.protocol_tab_id),n.writeUTF8StringZero(e),this.sendMessage(n)}function E(e,t){var n=t.protocol_tab_id,r=new u.Q;r.writeUInt8(21),r.writeUInt16(n),this.sendMessage(r)}function M(e,t,n){var r=n.protocol_tab_id,o=new u.Q;o.writeUInt8(20),o.writeUInt16(r),o.writeUInt8(Number(e)),this.sendMessage(o)}function A(e,t){e&&e();var n=new u.Q;n.writeUInt8(17),n.writeUInt16(t.protocol_tab_id),n.writeUInt8(1),this.sendMessage(n)}function j(){this.sendAction(22)}function L(){this.sendAction(23)}function F(e,t){var n=this;if(e){if(w(this,k))return;t&&t(),this.sendBotEject(),b(this,k,setInterval((function(){t&&t(),n.sendBotEject()}),i.Xd.raw.macroFeeding.value))}else w(this,k)&&(clearInterval(w(this,k)),b(this,k,null))}function D(){this.sendAction(24)}function K(e){if(this.client.isSocketOpen()){var t=new u.Q;t.writeUInt8(e),this.sendMessage(t)}}function X(e,t,n){var r=new u.Q;r.writeUInt8(16),r.writeInt32(e),r.writeInt32(t),r.writeUInt16(n?n.protocol_tab_id:0),this.sendMessage(r)}function B(e){e.nick,e.tag,e.code,e.unit}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(s,e);var t,n,r,i,a=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(i){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e),k.set(y(t),{writable:!0,value:null}),g(y(t),"serverVersion","25.4.0"),g(y(t),"protocolKey",null),g(y(t),"encryptionKey",null),g(y(t),"gotCaptcha",!1),g(y(t),"gotCaptchа",!1),g(y(t),"accessTokenSent",!1),g(y(t),"loggedIn",!1),g(y(t),"serverTime",0),g(y(t),"serverTimeDiff",0),g(y(t),"loggedInTime",0),g(y(t),"client_version_string","3.10.9"),g(y(t),"client_version",o.Z.data.client_version),g(y(t),"client_protocol",o.Z.data.protocol_version),g(y(t),"ping",0),t}return t=s,(n=[{key:"onOpen",value:S},{key:"onClose",value:function(){clearInterval(w(this,k)),h(m(s.prototype),"onClose",this).call(this)}},{key:"destroy",value:function(){this.client.unitManager.removeAllUnits(),h(m(s.prototype),"destroy",this).call(this)}},{key:"sendClientProtocol",value:T},{key:"sendClientVersion",value:x},{key:"onMessage",value:U},{key:"handleMessage",value:C},{key:"readRotateProtocolKey",value:I},{key:"readChiperKey",value:P},{key:"sendMessage",value:O},{key:"sendSpawn",value:R},{key:"sendEject",value:E},{key:"sendMacro",value:M},{key:"sendSplit",value:A},{key:"sendBotSplit",value:j},{key:"sendBotEject",value:L},{key:"sendBotMacro",value:F},{key:"sendBotToggle",value:D},{key:"sendAction",value:K},{key:"sendCursorPosition",value:X},{key:"sendProfileData",value:B}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(c.b)},1928:(e,t,n)=>{"use strict";n.d(t,{C:()=>U,v:()=>q}),n(340);var r=n(7472),o=(n(9564),n(1205)),i=n(3689);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=u(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,y(e,t,"set"),n),n}function v(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,y(e,t,"get"))}function y(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t,n){for(var r=n||e.byteLength,o=0;r>o;o++)e.setUint8(o,e.getUint8(o)^t>>>o%4*8&255);return e}function _(e){return e=0|Math.imul(e,1540483477),e=114296087^(0|Math.imul(e>>>24^e,1540483477)),(e=0|Math.imul(e>>>13^e,1540483477))^e>>>15}function k(e){return e=1540483477*(65535&e)+(59797*(e>>>16)<<16),e=114296087^(0|Math.imul(e>>>24^e,1540483477)),(e=0|Math.imul(e>>>13^e,1540483477))^e>>>15}function S(e,t){for(var n,r=e.length,o=t^r,i=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(n>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++i;switch(r){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(i)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}function T(e,t){for(var n=0,r=0,o=e.length;n<o;){var i=e[n++],a=i>>4;if(a>0){for(var s=a+240;255===s;)a+=s=e[n++];for(var u=n+a;n<u;)t[r++]=e[n++];if(n===o)return t}var c=e[n++]|e[n++]<<8;if(0===c||c>r)return-(n-2);for(var l=15&i,f=l+240;255===f;)l+=f=e[n++];for(var h=r-c,d=r+l+4;r<d;)t[r++]=t[h++]}return t}function x(e){var t=e.getUint32(1,!0),n=this.uncompressMessage(new Uint8Array(e.buffer.slice(5)),new Uint8Array(t));return new DataView(n.buffer)}var U=function(){function e(){m(this,e)}return b(e,null,[{key:"xorBuffer",value:w},{key:"rotateKey_",value:_},{key:"rotateKey",value:k},{key:"murmur2",value:S},{key:"uncompressMessage",value:T},{key:"decompressMessage",value:x}]),e}();window.ProtocolUtils=U;var C=new WeakMap;function I(){this.sendClientProtocol(),this.sendClientVersion()}function P(){var e=new o.Q;e.writeUInt8(254),e.writeUInt32(this.client.isAgario?this.client_protocol:22),this.sendMessage(e)}function O(){var e=new o.Q;e.writeUInt8(255),e.writeUInt32(this.client_version),this.sendMessage(e)}function R(e){this.protocolKey&&(e.view=U.xorBuffer(e.view,this.protocolKey^this.client_version)),this.handleMessage(e)}function E(e){e.readUInt8(),e.offset--,this.client.handleMessage(e)}function M(){this.protocolKey&&(this.protocolKey=U.rotateKey(this.protocolKey)),this.client.flushGameData()}function A(e){this.protocolKey=e.readUInt32(),this.serverVersion=e.readUTF8StringZero(),this.encryptionKey=U.murmur2("".concat(this.client.ws.match(/(ws+:\/\/)([^:]*)(:\d+)?/)[2]).concat(this.serverVersion),255)}function j(e){if(this.client.socket.readyState===WebSocket.OPEN){var t=e.view;this.encryptionKey&&(t?U.xorBuffer(e.view,this.encryptionKey,e.offset):U.xorBuffer(e,this.encryptionKey,e.byteLength),this.encryptionKey=U.rotateKey(this.encryptionKey)),this.client.socket.send(t?e.finalize():e.buffer)}}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";e=unescape(encodeURIComponent(e));var n=new o.Q;n.writeUInt8(0),n.writeUTF8StringZero(e),n.writeUTF8StringZero(t),this.sendMessage(n)}function F(){this.sendAction(22)}function D(){this.sendAction(23)}function K(e,t){var n=this;if(e){if(v(this,C))return;t&&t(),this.sendBotEject(),p(this,C,setInterval((function(){t&&t(),n.sendBotEject()}),settings.raw.macroFeeding.value))}else v(this,C)&&(clearInterval(v(this,C)),p(this,C,null))}function X(){this.sendAction(24)}function B(e){if(this.client.isSocketOpen()){var t=new o.Q;t.writeUInt8(e),this.sendMessage(t)}}function N(e,t){var n=new o.Q;n.writeUInt8(16),n.writeInt32(e),n.writeInt32(t),n.writeUInt32(this.protocolKey),this.sendMessage(n)}function z(e){e.nick,e.tag,e.code,e.unit}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(i,e);var t,n,o=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=h(t);if(n){var o=h(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return l(this,e)});function i(e){var t;return m(this,i),t=o.call(this,e),C.set(f(t),{writable:!0,value:null}),d(f(t),"serverVersion","25.4.0"),d(f(t),"protocolKey",null),d(f(t),"encryptionKey",null),d(f(t),"gotCaptcha",!1),d(f(t),"gotCaptchа",!1),d(f(t),"accessTokenSent",!1),d(f(t),"loggedIn",!1),d(f(t),"serverTime",0),d(f(t),"serverTimeDiff",0),d(f(t),"loggedInTime",0),d(f(t),"client_version_string","3.10.9"),d(f(t),"client_version",r.Z.data.client_version),d(f(t),"client_protocol",r.Z.data.protocol_version),d(f(t),"ping",0),t.client.unitManager.addUnit(t.client.ID,t.client.ID,e),t}return b(i,[{key:"onOpen",value:I},{key:"onClose",value:function(){clearInterval(v(this,C)),s(h(i.prototype),"onClose",this).call(this)}},{key:"destroy",value:function(){this.client.unitManager.removeAllUnits(),s(h(i.prototype),"destroy",this).call(this)}},{key:"sendClientProtocol",value:P},{key:"sendClientVersion",value:O},{key:"onMessage",value:R},{key:"handleMessage",value:E},{key:"readRotateProtocolKey",value:M},{key:"readChiperKey",value:A},{key:"sendMessage",value:j},{key:"sendSpawn",value:L},{key:"sendBotSplit",value:F},{key:"sendBotEject",value:D},{key:"sendBotMacro",value:K},{key:"sendBotToggle",value:X},{key:"sendAction",value:B},{key:"sendCursorPosition",value:N},{key:"sendProfileData",value:z}]),i}(i.b)},5602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var r=n(340),o=n(7654),i=n(8967),a=n(4977),s=n(115),u=n(1205),c=n(3689),l=n(2267);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){this.splits=0,this.ejects=0,this.lineLock=0,this.switch_tab=0,this.dirSended=!0}function w(){this.eventify.unlisten(),this.eventify=null}function _(){this.client.unitManager.removeAllUnits()}function k(){var e=new u.Q;e.writeUInt8(69),e.writeInt16(420),e.writeUTF16StringZero(""),e.writeUTF16StringZero(""),e.writeUTF16StringZero(""),this.sendMessage(e)}function S(e){switch(e.readUInt8()){case 1:var t=e.readUInt8(),n=e.readUInt8();this.client.unitManager.addUnit(t,t,this.client),this.myUnitIds.push(t),n&&(this.client.unitManager.addUnit(n,n,this.client),this.myUnitIds.push(n)),this.hw=e.readUInt16(),this.hh=e.readUInt16();var o=e.readUTF16StringZero(),i=e.readUTF8StringZero();console.log([t,n,i]),this.client.viewMinX=-this.hw,this.client.viewMinY=-this.hh,this.client.viewMaxX=this.hw,this.client.viewMaxY=this.hh,this.gameMode=":party",this.client.estabilished=!0,this.client.log("Server name:",o),this.client.emit("estabilished",this.client),this.client.emit("gameMode",this.client),this.client.setMapOffset(this.client.viewMinX,this.client.viewMinY,this.client.viewMaxX,this.client.viewMaxY),this.sendSpectate(0);break;case 2:this.client.flushCells(),console.log("ON JOIN");break;case 3:var u=e.readUInt16(),c=e.readUTF16StringZero(),f=e.readUTF16StringZero(),h=(new s.Z).fromINT(this.client.HSLToInt(Math.abs((u%360<<314159)%360),100,51)).getInt(),d=(new s.Z).fromINT(this.client.HSLToInt(Math.abs((u%360<<314159)%360),95,46)).getInt();this.players[u]={name:c,skin:f,secureColor:d,isPlayer:!1,colorInt:h};var p=this.stores.getClient(u);p.name=c,p.skin1=f,p.isPlayer=!1;break;case 4:this.client.countPps();var v=e.readUInt8();this.client.unitManager.activeUnit.serverId==this.srvCurrentTab&&(this.waitForTab=!1,this.switch_tab=!1),this.myUnitIds.includes(v)?this.srvCurrentTab=v:this.srvCurrentTab=null,e.readUInt16(),e.readUInt8(),e.readFloat32(),e.readFloat32(),e.readFloat32();var y=this.client.receiveX(e.readFloat32()),m=this.client.receiveY(e.readFloat32());for(this.client.play||(this.client.viewX=this.client.protocol_viewX=y,this.client.viewY=this.client.protocol_viewY=m);;){var g,b=e.readUInt16();if(0==b)break;var w=e.readUInt16(),_=this.client.receiveX(e.readInt16()),k=this.client.receiveY(e.readInt16()),S=e.readInt16(),T=8421504,x=255==w,U=253==w,C=254==w,I=w<=250,P=w<=250?r.bL.Type.cell:U?r.bL.Type.virus:C?r.bL.Type.food:r.bL.Type.cell;I&&P==r.bL.Type.cell?T=this.players[w].colorInt:x?T=16777215:P==r.bL.Type.food&&(T=this.client.HSLToInt(Math.abs((_%360<<314159)%360),100,51));var O=new r.bL(this.client,P,b,_,k,S,T,(null===(g=this.players[w])||void 0===g?void 0:g.secureColor)||T);if(I&&this.players[w]&&(O.skin=this.players[w].skin,O.targetNick=this.players[w].name,O.nameSkin=this.players[w].name.toLowerCase(),O.hasVanillaNamedSkin=a.x.vanillaSkinMap.get(O.nameSkin)),C?(O.foodSize=O.size+theme.raw.foodSize.value,this.client.foods.push(O)):(U&&l.Xd.raw.virusesRange.value&&this.client.viruses.push(O),this.client.cells.push(O)),this.client.unitManager.getUnit(w)){var R=this.client.unitManager.getUnit(w);R.addCellID(b),R.addCell(O)}this.client.indexedCells[b]=O,this.client.emit("newCell",O)}for(;;){var E=e.readUInt16();if(0==E)break;var M=this.client.receiveX(e.readInt16()),A=this.client.receiveY(e.readInt16()),j=e.readInt16(),L=this.client.indexedCells[E];L&&(L.targetX=M,L.targetY=A,L.targetSize=j)}for(;;){var F=e.readUInt16();if(0==F)break;var D=e.readUInt16(),K=this.client.indexedCells[D],X=this.client.indexedCells[F];X&&this.client.eatCellEvent(K,X)}for(;;){var B=e.readUInt16();if(0==B)break;var N=this.client.indexedCells[B];N&&this.client.removeCell(N)}this.client.afterUpdateCells();break;case 5:this.client.leaderboard=[],this.client.playerPosition=0,e.readInt16();for(var z=e.readUInt8(),q=0;z>q;q++){var H,W,G="";W=e.readUInt8(),(G=(null===(H=this.players[W])||void 0===H?void 0:H.name)||"").indexOf("[BOT]")>-1&&(G="WWW.IMSOLO.PRO"),this.client.leaderboard.push({nick:G,id:W,isFriend:!1})}this.client.emit("leaderboard",this.client),this.client.leaderboard.length&&this.sendSpectate(this.client.leaderboard[0].id);break;case 6:for(var V=e.readUInt8(),Y=[],Z=0;Z<V;Z++){var Q=e.readUInt8(),J={};J.id=Q;var $=e.readFloat32(),ee=e.readFloat32();J.x=$/(this.hw<<1),J.y=ee/(this.hh<<1),J.score=e.readFloat32(),Y.push(J)}}}function T(e){if(this.client.isSocketOpen()){var t=e.view;try{this.client.socket.send(t?e.finalize():e.buffer)}catch(e){}t&&(21==e.view.getUint8(0)||e.view.getUint8(0))}}function x(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.client.unitManager.anyPlay)this.switch_tab=!0;else{var n=new u.Q;n.writeUInt8(1),n.writeUTF16StringZero(t||""),n.writeUTF16StringZero(this.client.unitManager.activeUnit.profile.skinURL||""),n.writeUTF16StringZero((null===(e=this.client.unitManager.units[1])||void 0===e?void 0:e.profile.skinURL)||""),this.sendMessage(n)}}function U(e,t,n){if(n&&n.serverId!==this.srvCurrentTab&&null!==this.srvCurrentTab){if(this.waitForTab)return;this.switch_tab=!0,this.waitForTab=!0}var r=new u.Q;r.writeUInt8(3),r.writeFloat32(this.client.serverX(e)),r.writeFloat32(this.client.serverY(t)),r.writeUInt8(this.spectate),r.writeUInt8(this.splits),r.writeUInt8(this.ejects),r.writeUInt8(this.macro),r.writeUInt8(this.lineLock),r.writeUInt8(this.switch_tab),this.sendMessage(r),this.resetState()}function C(){}function I(){}function P(){}function O(e){this.spectate=void 0!==e?e:(this.spectate+1)%250}function R(){this.ejects>3||(this.ejects+=1)}function E(e,t){this.macro=e?1:0}function M(){this.splits++,this.triggerUpdate()}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.splits+=e,this.triggerUpdate()}function j(){this.client.sendCursorPosition()}function L(e){this.srvCurrentTab!==e.serverId&&(this.switch_tab=!0)}const F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,r,a,s=(r=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(a){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function u(e){var t;return h(this,u),g(y(t=s.apply(this,arguments)),"alive",!1),g(y(t),"spectate",0),g(y(t),"splits",0),g(y(t),"ejects",0),g(y(t),"macro",0),g(y(t),"lineLock",0),g(y(t),"switch_tab",0),g(y(t),"waitForTab",!1),g(y(t),"srvCurrentTab",null),g(y(t),"dirSended",!0),g(y(t),"myUnitIds",[]),t.players={},t.stores=new o.cR,t.eventify=new i.aN,t}return t=u,(n=[{key:"resetState",value:b},{key:"onClose",value:w},{key:"destroy",value:_},{key:"onOpen",value:k},{key:"onMessage",value:S},{key:"sendMessage",value:T},{key:"sendSpawn",value:x},{key:"sendCursorPosition",value:U},{key:"sendBotSplit",value:C},{key:"sendBotEject",value:I},{key:"sendBotToggle",value:P},{key:"sendSpectate",value:O},{key:"sendEject",value:R},{key:"sendMacro",value:E},{key:"sendSplit",value:M},{key:"nSplit",value:A},{key:"triggerUpdate",value:j},{key:"makeThisUnitActive",value:L}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c.b)},1493:(e,t,n)=>{"use strict";n.d(t,{v:()=>d});var r=n(4977);function o(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){var t=e.ident,n=e.url;r.x.vanillaSkinMap.set("%"+t,n+"")}function u(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.configLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.loadConfig();case 5:e.sent.skins.forEach(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),u,this,[[2,10]])}function c(e){return e.json()}function l(){}function f(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://minions.raga.pw/ragamode/config",{cache:"no-store"}).then(c).catch(l);case 2:if(e=t.sent){t.next=7;break}return t.abrupt("return",Promise.reject());case 7:return this.configLoaded=!0,t.abrupt("return",{gameModes:e.gameModes,skins:e.skins,shops:e.shops});case 9:case"end":return t.stop()}}),f,this)}function h(){var e,t,n=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:"ragaffa-16x",r.next=4,fetch("https://minions.raga.pw/ragamode/findServer",{cache:"no-store",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"gameMode="+e});case 4:return t=r.sent,r.next=7,t.text();case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),h,this)}var d=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configLoaded=!1}var t,n,r,o,s;return t=e,n=[{key:"loadTextures",value:(s=i(regeneratorRuntime.mark(u)),function(){return s.apply(this,arguments)})},{key:"loadConfig",value:(o=i(regeneratorRuntime.mark(f)),function(){return o.apply(this,arguments)})},{key:"findServer",value:(r=i(regeneratorRuntime.mark(h)),function(){return r.apply(this,arguments)})}],n&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());window.RagaApi=d},3689:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return new DataView(new ArrayBuffer(e))}function a(){throw Error("Must be overriden")}function s(e){throw Error("Must be overriden")}function u(e){this.client.handleMessage(e)}function c(){clearInterval(this.ejectInterval)}function l(){clearInterval(this.ejectInterval)}function f(){}function h(){}function d(){}function p(){throw Error("Must be overriden")}function v(e){throw Error("Must be overriden")}function y(e){this.sendAction(1)}function m(){this.sendAction(18)}function g(e,t,n){var r=new Writer;r.writeUint8(16),r.writeInt32(e),r.writeInt32(t),r.writeUint8(""),this.sendMessage(r)}function b(e){var t=this.createView(1);t.setUint8(0,e),this.sendMessage(t)}function w(e,t){this.sendAction(21)}function _(e,t,n){var r=this;e?(null!==this.ejectInterval&&clearInterval(this.ejectInterval),t&&t(),this.sendEject(),this.ejectInterval=setInterval((function(){t&&t(),r.sendEject()}),settings.raw.macroFeeding.value)):this.ejectInterval&&(clearInterval(this.ejectInterval),this.ejectInterval=null)}function k(e,t){e&&e(),this.sendAction(17)}function S(e,t,n){var r=this;function o(){return r.sendSplit(t,n)}for(;e--;)setTimeout(o,40*e)}function T(e,t){var n=this;this.sendSplit(e,t),setTimeout((function(){n.sendSplit(e,t)}),200)}function x(){}function U(){}function C(e,t){}function I(){}function P(){}function O(e){}function R(e){clearInterval(this.ejectInterval)}function E(e){e.nick,e.tag,e.code,e.unit}n.d(t,{b:()=>M}),n(340);var M=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"ejectInterval",null),o(this,"hasPause",!1),o(this,"pause",!1),this.client=t}var t,n;return t=e,(n=[{key:"createView",value:i},{key:"onOpen",value:a},{key:"onMessage",value:s},{key:"handleMessage",value:u},{key:"onClose",value:c},{key:"destroy",value:l},{key:"onError",value:f},{key:"onDeath",value:h},{key:"onSpawn",value:d},{key:"sendSpawn",value:p},{key:"sendMessage",value:v},{key:"sendSpectate",value:y},{key:"sendFreeSpectate",value:m},{key:"sendCursorPosition",value:g},{key:"sendAction",value:b},{key:"sendEject",value:w},{key:"sendMacro",value:_},{key:"sendSplit",value:k},{key:"nSplit",value:S},{key:"popSplit",value:T},{key:"sendBotSplit",value:x},{key:"sendBotEject",value:U},{key:"sendBotMacro",value:C},{key:"sendBotToggle",value:I},{key:"sendPause",value:P},{key:"makeThisUnitActive",value:O},{key:"makeThisUnitInactive",value:R},{key:"sendProfileData",value:E}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.Protocol=M},970:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(2284),o=n(7472),i=n(8967);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))}}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=[{numPlayers:null,m:!0,name:"Delta FFA",val:"wss://delta-ffa.glitch.me"},{numPlayers:null,m:!1,name:"EU - Delta FFA 2",val:"wss://eu.mi.com:2001"},{numPlayers:null,m:!1,name:"EU - Macro",val:"wss://eu.mi.com:6001"},{numPlayers:null,m:!1,name:"EU - Selffeed",val:"wss://eu.senpa.io:5001"},{numPlayers:null,m:!0,name:"EU - Multibox",val:"wss://eu.mi.com:1200"},{numPlayers:null,m:!1,name:"NA - Delta FFA",val:"wss://us.mi.com:2001"},{numPlayers:null,m:!1,name:"NA - Delta Instant",val:"wss://us.mi.com:3001"},{numPlayers:null,m:!0,name:"Arctida",val:"wss://imsolo.pro:2109/"},{numPlayers:null,m:!0,name:"Antarctic",val:"wss://deltastan.herokuapp.com/selfeed?ogarx"},{numPlayers:null,m:!0,name:"Dagestan",val:"wss://imsolo.pro:2108/"},{numPlayers:null,m:!0,name:"Rookery",val:"wss://imsolo.pro:2104/"},{numPlayers:null,m:!0,name:"Raga Insanity",val:"srv://ragainsanity-32x"},{numPlayers:null,m:!0,name:"Raga x32",val:"srv://ragaffa-32x"},{numPlayers:null,m:!0,name:"Raga x16",val:"srv://ragaffa-16x"},{numPlayers:null,m:!0,name:"FeelForeverAlone",val:"wss://imsolo.pro:2102"},{numPlayers:null,m:!0,name:"MadHouse",val:"wss://host.lennar.icu:3001"},{numPlayers:null,m:!0,name:"Delta Local Server",val:"ws://0.0.0.0:0"},{numPlayers:null,m:!0,name:"Delta Node Server",val:"ws://127.0.0.1:8089"},{numPlayers:null,m:!0,name:"FFA with boosts",val:"wss://imsolo.pro:2102/"},{numPlayers:null,m:!0,name:"Eatcells FFA 1",val:"wss://eatcells.com/api/~"},{numPlayers:null,m:!0,name:"Eatcells FFA 2",val:"wss://ogar.eatcells.com/api/~"}];function S(){return this.lastChecked.toTimeString().replace(/^(\d{2}:\d{2}).*/,"$1")}function T(){return((new Date).getTime()-this.lastChecked.getTime())/1e3/60<5}function x(){return{adress:this.adress}}var U=function(){function e(t,n,r){g(this,e),_(this,"region","default"),_(this,"gamemode","default"),_(this,"multibox",!0),_(this,"botting",!0),_(this,"lastChecked",new Date),this.adress=t,this.token=n,this.displayName=r||n,this.cat="default-default"}return w(e,[{key:"lastCheckedTime",get:S},{key:"isFresh",get:T}]),w(e,[{key:"toJSON",value:x}]),e}(),C=function(e){h(n,e);var t=p(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _(y(e=t.call.apply(t,[this].concat(o))),"name",String(Math.random())),_(y(e),"list",new i.FA("token",["cat"],U.prototype)),e}return n}(i.aN);function I(){return this.state.selector1}function P(){return this.state.selector2}function O(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selector1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selector2,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if(!o.Z.isAgarioHost)throw Error("Not agario host");if(null===(e=this.fake_servers[r])||void 0===e||null===(t=e[n])||void 0===t?void 0:t.length){var s=this.fake_servers[r][n],u=s[Math.floor(Math.random()*s.length)];i("wss://"+u)}o.Z.getServer(n,r,i,a)}function R(){var e,t,n,r,o,i,a=arguments;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e=!(a.length>0&&void 0!==a[0])||a[0],t=this.selector1,n=this.selector2,r=5,(o=this.list.by.cat[this.selector1+this.selector2])&&Object.values(o.length<2)&&(r=10),i=0;case 7:if(!(r>i)){s.next=16;break}if(!e){s.next=11;break}if(t===this.selector1&&n===this.selector2){s.next=11;break}return s.abrupt("break",16);case 11:return s.next=13,this.findEnpointAsyncFake(this.selector1,this.selector2,this.processRandomServer);case 13:i++,s.next=7;break;case 16:case"end":return s.stop()}}),R,this)}function E(e){}function M(){var e,t,n,r,i,a,s=arguments;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:this.selector1,n=s.length>1&&void 0!==s[1]?s[1]:this.selector2,r=s.length>2&&void 0!==s[2]?s[2]:E,!this.fake_servers[n]||!(null===(e=this.fake_servers[n][t])||void 0===e?void 0:e.length)){u.next=7;break}return i=this.fake_servers[n][t],a=i[Math.floor(Math.random()*i.length)],u.abrupt("return",r({region:t,gamemode:n,endpoints:{https:a,http:a},status:"ok"}));case 7:return u.next=9,o.Z.findEndpointAsync(t,n,r);case 9:case"end":return u.stop()}}),M,this)}function A(){var e,t;function n(e){var n=s(e,2),r=n[0];n[1].numPlayers=t.regions[r].numPlayers}return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.Z.makeMasterSimpleRequest("info");case 2:e=r.sent,t={regions:{},versionsInfo:[]},e&&Object.assign(t,JSON.parse(e))&&Object.entries(this.regions).forEach(n),this.emit("numplayers");case 6:case"end":return r.stop()}}),A,this)}function j(){var e=this;Object.entries(this.list.all).forEach((function(t){var n=s(t,2),r=n[0];n[1],e.list.rem(r)}))}var L=function(e){h(u,e);var t,n,a,s=p(u);function u(){var e;return g(this,u),_(y(e=s.call(this)),"name","agario"),_(y(e),"gamemodes",{":ffa":"FFA",":experimental":"Experimental",":teams":"Teams",":battleroyale":"Battleroyale",":party":"Party",":dual":"Dual"}),_(y(e),"regions",{"US-Atlanta":{numPlayers:null,name:"North America"},"BR-Brazil":{numPlayers:null,name:"South America"},"EU-London":{numPlayers:null,name:"Europe"},"RU-Russia":{numPlayers:null,name:"Ukraine"},"TK-Turkey":{numPlayers:null,name:"Turkey"},"JP-Tokyo":{numPlayers:null,name:"East Asia"},"CN-China":{numPlayers:null,name:"China"},"SG-Singapore":{numPlayers:null,name:"Oceania"}}),_(y(e),"fake_servers",{":dual":{"US-Atlanta":["us@us.mi.com:2002"],"BR-Brazil":["br@us.mi.com:2002"],"EU-London":["eu@eu.mi.com:1200"],"RU-Russia":["ru@eu.mi.com:1200"],"TK-Turkey":["tk@eu.mi.com:1200"],"JP-Tokyo":["jp@asia.mi.com:1001"],"CN-China":["cn@asia.mi.com:1001"],"SG-Singapore":["sg@asia.mi.com:1001"]}}),_(y(e),"processRandomServer",(function(t){var n="wss://".concat(t.endpoints.https).concat(t.token?"/?party_id="+t.token:""),o=r.Z.wsToToken(n),i=e.list.has(o),a=i?e.list.get(o):new U(n,o);a.region=t.region,a.gamemode=t.gamemode,a.cat="".concat(t.region,"-").concat(t.gamemode),a.lastChecked=new Date,i||e.list.add(a)})),e.state=(0,i.fC)({selector1:"",selector2:":ffa",selectedServer:new U}),Object.assign(e.state,storage.get("ags1")),e.state.on("*",(function(){return storage.set("ags1",e.state)})),e.state.on("change:selector1","change:selector2",(function(){e.searchEndpoints(),e.emit("change")})),o.Z.on("endpoint",e.processRandomServer),o.Z.isAgarioHost&&(setInterval((function(){e.findEnpointAsyncFake(e.selector1,e.selector2,e.processRandomServer)}),6e4),setInterval((function(){e.agRefreshNumPlayers()}),18e4),e.agRefreshNumPlayers(),e.searchEndpoints()),e}return w(u,[{key:"selector1",get:I},{key:"selector2",get:P}]),w(u,[{key:"getServerFake",value:O},{key:"searchEndpoints",value:(a=f(regeneratorRuntime.mark(R)),function(){return a.apply(this,arguments)})},{key:"findEnpointAsyncFake",value:(n=f(regeneratorRuntime.mark(M)),function(){return n.apply(this,arguments)})},{key:"agRefreshNumPlayers",value:(t=f(regeneratorRuntime.mark(A)),function(){return t.apply(this,arguments)})},{key:"clean",value:j}]),u}(C);function F(e){this.clean();var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=new U(r.val,r.val,r.name);this.state.selectedServer.adress||(this.state.selectedServer=o),o.multibox=r.m,o.cat="default",this.list.add(o)}}catch(e){n.e(e)}finally{n.f()}}function D(){var e=this;Object.entries(this.list.all).forEach((function(t){var n=s(t,2),r=n[0];n[1],e.list.rem(r)}))}var K=function(e){h(n,e);var t=p(n);function n(){var e;return g(this,n),_(y(e=t.call(this)),"name","delta"),e.state=(0,i.fC)({selectedServer:new U}),e.setServerList(k),Object.assign(e.state,storage.get("dts1")),e.state.on("*",(function(){return storage.set("dts1",e.state)})),e}return w(n,[{key:"setServerList",value:F},{key:"clean",value:D}]),n}(C);function X(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.selectedServer=new U(t),Object.entries(this.agarioServerList.list.all).forEach((function(n){var r=s(n,2),o=(r[0],r[1]);t==o.adress&&(e.agarioServerList.state.selectedServer=o,e.selectedServer=o)})),Object.entries(this.deltaServerList.list.all).forEach((function(n){var r=s(n,2),o=(r[0],r[1]);t==o.adress&&(e.deltaServerList.state.selectedServer=o,e.selectedServer=o)}))}function B(e,t){var n,i,a;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(this.data.tabMode!==this.deltaServerList.name){s.next=6;break}return s.next=3,r.Z.getWs(this.deltaServerList.state.selectedServer.adress);case 3:return n=s.sent,e(n),s.abrupt("return");case 6:if(""!==this.agarioServerList.state.selector1){s.next=12;break}return s.next=9,o.Z.getRegionCode();case 9:i=s.sent,a=i.country,this.agarioServerList.state.selector1=o.Z.langCodes[a]||"EU-London";case 12:o.Z.isAgarioHost&&this.agarioServerList.getServerFake(this.agarioServerList.state.selector1,this.agarioServerList.state.selector2,e,t);case 13:case"end":return s.stop()}}),B,this)}const N=window.ServerSelectorModel=new(function(e){h(r,e);var t,n=p(r);function r(){var e;g(this,r),(e=n.call(this)).selectedServer=new U,e.agarioServerList=window.ags=new L,e.deltaServerList=window.dts=new K;var t={tabMode:o.Z.isAgarioHost?e.agarioServerList.name:e.deltaServerList.name};return Object.assign(t,storage.get("selected_server_tab")),e.data=(0,i.fC)(t),e.data.on("*",(function(){storage.set("selected_server_tab",e.data)})),e.agarioServerList.on("change",(function(){e.data.tabMode==e.agarioServerList.name&&e.emit("change")})),e.deltaServerList.on("change",(function(){e.data.tabMode==e.deltaServerList.name&&e.emit("change")})),e.data.on("change:tabMode",(function(){return e.emit("change")})),e}return w(r,[{key:"on_app_connect",value:X},{key:"getSelectedServer",value:(t=f(regeneratorRuntime.mark(B)),function(e,n){return t.apply(this,arguments)})}]),r}(i.aN))},8499:(e,t,n)=>{"use strict";n.d(t,{T:()=>V});var r=n(8967),o=n(2267),i=n(6524);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){d(n,e);var t=v(n);function n(){var e;return h(this,n),b(m(e=t.call(this)),"destroy",(function(){e.destroyTexture(),e.emit("destroy")})),b(m(e),"destroyTexture",(function(){var t;null===(t=e.gl)||void 0===t||t.deleteTexture(e.texture),e.texture=null})),b(m(e),"saveTexture",(function(){if(!e.texture){var t=e.gl;t.bindTexture(t.TEXTURE_2D,e.texture=t.createTexture()),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.canvas),t.generateMipmap(t.TEXTURE_2D),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.flush()}})),e.originW=1,e.originH=1,e.canvas=null,e.gl=null,e.texture=null,e}return n}(r.aN);function _(e){return null==e?void 0:e.destroy()}var k=function(e){d(n,e);var t=v(n);function n(){var e;return h(this,n),b(m(e=t.call(this)),"destroy",(function(){e.level.forEach(_),e.emit("destroy")})),e.lastUsedAt=i.X.runtime,e.level=[null,null,null,null,null,null,null,null],e}return n}(r.aN);function S(e){this._mass=e,this._mass!==this.lastMass&&(this.lastMass=this._mass,this.needsRedraw=!0)}function T(){return this._mass}function x(e){5>e||(0|e)==(0|this._fontSize)||this._fontSize>e&&.8<e/this._fontSize||e>this._fontSize&&.8<this._fontSize/e||(this._fontSize=e,this.needsRedraw=!0)}function U(){return this._fontSize}var C=function(){function e(){h(this,e),this.lastUsedAt=i.X.runtime,this.lastUpdateAt=i.X.runtime,this.canvas=null,this.ctx=null,this._mass=0,this.lastMass=0,this._fontSize=5,this.needsRedraw=!0}return f(e,[{key:"mass",set:S,get:T},{key:"fontSize",set:x,get:U}]),e}();function I(){return o.rS.emit("nickfont")}function P(){return o.rS.emit("massfont")}function O(){o.rS.raw.nickfont.load().then(I),o.rS.raw.massfont.load().then(P)}function R(){this.massUpdateInterval=o.Xd.proxy.massUpdateInterval||500}function E(e,t,n,r){if(""!==r){var a=e*t*n;if(!(10>a)){var s=this.nickCaches.get(r)||this.newNickCache(r);s.lastUsedAt=i.X.runtime;var u=0|Math.min(a/50,7),c=s.level[u];if(c)return c;var l=this.getCanvasLevel(),f=l.canvas.getContext("2d"),h=50*(u+1)*this.quality,d=o.rS.raw.strokeScale.value*(h/10),p=20*o.rS.raw.strokeScale.value;return l.canvas.height=h+4*d,l.canvas.width=0|this.getNickWidth(r,h)+d,l.originW=(this.getNickWidth(r,200)+p)/650,l.originH=l.canvas.height*(l.originW/l.canvas.width),navigator.userAgent&&navigator.userAgent.indexOf("96.0.4664.45")>-1&&/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/gi.test(r)?f.font="500 "+h+"px "+o.rS.raw.nickfont.fontFamily+", Ubuntu":f.font=o.rS.raw.nickfont.fontWeight+" "+h+"px "+o.rS.raw.nickfont.fontFamily,f.textBaseline="middle",f.textAlign="center",f.imageSmoothingEnabled=!1,l.canvas.style.imageRendering="pixelated",1===o.Xd.raw.namesStroke2.value?(f.strokeStyle=o.rS.raw.namesStrokeColor.string,f.lineWidth=d,f.lineJoin="round",f.miterLimit=0,f.strokeText(r,l.canvas.width>>1,l.canvas.height>>1)):2===o.Xd.raw.namesStroke2.value&&(f.fillStyle=o.rS.raw.namesStrokeColor.string,f.globalAlpha=.75,f.fillRect(0,0,l.canvas.width,l.canvas.height),f.globalAlpha=1),f.fillStyle=o.rS.raw.namesColor.string,f.fillText(r,l.canvas.width>>1,l.canvas.height>>1),this.saveContextCallback(l),s.level[u]=l}}}function M(e){var t=new k;return this.nickCaches.set(e,t),t}function A(e,t){return t+~~(.4*t)}function j(e,t){return this.nickShadowCtx.measureText(e).width*t/25}function L(){this.nickCaches.clear(),this.nickShadowCtx.font="700 25px "+o.rS.raw.nickfont.fontFamily}function F(e,t,n,r,a,s){var u=t*n*r,c=this.massCaches.get(e)||this.newMassCache(e);c.lastUsedAt=i.X.runtime;var l=0|Math.min(u/50,7);c.fontSize=50*(l+1)*this.quality;var f=i.X.runtime-c.lastUpdateAt;if((c.needsRedraw||f>this.massUpdateInterval||s&&f>20)&&(c.mass=a),c.canvas||(c.canvas=this.getNewCanvas(),c.ctx=c.canvas.getContext("2d")),c.needsRedraw){c.needsRedraw=!1;var h=c.canvas,d=c.ctx,p=o.rS.raw.strokeScale.value*(c.fontSize/10),v=20*o.rS.raw.strokeScale.value;h.height=c.fontSize+p,h.width=0|this.getMassWidth(c.mass,c.fontSize)+p,h.originW=(this.getMassWidth(c.mass,200)+v)/650,h.originH=h.height*(h.originW/h.width),d.font=o.rS.raw.massfont.fontWeight+" "+(0|c.fontSize)+"px "+o.rS.raw.massfont.fontFamily,d.textBaseline="middle",d.textAlign="center",1===o.Xd.raw.massStroke2.value?(d.strokeStyle=o.rS.raw.massStrokeColor.string,d.lineWidth=p,d.lineJoin="round",d.miterLimit=0,d.strokeText(""+c.mass,h.width>>1,h.height>>1)):2===o.Xd.raw.massStroke2.value&&(d.fillStyle=o.rS.raw.massStrokeColor.string,d.globalAlpha=.75,d.fillRect(0,0,h.width,h.height),d.globalAlpha=1),d.fillStyle=o.rS.raw.massColor.string,d.fillText(""+c.mass,h.width>>1,h.height>>1),c.lastUpdateAt=i.X.runtime}return this.saveContextCallback(c.canvas),c.canvas}function D(e){var t=new C;return this.massCaches.set(e,t),t}function K(e,t){return this.massShadowCtx.measureText(String(e)).width*t/25}function X(){this.massCaches.clear(),this.massShadowCtx.font="700 25px "+o.rS.raw.massfont.fontFamily}function B(){return this.canvasPool.shift()||document.createElement("canvas")}function N(){var e=new w,t=this.canvasPool.shift()||document.createElement("canvas");return e.canvas=t,e}function z(){var e=document.createElement("canvas"),t=e.getContext("2d");return t.font="700 25px ubuntu",t.imageSmoothingEnabled=!1,t.imageSmoothingQuality="low",e.style.imageRendering="pixelated",t}function q(e){var t,n=this,r=i.X.runtime,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.nickCaches);try{for(o.s();!(t=o.n()).done;){var a=s(t.value,2),c=a[0],l=a[1];if(r-l.lastUsedAt>this.maxCacheLife||"nick"===e){this.nickCaches.delete(c);for(var f=l.level,h=0;h<f.length;h++)f[h]&&this.resetCanvas(f[h].canvas)}}}catch(e){o.e(e)}finally{o.f()}this.massCaches.forEach((function(t,o){if(r-t.lastUsedAt>n.maxCacheLife||"mass"===e){if(n.massCaches.delete(o),50<=n.canvasPool.length)return;var i=t.canvas;n.resetCanvas(i)}}))}function H(e){if(e<1e3)return e;var t=(0|e/100)/10;return"".concat(t%1==0?t+".0":t,"k")}function W(e){!e||75<=this.canvasPool.length||(e.width=0,this.canvasPool.push(e))}function G(e){}var V=new(function(){function e(){var t=this;function n(){t.setNickCtxFont(),t.cleaner("nick")}function r(){t.setMassCtxFont(),t.cleaner("mass")}h(this,e),this.nickCaches=new Map,this.massCaches=new Map,this.maxCacheLife=1e3,this.massUpdateInterval=o.Xd.proxy.massUpdateInterval||500,this.quality=.25,this.nickShadowCtx=this.newShadowContext(),this.massShadowCtx=this.newShadowContext(),this.canvasPool=[],o.rS.on("strokeScale",(function(){t.setNickCtxFont(),t.setMassCtxFont()})),o.Xd.on("namesStroke2",(function(){t.setNickCtxFont()})),o.Xd.on("massStroke2",(function(){t.setMassCtxFont()})),o.Xd.on("massUpdateInterval",(function(){t.massUpdateInterval=o.Xd.proxy.massUpdateInterval}))(),o.Xd.on("virMassType",(function(){t.setMassUpdateInterval()})),o.rS.on("namesColor","namesStrokeColor",(function(){t.setNickCtxFont()})),o.rS.on("massColor","massStrokeColor",(function(){t.setMassCtxFont()})),o.rS.on("nickfont",(function(){o.rS.raw.nickfont.fontFamily,o.rS.raw.nickfont.load().then(n)}))(),o.rS.on("massfont",(function(){o.rS.raw.massfont.load().then(r)}))(),setTimeout(O,5e3)}return f(e,[{key:"setMassUpdateInterval",value:R},{key:"nick",value:E},{key:"newNickCache",value:M},{key:"getNickHeight",value:A},{key:"getNickWidth",value:j},{key:"setNickCtxFont",value:L},{key:"mass",value:F},{key:"newMassCache",value:D},{key:"getMassWidth",value:K},{key:"setMassCtxFont",value:X},{key:"getNewCanvas",value:B},{key:"getCanvasLevel",value:N},{key:"newShadowContext",value:z},{key:"cleaner",value:q},{key:"shortMassFormat",value:H},{key:"resetCanvas",value:W},{key:"saveContextCallback",value:G}]),e}())},4977:(e,t,n)=>{"use strict";n.d(t,{B:()=>x,x:()=>K});var r=n(8967),o=n(2267),i=n(115);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={SKIN:"SKIN",ANIMATION:"ANIMATION",TEXTURE:"TEXTURE"};function w(e,t){}function _(){return new Promise(w)}function k(e){var t=document.createElement("canvas"),n=t.getContext("2d");if(this.type===b.TEXTURE&&(t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height)),this.type===b.SKIN){n.clearRect(0,0,t.width,t.height),t.width=512,t.height=512,n.beginPath(),n.arc(256,256,256,0,2*Math.PI,!0),n.clip(),e.width/2===e.height?n.drawImage(e,0,0,e.height,e.height,0,0,512,512):n.drawImage(e,0,0,e.width,e.height,0,0,512,512);var r=K.getAverageRGB(n,512,512);this.averageColor.fromRGB(r.r,r.g,r.b,r.a),this.averageColorString=i.Z.darkenColor(this.averageColor.getInt(),-13)}return t}function S(e,t){var n=this;return new Promise((function(r,o){t||(t=new Image),window.URL&&window.URL.createObjectURL&&window.HTMLCanvasElement.prototype.toBlob?e.toBlob((function(e){var o=URL.createObjectURL(e);t.src=o,n.image=t,t.onload=function(){t.onload=null,r({img:t,blob:e}),window.URL.revokeObjectURL(o)}}),"image/png",1):(t.src=e.toDataURL("image/gif",0),n.image=t,r({img:t,blob:t.src}))}))}function T(e){var t=this,n=URL.createObjectURL(e);return new Promise((function(e,r){var o=new Image;o.src=n,o.onload=function(){o.onerror=o.onload=null,e(o),window.URL.revokeObjectURL(n)},t.image=o}))}var x=function(e){h(n,e);var t=p(n);function n(e,r,o){var a;return c(this,n),g(y(a=t.call(this)),"destroy",(function(){delete K.cache[a.id],a.destroyTexture(),a.emit("destroy")})),g(y(a),"destroyTexture",(function(){var e;null===(e=a.gl)||void 0===e||e.deleteTexture(a.texture),a.texture=null})),g(y(a),"saveTexture",(function(){if(a.texture||!a.canvas)return!1;var e=a.gl;return e.bindTexture(e.TEXTURE_2D,a.texture=e.createTexture()),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a.canvas),e.generateMipmap(e.TEXTURE_2D),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.flush(),!0})),a.id=K.getFreeId(),a.url=e,a.type=r,a.state=n.States.PENDING,a.name=o,a.isAnimated=/.*\.gif$/.test(e),a.averageColorString="#FF0000",a.averageColor=new i.Z(127,127,127,255),a.animation=null,a.canvas=null,a.bitmap=null,a.image=null,a.gl=null,a.texture=null,K.cache[a.id]=y(a),a}return f(n,[{key:"downloadImage",value:function(){var e=this;return new Promise((function(t,r){if(0===o.Xd.raw.renderer.value&&e.isAnimated&&o.Xd.raw.customGifSkins.value){var i=new Q(e.url);return e.type=n.Types.ANIMATION,e.animation=i,e.state=n.States.LOADING,i.onparse=function(){e.state=n.States.LOADED,e.animation=i},i.onload=function(){e.state=n.States.LOADED,e.averageColor=i.averageColor,e.averageColorString=i.averageColorString,t(i)},i.onerror=function(){i.onparse=i.onload=i.onerror=null,e.state=n.States.ERROR,r()},void i.onRequestSkin()}var a=new Image;a.crossOrigin="Anonymous",a.referrerPolicy="no-referrer",a.src=e.url,e.state=n.States.LOADING,a.width?(e.state=n.States.LOADED,t(a)):(a.onload=function(){a.onerror=a.onload=null,e.state=n.States.LOADED,t(a)},a.onerror=function(){a.onerror=a.onload=null,e.state=n.States.ERROR,r()},setTimeout((function(){e.state!==n.States.LOADED&&(e.state=n.States.ERROR,a.onerror=a.onload=null,a.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAAALAAAAAABAAEAAAI=",r())}),5e3))}))}},{key:"downloadAnimation",value:_},{key:"cropImage",value:k},{key:"canvasToImg",value:S},{key:"imageFromBlob",value:T}]),n}(r.aN);function U(){var e=++this.counter%65535;return this.cache[e]||0===e?this.getFreeId():e}function C(){this.customSkinMap.clear()}function I(e,t){e&&t&&this.customSkinMap.set(e,t)}function P(e){var t=this.customSkinMap.get(e);if(!t)return!1;var n=this.downloadedObjects.get(t);return void 0===n?this.addToQueue(new x(t,b.SKIN,e)):n}function O(e){var t=this.vanillaSkinMap.get(e);if(!t)return!1;var n=this.downloadedObjects.get(t);return void 0===n?this.addToQueue(new x(t,b.SKIN,e)):n}function R(e){var t=this.vanillaCustomSkinMap.get(e);t||(t="https://configs.agario.miniclippt.com/live/custom_skins/".concat(e.replace("%custom","skin_custom"),".png?"),this.vanillaCustomSkinMap.set(e,t));var n=this.downloadedObjects.get(t);return void 0===n?this.addToQueue(new x(t,b.SKIN,e)):n}function E(e){var t=this.vanillaCustomSkinMap.get(e);t||(t=e,this.vanillaCustomSkinMap.set(e,t));var n=this.downloadedObjects.get(t);return void 0===n?this.addToQueue(new x(t,b.SKIN,e)):n}function M(e,t){var n,r=e.gameConfig["Gameplay - Equippable Skins"],o=e.gameConfig["Gameplay - Free Skins"],i=s(e.gameConfig["Visual - Prod. Spine Animations"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;this.vanillaSkinMap.set(a.productId.replace("skin_","%"),"https://configs-web.agario.miniclippt.com/live/v15/".concat(t.data.latest_config_id,"/").concat(a.spineFileName,".png?"))}}catch(e){i.e(e)}finally{i.f()}var u,c=s(o);try{for(c.s();!(u=c.n()).done;){var l=u.value;this.vanillaSkinMap.set(l.id.toLowerCase(),"https://configs-web.agario.miniclippt.com/live/v15/".concat(t.data.latest_config_id,"/").concat(l.image,"?"))}}catch(e){c.e(e)}finally{c.f()}var f,h=s(r);try{for(h.s();!(f=h.n()).done;){var d=f.value;"uses_spine"!=d.image&&this.vanillaSkinMap.set(d.productId.replace("skin_","%"),"https://configs-web.agario.miniclippt.com/live/v15/".concat(t.data.latest_config_id,"/").concat(d.image,"?"))}}catch(e){h.e(e)}finally{h.f()}}function A(e){var t=this.texturesMap.get(e);if(!t)return!1;var n=this.downloadedObjects.get(t);return void 0===n?this.addToQueue(new x(t,b.TEXTURE,e)):n}function j(e){var t=0===this.queue.length;return this.downloadedObjects.set(e.url,e),this.queue.push(e),t&&this.dequeue(),e}function L(){var e=this;if(0===this.queue.length)return!1;var t=this.queue[0];function n(){e.emit(t.name,t),e.queue.shift(),e.dequeue()}t.downloadImage().then((function(r){var o=t.cropImage(r);t.canvas=o,e.saveContextCallback(t,n)})).catch((function(){e.queue.shift(),e.dequeue()}))}function F(e,t,n){var r,o={r:0,g:0,b:0},i={r:0,g:0,b:0,a:0},a=0;if(!e)return o;try{r=e.getImageData(0,0,t,n)}catch(e){return o}r.data.length;for(var s=t,u=s/2,c=u*u,l=0;l<s;l+=5)for(var f=0;f<s;f+=5)if((f-u)*(f-u)+(l-u)*(l-u)<c){var h=4*(l*s+f);i.r+=r.data[h],i.g+=r.data[h+1],i.b+=r.data[h+2],i.a+=r.data[h+3],a++}return i.r=~~(i.r/a),i.g=~~(i.g/a),i.b=~~(i.b/a),i.a=~~(i.a/a),i}function D(e,t){e.canvasToImg(e.canvas,e.image).then((function(n){var r=n.img;n.blob,e.image=r,t&&t()}))}g(x,"Types",b),g(x,"States",{ERROR:"ERROR",LOADING:"LOADING",LOADED:"LOADED",PENDING:"PENDING"});var K=new(function(e){h(n,e);var t=p(n);function n(){var e;return c(this,n),g(y(e=t.call(this)),"counter",0),g(y(e),"cache",{}),e.customSkinMap=new Map,e.vanillaSkinMap=new Map,e.vanillaCustomSkinMap=new Map,e.vanillaSpinesSkin=new Map,e.texturesMap=new Map,e.downloadedObjects=new Map,e.queue=[],e.processingCanvas=document.createElement("canvas"),e.processingCanvas.width=512,e.processingCanvas.height=512,e}return f(n,[{key:"getFreeId",value:U},{key:"render",value:C},{key:"cacheKey",value:I},{key:"getCustomSkin",value:P},{key:"getVanillaSkin",value:O},{key:"getVanillaCustomSkin",value:R},{key:"getUrlSkin",value:E},{key:"getVanillaSkinsLinks",value:M},{key:"getTexture",value:A},{key:"addToQueue",value:j},{key:"dequeue",value:L},{key:"getAverageRGB",value:F},{key:"saveContextCallback",value:D}]),n}(r.aN)),X=new Worker('data:,onmessage = function() {console.error("webworker loading error")}');try{X=new Worker(new URL(n.p+n.u(826),n.b))}catch(e){fetch(new URL(n(5974),n.b).toString()).then((function(e){return e.text()})).then((function(e){var t=new Blob([e],{type:"application/javascript"});X=new Worker(window.URL.createObjectURL(t))}))}function B(){}function N(){}function z(){console.log("onparse")}function q(e){}function H(){this.allFramesRendered=!1,0==this.firstSkinRequest&&(this.firstSkinRequest=!0,this.loadGIF())}function W(){var e=this;if(0!==o.Xd.raw.renderer.value)return console.log("animations disabled in gpu");var t=new XMLHttpRequest;t.open("GET",this.url,!0),t.responseType="arraybuffer",t.onerror=this.onerror,t.onload=function(n){var r=t.response;r&&X.postMessage({type:"gif",id:e.id,url:e.url,buffer:r}),e.onload()},t.send(null)}function G(e){this.loadedFrames=e,this.gifCanvas.width=e[0].dims.width,this.gifCanvas.height=e[0].dims.height,this.targetTime=e[0].delay}function V(e){var t=e.dims;this.frameImageData&&t.width==this.frameImageData.width&&t.height==this.frameImageData.height||(this.tempCanvas.width=t.width,this.tempCanvas.height=t.height,this.frameImageData=this.tempCtx.createImageData(t.width,t.height)),2==e.disposalType&&(this.ctx.clearRect(0,0,512,512),this.gifCtx.clearRect(0,0,512,512)),this.frameImageData.data.set(e.patch),this.tempCtx.putImageData(this.frameImageData,0,0),this.gifCtx.drawImage(this.tempCanvas,t.left,t.top)}function Y(){this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(this.gifCanvas,0,0,512,512),this.ctx.restore()}function Z(e){var t=Date.now();e=t-this.last_render_time,this.last_render_time=t,this.time+=e,this.time>this.targetTime&&(this.drawFrameLayer(this.loadedFrames[this.frameIndex]),this.manipulate(),this.targetTime=this.time+this.loadedFrames[this.frameIndex].delay,++this.frameIndex>=this.loadedFrames.length&&(this.frameIndex=0))}var Q=function(){function e(t){var n=this;c(this,e),this.animated=!0,this.url=t,this.c=document.createElement("canvas"),this.c.width=512,this.c.height=512,this.tempCanvas=document.createElement("canvas"),this.gifCanvas=document.createElement("canvas"),this.ctx=this.c.getContext("2d"),this.ctx.arc(256,256,256,0,2*Math.PI,!1),this.tempCtx=this.tempCanvas.getContext("2d"),this.gifCtx=this.gifCanvas.getContext("2d"),this.firstSkinRequest=!1,this.isParsed=!1,this.loadedFrames=null,this.frameImageData=null,this.frameIndex=0,this.id=Math.random(),this.currentFrame=null,this.time=0,this.targetTime=0,this.last_render_time=0,this.averageColorString="#FF0000",this.averageColor=new i.Z(127,127,127,127),X.addEventListener("message",(function(e){if(e.data.id==n.id){if(0===e.data.frames.length)return void n.onerror();n.renderGIF(e.data.frames),n.move(0);var t=K.getAverageRGB(n.ctx,512,512);n.averageColor.fromRGB(t.r,t.g,t.b,t.a),n.averageColorString=i.Z.darkenColor(n.averageColor.getInt(),-13),n.isParsed=!0,n.onparse()}}),{once:!0})}return f(e,[{key:"onload",value:B},{key:"onerror",value:N},{key:"onparse",value:z},{key:"validate",value:q},{key:"onRequestSkin",value:H},{key:"loadGIF",value:W},{key:"renderGIF",value:G},{key:"drawFrameLayer",value:V},{key:"manipulate",value:Y},{key:"move",value:Z}]),e}();window.Animation=Q,window.Texture=K},6524:(e,t,n)=>{"use strict";n.d(t,{X:()=>I});var r=n(8967);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var l=Symbol("_throttledRender"),f=Symbol("_animFrame"),h=Symbol("_profiler"),d=Symbol("_tick"),p=Symbol("_init");function v(){return 19}function y(){this.ticking||(this.startTime=Date.now(),this[d]())}function m(){this.ticking&&window.cancelAnimationFrame(this.animFrame),this.animFrame=null,this.fpsLastRequest=null,this.ticking=!1}function g(e){var t=!1;this.ticking&&(t=!0,this.stop()),this.fps=e,this.fpsInTicks=1e3/this.fps,t&&this.start()}function b(){return this.fps}function w(){return this.ticking}function _(){this.stop()}function k(){return(new Date).getTime()}function S(){Date.now||(Date.now=k),this.fps&&(this.fpsInTicks=1e3/this.fps)}function T(){this.ticking||(this.ticking=!0),this.animFrame=window.requestAnimationFrame(this[f])}function x(){this.fps=this.average>>1,this.fpsInTicks=1e3/this.fps}function U(e){var t,n,r=this,o=this.startTime+e;n=(t=o-this.fpsLastRequest)/1e3,this.fpsLastRequest=o;var i=1/n;this._sample_[this._index_]=Math.round(i);for(var a=0,s=0;s<this._sample_.length;s++)a+=this._sample_[s];a=Math.round(a/this._sample_.length),this._index_++,this._index_===this.sampleSize&&(this._index_=0),this.average=a,this.fpsCycle+=t,this.runtime+=t,this.data.fps=a,this.data.trueFps=a,this.data.runtime=this.runtime,this.data.delta=t,this.data.time=e,this.data.now=o,(this.fps||this.events.update)&&this.emit("update",this.data),this.profiler&&this[h](),(this.fps||this.events.render)&&(this.fps&&this.fpsInTicks?this.fpsInTicks<this.fpsCycle?(this.once("_render",(function(e){return r.emit("render",e)})),this.fpsCycle=0):this.emit("_render",this.data):this.emit("render",this.data)),this.animFrame=null,this.ticking?this[d]():this.fpsLastRequest=null,this.renderedFrames++}function C(e){this.emit("render",e)}var I=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(I,e);var t,n,r,o,k=(r=I,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(r);if(o){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function I(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,I),(t=k.call(this)).fps=e||null,t.fps2=0,t.renderedFrames=0,t._index_=0,t.sampleSize=30,t._sample_=new Array(t.sampleSize).fill(e||60),t.fpsInTicks=null,t.animFrame=null,t.startTime=null,t.fpsLastRequest=null,t.fpsCycle=null,t.ticking=!1,t.runtime=1,t.average=0,t.profiler=(""+v).match(/\n/g),t[l]=t[l].bind(u(t)),t[f]=t[f].bind(u(t)),t.data={fps:0,trueFps:0,runtime:0,delta:0,time:0,now:0},t[p](),t}return t=I,(n=[{key:"start",value:y},{key:"stop",value:m},{key:"setFps",value:g},{key:"getFps",value:b},{key:"isTicking",value:w},{key:"destroy",value:_},{key:p,value:S},{key:d,value:T},{key:h,value:x},{key:f,value:U},{key:l,value:C}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),I}(r.aN));window.ticker=I,I.start()},9879:(e,t,n)=>{"use strict";n.d(t,{wU:()=>Ds,eH:()=>Ta});var r=n(8967),o=n(2267),i=n(1148),a=n(340),s=n(2504),u=n(6524),c=n(4857);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,s,"next",e)}function s(e){f(i,r,o,a,s,"throw",e)}a(void 0)}))}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e){var t,n,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(t=new Set,n=[],r=e.length;r--;)t.has(e[r].guid)||(n.push(e[r]),t.add(e[r].guid));return o.next=6,Parse.Cloud.run("processUserData",n);case 6:case"end":return o.stop()}}),g)}function b(e){return!(this.backend.storage[e]&&(new Date).getTime()-new Date(this.backend.storage[e]).getDate()<this.backend.storage.processUserDataInterval||(this.backend.storage[e]=new Date,0))}function w(e){return setTimeout(e,500)}function _(e){return setTimeout(e,500)}function k(){}function S(){var e=this;this.app.on("initClient",(function(t){function n(r){var o,i;function a(e){for(var t=r[e].length,n=null;t--;)n=r[e][t],o.push({countryCode:n.countryCode,displayName:n.displayName,level:n.lvl,trophies:n.trophies,guid:n.userId,realm:n.realmInfo.realm,realmId:n.realmInfo.realmId,avatarUrl:n.realmInfo.avatarUrl})}return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=a,n.next=3,new Promise(w);case 3:if(e.syncPossible(t.mobileData.userInfo.userId+".LeaguesLastSync")){n.next=5;break}return n.abrupt("return");case 5:return e.log("Syncronization..."),o=[],i("country"),i("friends"),i("league"),i("world"),n.next=13,e.batchUpdateUsers(o);case 13:e.log("Syncronization done");case 14:case"end":return n.stop()}}),n)}function r(n){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.syncPossible(t.mobileData.userInfo.userId+".UserLastSync")){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,new Promise(_);case 4:o={countryCode:n.userInfo.latestCountryCode,displayName:n.userInfo.displayName,level:n.userInfo.level,accountAge:n.userInfo.accountAge,accountBirthDate:new Date,paying:n.userInfo.isPayingUser,potions:n.userInfo.actionCounters.potionsObtained,skins:n.userInfo.actionCounters.skinsCreated,quests:n.userInfo.actionCounters.questsCompleted,trophies:t.mobileData.UserWallet.amount("trophy"),guid:n.userInfo.userId,realm:n.userInfo.realmInfo.realm,realmId:n.userInfo.realmInfo.realmId,avatarUrl:n.userInfo.realmInfo.avatarUrl,score:n.userStats.allTimeScore,played:n.userStats.gamesPlayed,mass:n.userStats.highestMass,alive:n.userStats.longestTimeAlive,totalMass:n.userStats.massConsumed,cellsEaten:n.userStats.mostCellsEaten},e.batchUpdateUsers([o]);case 6:case"end":return r.stop()}}),r)}t.mobileData.once("userLeaguesInfoResponseField",function(){var e=h(regeneratorRuntime.mark(n));return function(t){return e.apply(this,arguments)}}()),t.mobileData.once("loginResponseField",function(){var e=h(regeneratorRuntime.mark(r));return function(t){return e.apply(this,arguments)}}()),t.on("removeEvents",k)}))}n(1493);const T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,o,i,a,s=(i=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(i);if(a){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this)).backend=e,t.app=e.app,t.isDebug=!0,(0,r.qc)(!0,y(t),"[[96mBackend:LbSync[39m]:"),t.initEvents(),t}return t=u,n=[{key:"batchUpdateUsers",value:(o=h(regeneratorRuntime.mark(g)),function(e){return o.apply(this,arguments)})},{key:"syncPossible",value:b},{key:"initEvents",value:S}],n&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.aN);function x(e){var t=oe,n={orQfd:function(e,t){return e==t},OHLtX:t(268),blQzN:function(e,t){return e===t},vZmKP:function(e,t){return e!==t},TyCYE:t(197),xDsdk:function(e,t){return e==t},wbill:function(e,t){return e==t},ihNhG:function(e,t){return e(t)}};return x=n[t(238)](n[t(149)],typeof Symbol)&&n[t(203)](n[t(157)],typeof Symbol[t(297)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(258)](n[r(149)],typeof Symbol)&&n[r(204)](e[r(317)+"r"],Symbol)&&n[r(345)](e,Symbol[r(264)])?n[r(157)]:typeof e},n[t(223)](x,e)}function U(e,t){var n=oe,r={AnHlF:function(e,t){return e instanceof t},advlS:n(256)+n(190)+n(214)+n(261)};if(!r[n(293)](e,t))throw new TypeError(r[n(173)])}function C(e,t){for(var n=oe,r={hVYoY:function(e,t){return e<t},DGVaW:n(245),QkJjM:function(e,t){return e in t},XpJeD:n(160)},o=0;r[n(142)](o,t[n(267)]);o++)for(var i=r[n(233)][n(286)]("|"),a=0;;){switch(i[a++]){case"0":s[n(220)]=s[n(220)]||!1;continue;case"1":r[n(275)](r[n(337)],s)&&(s[n(371)]=!0);continue;case"2":s[n(166)+"le"]=!0;continue;case"3":Object[n(277)+n(146)](e,s[n(308)],s);continue;case"4":var s=t[o];continue}break}}function I(e,t,n){var r=oe,o={VSxrO:function(e,t,n){return e(t,n)},tCSSt:r(264)};return t&&o[r(291)](C,e[r(264)],t),n&&o[r(291)](C,e,n),Object[r(277)+r(146)](e,o[r(279)],{writable:!1}),e}function P(e,t){var n=oe,r={wCSjq:function(e,t){return e!==t},vLxPT:n(268),BGTXH:n(147)+n(193)+n(360)+n(179)+n(263),hfvXY:n(264),oAjwb:function(e,t,n){return e(t,n)}};if(r[n(225)](typeof t,r[n(145)])&&r[n(225)](t,null))throw new TypeError(r[n(174)]);e[n(264)]=Object[n(310)](t&&t[n(264)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(277)+n(146)](e,r[n(252)],{writable:!1}),t&&r[n(182)](R,e,t)}function O(){var e=["rJUTR","return obj","apply","then","loadFromPa","vZmKP","userId","isAvailabl","Mmsjk","1630116FCIoTb","AxCzc","Gqdpm","toString","peOf","resolve"," may only ","to set rea","get","GjDGe","|4|11|2|9|","t either b","loadFromOb","__proto__","listenTo","WpnwX","tVdBU","EgXiF","object","Z25hdHVyZQ","KsNqV","vkNso","writable","user","pNyKR","hVYoY","tsKnP","aDwir","vLxPT","erty","Super expr","name","OHLtX","CXXDh","463705feCBad","PRlqz","BabjB","GbZgZ","Jygdl","duration","TyCYE","EaiWy","OuMZn","value","nextAvaila","emit","NglOA","953502GrMVFG","cwHEH","configurab","1207254QPNLnz","remaining","has","efined","call","dprXe","advlS","BGTXH","tialised -","QDfSV","extras","jeOGE","e null or ","nstructors","sydda","oAjwb"," super() h","aVeQW","rtWfE","HFhVD","AZlvE","isExpired","[[35mPlan","l a class ","ect or und","iPisD","ession mus","VLbDG","jdgrd","ject","symbol","D5VTnE8UMh","qkQIh","WnVrS","FKDsz","bDBhr","wbill","blQzN","isDebug","log","rse","XOlVu","UbUGF","acalA","AprlN","PgpiQ","pbMKa","as a funct"," called","asn't been","CEotr","setPrototy","oYmCy","enumerable","ONzEl","0|3|4|5|1|","ihNhG","expiresIn","wCSjq","5|0|6|7|4|","eckzY","LJApF","JOGUf","construct","uCXub","kjRpj","DGVaW","state","bIDbU","sham","reset","xDsdk","vate field","to ","NoZWNrIHNp","ARGhD","PNWpR","lOLtr","4|0|2|1|3","n-instance","nRNGT","yIWHH","NmwCU","cnUNu","yjGyc","hfvXY","RmFpbGVkIG","5|13|15|14","CLwoP","Cannot cal","this hasn'","orQfd","oHxGp","getPrototy","ion","MAZRr","a function","prototype","FAfiD","pPEVh","length","function","d only pri","fJYXQ","uspSS","now","ubfWK","valueOf","QkJjM","unlisten","defineProp","suzug","tCSSt","xFbMn","SyaVI","ield on no","AZiwq","8462937GjymBh","eRYWv","split","748048bIQHcB"," private f","VYgou","bleIn","VSxrO","User","AnHlF","ljOeP","VMsCL","undefined","iterator","Derived co","attempted ","hUTfn","wEqWd","1|3|2","sig","HmacMD5","destroy","GrjkS","set","key"," [39m]:","create","10|3|8|0|1","8PweSXb","ipNjR","pBHNT","AWWay","t been ini","constructo","gwSIi","LApEp","ULnoO","lsVkk","current","msnsJ","2545320XpRPEH","dBYVE","parent","aUAOg","djTfI","join","bind","oaEPA","backend","update","MxkJv","XrsfK","VJYqj","XpJeD","status","|7|6|12|16"];return(O=function(){return e})()}function R(e,t){var n=oe;return R=Object[n(218)+n(353)]||function(e,t){return e[n(362)]=t,e},{acalA:function(e,t,n){return e(t,n)}}[n(210)](R,e,t)}function E(e){var t=oe,n={ULnoO:function(e,t){return e(t)},cnUNu:function(e,t){return e(t)},uCXub:function(e,t,n){return e(t,n)},EgXiF:function(e){return e()}},r=n[t(366)](j);return function(){var o,i=t,a=n[i(320)](L,e);if(r){var s=n[i(250)](L,this)[i(317)+"r"];o=Reflect[i(230)](a,arguments,s)}else o=a[i(342)](this,arguments);return n[i(231)](M,this,o)}}function M(e,t){var n=oe,r={eRYWv:function(e,t){return e===t},yIWHH:function(e,t){return e(t)},CXXDh:n(367),AZiwq:function(e,t){return e===t},fJYXQ:n(268),bDBhr:function(e,t){return e!==t},AWWay:n(298)+n(180)+n(355)+n(341)+n(191)+n(170),PNWpR:function(e,t){return e(t)}};if(t&&(r[n(285)](r[n(248)](x,t),r[n(150)])||r[n(283)](typeof t,r[n(270)])))return t;if(r[n(202)](t,void 0))throw new TypeError(r[n(315)]);return r[n(243)](A,e)}function A(e){var t=oe,n={gwSIi:function(e,t){return e===t},MxkJv:t(257)+t(316)+t(175)+t(183)+t(216)+t(215)};if(n[t(318)](e,void 0))throw new ReferenceError(n[t(334)]);return e}function j(){var e=oe,t={LApEp:function(e,t){return e===t},iPisD:e(296),BabjB:e(268)};if(t[e(319)](typeof Reflect,t[e(192)])||!Reflect[e(230)])return!1;if(Reflect[e(230)][e(236)])return!1;if(t[e(319)](typeof Proxy,t[e(153)]))return!0;try{return Boolean[e(264)][e(274)][e(171)](Reflect[e(230)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function L(e){var t=oe;return L=Object[t(218)+t(353)]?Object[t(260)+t(353)]:function(e){var n=t;return e[n(362)]||Object[n(260)+n(353)](e)},{rtWfE:function(e,t){return e(t)}}[t(185)](L,e)}function F(e,t,n){var r=oe;return{ARGhD:function(e,t){return e in t}}[r(242)](t,e)?Object[r(277)+r(146)](e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){var n=oe,r={aVeQW:function(e,t,n,r){return e(t,n,r)},jdgrd:n(357),EaiWy:function(e,t,n){return e(t,n)}},o=r[n(184)](B,e,t,r[n(195)]);return r[n(158)](K,e,o)}function K(e,t){var n=oe;return t[n(357)]?t[n(357)][n(171)](e):t[n(160)]}function X(e,t,n){var r=oe,o={AprlN:function(e,t,n,r){return e(t,n,r)},aDwir:r(307)},i=o[r(211)](B,e,t,o[r(144)]);return o[r(211)](N,e,i,n),n}function B(e,t,n){var r=oe,o={wEqWd:function(e,t){return e+t},WpnwX:r(299)+r(240),WnVrS:r(288)+r(282)+r(246)};if(!t[r(169)](e))throw new TypeError(o[r(301)](o[r(301)](o[r(364)],n),o[r(200)]));return t[r(357)](e)}function N(e,t,n){var r=oe,o={QDfSV:r(299)+r(356)+r(269)+r(239)};if(t[r(307)])t[r(307)][r(171)](e,n);else{if(!t[r(371)])throw new TypeError(o[r(176)]);t[r(160)]=n}}!function(e,t){for(var n=oe,r=e();;)try{if(265454==parseInt(n(151))/1+-parseInt(n(287))/2+-parseInt(n(164))/3+-parseInt(n(349))/4+-parseInt(n(324))/5+parseInt(n(167))/6+-parseInt(n(284))/7*(-parseInt(n(312))/8))break;r.push(r.shift())}catch(e){r.push(r.shift())}}(O);var z=new WeakMap,q=new WeakMap,H=new WeakMap,W=new WeakMap;function G(e,t){for(var n=oe,r={uspSS:n(222)+"2",oYmCy:function(e,t){return e!==t},XrsfK:n(303),lsVkk:function(e,t){return e(t)},sydda:n(253)+n(241)+n(368)+"==",SyaVI:n(148),ONzEl:n(156),NglOA:n(168),pPEVh:function(e,t){return e+t},GbZgZ:n(198),VJYqj:function(e,t){return e===t},FKDsz:function(e,t){return e===t}},o=r[n(271)][n(286)]("|"),i=0;;){switch(o[i++]){case"0":var a;continue;case"1":if(r[n(219)](u[n(352)](),e[n(357)](r[n(335)])))return void Promise[n(354)](r[n(321)](atob,r[n(181)]))[n(343)](console[n(206)][n(330)](null));continue;case"2":this[n(361)+n(196)](s);continue;case"3":this.o=e;continue;case"4":var s={id:e.id,name:e[n(357)](r[n(281)]),userId:t.id,duration:e[n(357)](r[n(221)]),remaining:e[n(357)](r[n(163)]),sig:e[n(357)](r[n(335)])};continue;case"5":var u=CryptoJS[n(304)]([s.id,s[n(148)],s[n(346)],s[n(156)],s[n(168)]][n(329)](":"),r[n(266)](r[n(154)],r[n(336)](a=Parse[n(292)][n(322)](),null)||r[n(201)](a,void 0)?void 0:a.id));continue}break}}function V(e){for(var t=oe,n={KsNqV:t(226)+t(302),VMsCL:t(333),XOlVu:function(e,t,n,r){return e(t,n,r)},Jygdl:function(e,t){return e+t},pNyKR:function(e,t,n){return e(t,n)},Mmsjk:function(e,t){return e*t},AxCzc:function(e,t){return e===t},oHxGp:function(e,t){return e===t},pbMKa:function(e,t){return e===t},ipNjR:function(e,t){return e===t},kjRpj:function(e,t,n,r){return e(t,n,r)},CEotr:function(e,t){return e+t},PRlqz:function(e,t,n){return e(t,n)}},r=n[t(369)][t(286)]("|"),o=0;;){switch(r[o++]){case"0":this[t(148)]=l;continue;case"1":this[t(177)]=h;continue;case"2":this[t(162)](n[t(295)]);continue;case"3":this.st=!0;continue;case"4":n[t(208)](X,this,W,n[t(155)](n[t(373)](D,this,q),n[t(348)](u,1e3)));continue;case"5":var i=e[t(156)],a=n[t(350)](i,void 0)?0:i,s=e[t(168)],u=n[t(259)](s,void 0)?0:s,c=e[t(148)],l=n[t(213)](c,void 0)?"":c,f=e[t(177)],h=n[t(313)](f,void 0)?{}:f;continue;case"6":n[t(208)](X,this,q,this[t(272)]);continue;case"7":n[t(232)](X,this,H,n[t(217)](n[t(152)](D,this,q),n[t(348)](a,1e3)));continue}break}}function Y(){var e=oe;this[e(361)+e(196)]({duration:0,remaining:0,name:"",extras:{}})}function Z(){this[oe(276)]()}function Q(){return{HFhVD:function(e,t,n){return e(t,n)}}[oe(186)](D,this,H)}function J(e){}function $(){return{GrjkS:function(e,t,n){return e(t,n)}}[oe(306)](D,this,W)}function ee(e){}function te(){return{UbUGF:function(e,t,n){return e(t,n)}}[oe(209)](D,this,q)}function ne(e){({rJUTR:function(e,t,n,r){return e(t,n,r)}})[oe(340)](X,this,q,e)}function re(){return Date[oe(272)]()}function oe(e,t){var n=O();return(oe=function(e,t){return n[e-=142]})(e,t)}function ie(){var e=oe;return{JOGUf:function(e,t){return e<=t}}[e(229)](this[e(224)],0)}function ae(){var e=oe;return this.st?{oaEPA:function(e,t){return e-t}}[e(331)](this.dr,this[e(272)]):0}function se(){var e=oe;return{Gqdpm:function(e,t){return e<=t}}[e(351)](this[e(161)+e(290)],0)}function ue(){var e=oe;return this.st?{dprXe:function(e,t){return e-t}}[e(172)](this.de,this[e(272)]):0}function ce(e){var t=oe,n={suzug:function(e,t){return e==t},PgpiQ:function(e,t,n){return e(t,n)},bIDbU:function(e,t){return e==t},lOLtr:function(e,t,n,r){return e(t,n,r)}};(n[t(278)](n[t(212)](D,this,z),"")||n[t(235)](n[t(212)](D,this,z),e))&&n[t(244)](X,this,z,e)}function le(){return{VLbDG:function(e,t,n){return e(t,n)}}[oe(194)](D,this,z)}var fe=function(e){var t=oe,n={vkNso:t(254)+t(339)+t(359)+t(311),hUTfn:t(372),FAfiD:function(e,t,n,r){return e(t,n,r)},AZlvE:function(e,t){return e(t)},ubfWK:function(e,t,n,r){return e(t,n,r)},msnsJ:function(e,t){return e(t)},nRNGT:t(189)+t(309),cwHEH:function(e,t,n,r){return e(t,n,r)},CLwoP:function(e,t){return e(t)},tVdBU:t(303),GjDGe:function(e,t){return e(t)},qkQIh:function(e,t,n){return e(t,n)},NmwCU:function(e,t){return e(t)},xFbMn:function(e,t){return e(t)},jeOGE:t(338),pBHNT:function(e,t,n){return e(t,n)},LJApF:function(e,t){return e(t)},OuMZn:t(344)+t(207),aUAOg:t(361)+t(196),eckzY:t(237),tsKnP:t(305),VYgou:t(272),ljOeP:t(188),dBYVE:t(161)+t(290),yjGyc:t(347)+"e",djTfI:t(224),MAZRr:t(148)};n[t(314)](P,i,e);var o=n[t(228)](E,i);function i(e,a){for(var s=t,u=n[s(370)][s(286)]("|"),c=0;;){switch(u[c++]){case"0":l[s(363)](l[s(326)][s(332)][s(234)],n[s(300)],(function(){return l[s(237)]()}));continue;case"1":return l;case"2":l[s(326)]=e;continue;case"3":l.o=null;continue;case"4":n[s(265)](F,n[s(187)](A,l),"st",!1);continue;case"5":var l;continue;case"6":H[s(307)](n[s(187)](A,l),{writable:!0,value:0});continue;case"7":q[s(307)](n[s(187)](A,l),{writable:!0,value:0});continue;case"8":l[s(148)]=a;continue;case"9":l[s(205)]=!0;continue;case"10":n[s(273)](r.qc,!0,n[s(323)](A,l),n[s(247)]);continue;case"11":n[s(165)](F,n[s(255)](A,l),n[s(365)],"");continue;case"12":W[s(307)](n[s(358)](A,l),{writable:!0,value:0});continue;case"13":n[s(199)](U,this,i);continue;case"14":z[s(307)](n[s(249)](A,l),{writable:!0,value:""});continue;case"15":l=o[s(171)](this);continue;case"16":n[s(265)](F,n[s(280)](A,l),n[s(178)],"");continue}break}}return n[t(314)](I,i,[{key:n[t(159)],value:G},{key:n[t(327)],value:V},{key:n[t(227)],value:Y},{key:n[t(143)],value:Z},{key:"de",get:Q,set:J},{key:"dr",get:$,set:ee},{key:"ds",get:te,set:ne},{key:n[t(289)],get:re},{key:n[t(294)],get:ie},{key:n[t(325)],get:ae},{key:n[t(251)],get:se},{key:n[t(328)],get:ue},{key:n[t(262)],set:ce,get:le}]),i}(r.aN);function he(e){var t=ve,n={ylONR:function(e,t){return e==t},SGYGV:t(541),faoIs:function(e,t){return e===t},Pfspm:function(e,t){return e!==t},oHIyv:t(530),lMZrd:function(e,t){return e==t},OmOlP:function(e,t){return e==t},ZXHLi:function(e,t){return e(t)}};return he=n[t(713)](n[t(590)],typeof Symbol)&&n[t(655)](n[t(639)],typeof Symbol[t(540)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(630)](n[r(590)],typeof Symbol)&&n[r(647)](e[r(577)+"r"],Symbol)&&n[r(763)](e,Symbol[r(754)])?n[r(639)]:typeof e},n[t(611)](he,e)}function de(e,t){for(var n=ve,r={YejVV:n(507),jxbWj:function(e,t){return e>=t},UsdBE:function(e,t){return e!=t},MYNJT:n(625),STeRr:function(e,t){return e(t)},sUXKP:function(e,t){return e&&t},jHzfh:function(e,t){return e===t},mdbvY:n(686),QqzJc:n(771)+n(491)+n(698)+n(725)+n(749)+n(722)+n(584)+n(666)+n(716)+n(750)+n(774)+n(586)+n(578)+"d.",ulqav:function(e,t){return e!==t},KyAJr:n(729),TayLu:n(680)},o=r[n(741)][n(700)]("|"),i=0;;){switch(o[i++]){case"0":var a={Piuub:function(e,t){return r[n(561)](e,t)},kLCIb:function(e,t){return r[n(769)](e,t)},zZRii:r[n(678)]};continue;case"1":return{s:function(){h=h[n(515)](e)},n:function(){var e=n,t=h[e(657)]();return u=t[e(704)],t},e:function(e){c=!0,s=e},f:function(){var e=n;try{!u&&a[e(525)](h[a[e(776)]],null)&&h[a[e(776)]]()}finally{if(c)throw s}}};case"2":var s,u=!0,c=!1;continue;case"3":if(!h){if(Array[n(751)](e)||(h=r[n(529)](pe,e))||r[n(490)](t,e)&&r[n(719)](typeof e[n(544)],r[n(643)])){h&&(e=h);var l=0,f=function(){};return{s:f,n:function(){var t=n;return a[t(503)](l,e[t(544)])?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f}}throw new TypeError(r[n(711)])}continue;case"4":var h=r[n(608)](typeof Symbol,r[n(768)])&&e[Symbol[n(540)]]||e[r[n(497)]];continue}break}}function pe(e,t){for(var n=ve,r={XVVxS:n(635)+"5",UkkVV:function(e,t){return e===t},YUGkq:n(650),YuWqP:function(e,t){return e===t},epwYl:n(728),jpwnQ:n(602),blgPz:n(677),IEvRI:function(e,t,n){return e(t,n)},qdrqY:function(e,t){return e===t},LxFLU:n(543),gfifw:function(e,t,n){return e(t,n)}},o=r[n(533)][n(700)]("|"),i=0;;){switch(o[i++]){case"0":if(r[n(474)](a,r[n(646)])||r[n(511)](a,r[n(752)]))return Array[n(623)](e);continue;case"1":r[n(474)](a,r[n(589)])&&e[n(577)+"r"]&&(a=e[n(577)+"r"][n(477)]);continue;case"2":if(!e)return;continue;case"3":if(r[n(511)](typeof e,r[n(620)]))return r[n(658)](ye,e,t);continue;case"4":var a=Object[n(754)][n(527)][n(515)](e)[n(636)](8,-1);continue;case"5":if(r[n(773)](a,r[n(478)])||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[n(486)](a))return r[n(761)](ye,e,t);continue}break}}function ve(e,t){var n=Oe();return(ve=function(e,t){return n[e-=470]})(e,t)}function ye(e,t){var n=ve,r={mvxpu:function(e,t){return e==t},Pjqaw:function(e,t){return e>t},gZXcd:function(e,t){return e<t}};(r[n(736)](t,null)||r[n(593)](t,e[n(544)]))&&(t=e[n(544)]);for(var o=0,i=new Array(t);r[n(563)](o,t);o++)i[o]=e[o];return i}function me(e,t,n,r,o,i,a){var s=ve,u={hCjFn:function(e,t){return e(t)},IoTvs:function(e,t){return e(t)}};try{var c=e[i](a),l=c[s(732)]}catch(e){return void u[s(676)](n,e)}c[s(704)]?u[s(501)](t,l):Promise[s(596)](l)[s(592)](r,o)}function ge(e){var t=ve,n={uJOhg:function(e,t,n,r,o,i,a,s){return e(t,n,r,o,i,a,s)},sLAhN:t(657),BdvXL:function(e,t){return e(t)},iBzPj:function(e,t,n,r,o,i,a,s){return e(t,n,r,o,i,a,s)},LbyDV:t(482)};return function(){var r=t,o={XcSjQ:function(e,t,r,o,i,a,s,u){return n[ve(488)](e,t,r,o,i,a,s,u)},ZjaIV:n[r(616)]},i=this,a=arguments;return new Promise((function(t,s){var u=r,c={mHFqQ:function(e,t,r,o,i,a,s,u){return n[ve(546)](e,t,r,o,i,a,s,u)},JPrSc:n[u(572)]},l=e[u(702)](i,a);function f(e){var n=u;c[n(571)](me,l,t,s,f,h,c[n(598)],e)}function h(e){var n=u;o[n(687)](me,l,t,s,f,h,o[n(531)],e)}n[u(613)](f,void 0)}))}}function be(e,t){var n=ve,r={eMoQX:function(e,t){return e instanceof t},kZUdt:n(549)+n(712)+n(772)+n(570)};if(!r[n(555)](e,t))throw new TypeError(r[n(583)])}function we(e,t){for(var n=ve,r={HBLzt:function(e,t){return e<t},pbteN:n(552),biFNn:function(e,t){return e in t},paYhr:n(732)},o=0;r[n(569)](o,t[n(544)]);o++)for(var i=r[n(638)][n(700)]("|"),a=0;;){switch(i[a++]){case"0":s[n(642)]=s[n(642)]||!1;continue;case"1":var s=t[o];continue;case"2":s[n(691)+"le"]=!0;continue;case"3":Object[n(551)+n(721)](e,s[n(695)],s);continue;case"4":r[n(626)](r[n(524)],s)&&(s[n(579)]=!0);continue}break}}function _e(e,t,n){var r=ve,o={FWWBY:function(e,t,n){return e(t,n)},aKPUJ:r(754)};return t&&o[r(706)](we,e[r(754)],t),n&&o[r(706)](we,e,n),Object[r(551)+r(721)](e,o[r(715)],{writable:!1}),e}function ke(e,t){var n=ve,r={SCHSO:function(e,t){return e!==t},COztr:n(541),gEUXJ:function(e,t){return e!==t},MzwJr:n(637)+n(653)+n(560)+n(605)+n(766),QWKGD:n(754),wsedT:function(e,t,n){return e(t,n)}};if(r[n(696)](typeof t,r[n(471)])&&r[n(603)](t,null))throw new TypeError(r[n(664)]);e[n(754)]=Object[n(744)](t&&t[n(754)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(551)+n(721)](e,r[n(640)],{writable:!1}),t&&r[n(628)](Se,e,t)}function Se(e,t){var n=ve;return Se=Object[n(537)+n(600)]||function(e,t){return e[n(535)]=t,e},{mJdqU:function(e,t,n){return e(t,n)}}[n(591)](Se,e,t)}function Te(e){var t=ve,n={RCRXj:function(e,t){return e(t)},IANeC:function(e,t,n){return e(t,n)},PvfGL:function(e){return e()}},r=n[t(778)](Ce);return function(){var o,i=t,a=n[i(609)](Ie,e);if(r){var s=n[i(609)](Ie,this)[i(577)+"r"];o=Reflect[i(631)](a,arguments,s)}else o=a[i(702)](this,arguments);return n[i(758)](xe,this,o)}}function xe(e,t){var n=ve,r={ZWmdB:function(e,t){return e===t},CZBks:function(e,t){return e(t)},fOAJU:n(481),wOdjD:function(e,t){return e===t},BDTGu:n(541),nSfum:function(e,t){return e!==t},RmNZK:n(649)+n(473)+n(699)+n(504)+n(520)+n(494),LVjAR:function(e,t){return e(t)}};if(t&&(r[n(617)](r[n(747)](he,t),r[n(672)])||r[n(610)](typeof t,r[n(612)])))return t;if(r[n(604)](t,void 0))throw new TypeError(r[n(660)]);return r[n(632)](Ue,e)}function Ue(e){var t=ve,n={EMEub:function(e,t){return e===t},WPeid:t(573)+t(601)+t(564)+t(517)+t(510)+t(493)};if(n[t(492)](e,void 0))throw new ReferenceError(n[t(607)]);return e}function Ce(){var e=ve,t={xPBZL:function(e,t){return e===t},VPeSw:e(729),MqWmF:e(541)};if(t[e(619)](typeof Reflect,t[e(679)])||!Reflect[e(631)])return!1;if(Reflect[e(631)][e(765)])return!1;if(t[e(619)](typeof Proxy,t[e(487)]))return!0;try{return Boolean[e(754)][e(568)][e(515)](Reflect[e(631)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ie(e){var t=ve;return Ie=Object[t(537)+t(600)]?Object[t(588)+t(600)]:function(e){var n=t;return e[n(535)]||Object[n(588)+n(600)](e)},{JLqeT:function(e,t){return e(t)}}[t(624)](Ie,e)}function Pe(e,t,n){var r=ve;return{ntZom:function(e,t){return e in t}}[r(627)](t,e)?Object[r(551)+r(721)](e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(){var e=["from","JLqeT","return","biFNn","ntZom","wsedT","sykXY","ylONR","construct","LVjAR","qDVid","oRQiu","2|3|4|1|0|","slice","Super expr","pbteN","oHIyv","QWKGD","NTyFE","enumerable","mdbvY","status,ds,","404634bqrcPQ","YUGkq","faoIs","end","Derived co","Map","get","pZJFt","ession mus","t availabl","OmOlP","kEGnM","next","IEvRI","once","RmNZK","obCrr","FwmId","QLSYY","MzwJr","hgzQj","ble, non-a","kRQlM","7NPdgki","10cNixHn","abrupt","hIwGc","fOAJU","clickPlan","updatePlan","Firaz","hCjFn","string","MYNJT","VPeSw","@@iterator","fkIHh",",sig,durat","find","NCnJJ"," not avail","number","XcSjQ","User","WcTOx","tXZKM","configurab","1473665HdiZkR","guYWn","equalTo","key","SCHSO","TTPIa","terate non"," may only ","split","NvIVy","apply","prev","done","de,dr,name","FWWBY","ySEso","2DRfAit","PiRQr","ZKyCU","QqzJc","l a class ","lMZrd","ise","aKPUJ","rray objec","NrZEu","Query","jHzfh","disableAll","erty","In order t","wrap","emit","-iterable ","isAvailabl","pXlyv","Set","undefined","Uqwrk","unsubscrib","value","spect1x","QbyTK","eived_prom","mvxpu","update:","22230408QeqCzN","usePlan","subscripti","YejVV","sent","bind","create","backend","spect16x","CZBks","loadFromPa","instance.\n","ts must ha","isArray","epwYl","stop","prototype","Plan","Request ti","Cloud","IANeC","log","zSBDA","gfifw","ckvKM","Pfspm","6048204WZMmHe","sham","a function","rsIdi","KyAJr","UsdBE","ing","Invalid at","as a funct","qdrqY","ve a [Symb","duration","zZRii","med out","PvfGL"," not found","PepjX","COztr","NREeu","nstructors","UkkVV","watch","config_rec","name","LxFLU","NZoyh","IfHcK","object","throw"," not expir","Plan ","AbnTT","test","MqWmF","iBzPj","wvWgd","sUXKP","tempt to i","EMEub"," called","efined","now","query","TayLu","ion,remain","kRQnh","PaYrd","IoTvs","select","Piuub","return obj","Gojng","run","0|4|3|2|1","VWXui","teyrn","asn't been","YuWqP","IJdkx","Data","spect4x","call","kkoKL"," super() h","able","JNgPZ","ect or und","fcontrolle","BWHii","oAxOL","paYhr","kLCIb","list","toString","ZwWsN","STeRr","symbol","ZjaIV","pfSBV","XVVxS","reset","__proto__","break","setPrototy","update","ZTKPz","iterator","function","app","Arguments","length","EZZUf","uJOhg","gvvaG","JcIbV","Cannot cal","suutc","defineProp","1|0|2|4|3","state","RdgOx","eMoQX","zKGez","12Qjxibf","761103DsNock","QGVHD","t either b","jxbWj","CWAuM","gZXcd","tialised -","user","PqQCw","IeYgq","valueOf","HBLzt","ion","mHFqQ","sLAhN","this hasn'","concat","store","KZNbn","constructo","r]() metho","writable","VPvPL","OrToggle","delete","kZUdt","o be itera","Plan is no","ol.iterato","current","getPrototy","jpwnQ","SGYGV","mJdqU","then","Pjqaw","mark","plan updat","resolve","947013ErnIOb","JPrSc","11PPiUml","peOf","t been ini","Object","gEUXJ","nSfum","e null or ","rse","WPeid","ulqav","RCRXj","wOdjD","ZXHLi","BDTGu","BdvXL","isExpired","subscribe","LbyDV","ZWmdB","userPlans","xPBZL","blgPz","382440gPaLfN","cBcYY"];return(Oe=function(){return e})()}function Re(){var e,t,n,r,o=ve,i={QGVHD:o(595)+"ed",VWXui:o(477),hgzQj:function(e,t){return e+t},pZJFt:o(737),IJdkx:o(744),NCnJJ:o(538),PiRQr:o(582),NrZEu:o(648)},a=this;function s(e){var t=o;console[t(759)](i[t(559)],e);var n=a[t(526)][e[t(651)](i[t(508)])];n&&n[t(748)+t(606)](e,a[t(745)][t(553)][t(565)])}function u(e){var t=o,n=a[t(526)][e[t(651)](i[t(508)])];n&&(n[t(534)](),a[t(724)](i[t(665)](i[t(652)],e[t(651)](i[t(508)])),n))}return regeneratorRuntime[o(723)]((function(a){for(var c=o;;)switch(a[c(703)]=a[c(657)]){case 0:return a.t0=de,a[c(657)]=3,this[c(496)][c(683)]();case 3:a.t1=a[c(742)],e=(0,a.t0)(a.t1);try{for(e.s();!(t=e.n())[c(704)];)n=t[c(732)],this[c(674)+c(513)](n)}catch(t){e.e(t)}finally{e.f()}return a[c(657)]=8,this[c(496)][c(615)]();case 8:(r=this[c(740)+"on"]=a[c(742)]).on(i[c(512)],this[c(674)+c(513)][c(743)](this)),r.on(i[c(684)],s),r.on(i[c(709)],u);case 12:case i[c(717)]:return a[c(753)]()}}),Re,this)}function Ee(){var e=ve,t={kkoKL:function(e,t){return e(t)}}[e(516)](ge,regeneratorRuntime[e(594)](Re));return function(){var n=e;return t[n(702)](this,arguments)}}function Me(e){var t=ve,n={gvvaG:t(484),PaYrd:t(779),Uqwrk:t(685)+t(518),KZNbn:t(483)+"ed",NZoyh:t(739),tXZKM:t(625),suutc:t(648)};return regeneratorRuntime[t(723)]((function(r){for(var o=t;;)switch(r[o(703)]=r[o(657)]){case 0:if(this[o(526)][e]){r[o(657)]=2;break}throw new Error(n[o(547)][o(574)](e,n[o(500)]));case 2:if(this[o(526)][e][o(726)+"e"]){r[o(657)]=4;break}throw new Error(n[o(547)][o(574)](e,n[o(730)]));case 4:if(this[o(526)][e][o(614)]){r[o(657)]=6;break}throw new Error(n[o(547)][o(574)](e,n[o(576)]));case 6:return r[o(657)]=8,Parse[o(757)][o(506)](n[o(479)],{name:e});case 8:return r[o(670)](n[o(690)],r[o(742)]);case 9:case n[o(550)]:return r[o(753)]()}}),Me,this)}function Ae(){var e=ve,t={QbyTK:function(e,t){return e(t)}}[e(734)](ge,regeneratorRuntime[e(594)](Me));return function(n){var r=e;return t[r(702)](this,arguments)}}function je(e){return{qDVid:function(e,t,n){return e(t,n)}}[ve(633)](setTimeout,e,100)}function Le(e){var t,n,r,o=ve,i={NvIVy:function(e,t){return e>t},ZTKPz:function(e,t){return e!==t},JNgPZ:function(e,t){return e>t},rsIdi:o(625),ySEso:o(536),sykXY:function(e,t){return e-t},PepjX:function(e,t){return e(t)},hIwGc:o(756)+o(777),zSBDA:o(585)+o(654)+"e",IfHcK:o(648)},a=arguments;return regeneratorRuntime[o(723)]((function(s){for(var u=o;;)switch(s[u(703)]=s[u(657)]){case 0:if(t=i[u(701)](a[u(544)],1)&&i[u(539)](a[1],void 0)?a[1]:this[u(745)],!(n=i[u(519)](a[u(544)],2)&&i[u(539)](a[2],void 0)?a[2]:this[u(745)][u(542)])[u(521)+"r"][u(720)+u(581)](e)){s[u(657)]=4;break}return s[u(670)](i[u(767)]);case 4:if(!e[u(614)]){s[u(657)]=25;break}if(!e[u(726)+"e"]){s[u(657)]=22;break}return s[u(657)]=8,t[u(618)][u(739)](e[u(477)]);case 8:r=Date[u(495)]();case 9:if(e[u(614)]){s[u(657)]=11;break}return s[u(670)](i[u(707)],17);case 11:if(!i[u(519)](i[u(629)](Date[u(495)](),r),5e3)){s[u(657)]=13;break}throw i[u(470)](Error,i[u(671)]);case 13:return s[u(657)]=15,new Promise(je);case 15:s[u(657)]=9;break;case 17:if(e[u(614)]){s[u(657)]=20;break}return s[u(657)]=20,n[u(521)+"r"][u(739)](e);case 20:s[u(657)]=23;break;case 22:throw new Error(i[u(760)]);case 23:s[u(657)]=27;break;case 25:return s[u(657)]=27,n[u(521)+"r"][u(739)](e);case 27:case i[u(480)]:return s[u(753)]()}}),Le,this)}function Fe(){var e=ve,t={PqQCw:function(e,t){return e(t)}}[e(566)](ge,regeneratorRuntime[e(594)](Le));return function(n){var r=e;return t[r(702)](this,arguments)}}function De(){var e=ve,t={kEGnM:e(755),pXlyv:e(644)+e(705)+e(682)+e(498)+e(770),Gojng:e(565)};return new(Parse[e(718)])(t[e(656)])[e(502)](t[e(727)])[e(694)](t[e(505)],Parse[e(688)][e(587)]())}!function(e,t){for(var n=ve,r=e();;)try{if(560092==-parseInt(n(645))/1*(-parseInt(n(708))/2)+parseInt(n(597))/3*(-parseInt(n(557))/4)+parseInt(n(692))/5+-parseInt(n(764))/6+parseInt(n(668))/7*(parseInt(n(621))/8)+parseInt(n(558))/9*(-parseInt(n(669))/10)+-parseInt(n(599))/11*(-parseInt(n(738))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}(Oe);const Ke=function(e){var t=ve,n={AbnTT:t(477),QLSYY:t(538),wvWgd:function(e,t){return e+t},TTPIa:t(737),CWAuM:t(648),oRQiu:t(565),BWHii:function(e,t){return e(t)},pfSBV:function(e,t){return e!=t},kRQnh:function(e,t){return e+t},kRQlM:function(e,t){return e*t},cBcYY:t(775),obCrr:function(e,t,n){return e(t,n)},Firaz:function(e,t,n,r){return e(t,n,r)},IeYgq:function(e,t){return e(t)},fkIHh:t(740)+"on",VPvPL:t(733),FwmId:function(e,t){return e(t)},EZZUf:t(514),ZwWsN:function(e,t){return e(t)},zKGez:t(746),JcIbV:function(e,t){return e(t)},ckvKM:t(475),guYWn:function(e){return e()},NTyFE:t(739),ZKyCU:t(673),oAxOL:t(496)};n[t(661)](ke,o,e);var r=n[t(548)](Te,o);function o(e){var i,a=t,s={RdgOx:function(e,t){return n[ve(532)](e,t)},teyrn:function(e,t){return n[ve(499)](e,t)},WcTOx:function(e,t){return n[ve(667)](e,t)},NREeu:n[a(622)]};function u(e){for(var t=a;;)switch(e[t(703)]=e[t(657)]){case 0:i[t(740)+"on"]&&i[t(740)+"on"][t(731)+"e"](),i[t(740)+"on"]=null,i[t(745)][t(553)][t(565)]&&i[t(475)]();case 3:case n[t(562)]:return e[t(753)]()}}function c(){return regeneratorRuntime[a(723)](u,c)}return n[a(661)](be,this,o),i=r[a(515)](this),n[a(675)](Pe,n[a(567)](Ue,i),n[a(681)],null),i[a(745)]=e,i[a(674)+a(513)]=function(e){var t=a,r=i[t(526)][e[t(651)](n[t(485)])];r[t(659)](n[t(663)],(function(){var n=t;s[n(554)](r.de,s[n(509)](r.ds,s[n(689)](e[n(651)](s[n(472)]),1e3)))&&r[n(534)]()})),r[t(748)+t(606)](e,i[t(745)][t(553)][t(565)]),i[t(724)](n[t(489)](n[t(697)],e[t(651)](n[t(485)])),r)},i[a(526)]={spect1x:new fe(n[a(567)](Ue,i),n[a(580)]),spect4x:new fe(n[a(662)](Ue,i),n[a(545)]),spect16x:new fe(n[a(528)](Ue,i),n[a(556)])},i[a(575)]={},i[a(745)][a(476)+a(735)+a(714)][a(592)]((function(){var e=a;i[e(745)][e(553)].on(n[e(634)],n[e(522)](ge,regeneratorRuntime[e(594)](c)))()})),i}return n[t(661)](_e,o,[{key:n[t(762)],value:n[t(693)](Ee)},{key:n[t(641)],value:n[t(693)](Ae)},{key:n[t(710)],value:n[t(693)](Fe)},{key:n[t(523)],get:De}]),o}(r.aN);function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function Be(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Be(i,r,o,a,s,"next",e)}function s(e){Be(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ze(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t,n){return t&&We(e.prototype,t),n&&We(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}function Ye(e,t){return Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ye(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$e(e);if(t){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){if(t&&("object"===Xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Je(e)}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(){}function nt(){this.removePlanData(this.list.slice(0))}function rt(){return new Parse.Query("UserSubscription").include("sp").select("de,ds,dc,cde,pm,sp").greaterThanOrEqualTo("de",new Date(this.backend.serverTime)).equalTo("user",Parse.User.current())}var ot=function(e){Ve(n,e);var t=Ze(n);function n(e){var r;function o(e){r.backend.state.user&&r.updatePlanData(e)}function i(e){r.updatePlanData([e])}function a(e){r.updatePlanData([e])}function s(e){r.list.splice(r.list.findIndex((function(t,n){return e.id==t.id})),1),r.emit("remove:"+e.id),r.emit("update")}function u(){function e(e){r.backend.state.user&&(e.on("create",i),e.on("update",a),e.on("delete",s),r.backend.state.once("user",(function(t){!t&&r.clean(),!t&&e.unsubscribe()})))}return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.backend.state.user&&(r.query().find().then(o),r.query().subscribe().then(e));case 2:case"end":return t.stop()}}),u)}return He(this,n),et(Je(r=t.call(this)),"list",[]),r.backend=e,r.updatePlanData=function(e){if(r.backend.state.user){var t,n=!1,o=ze(e);try{var i=function(){var e=t.value,o=r.list.find((function(t){return e.id==t.id})),i=o||new ut(Je(r));i.loadfromParse(e),r.emit("update",i),r.emit("update:"+i.id),o||(n=!0,r.list.push(i),r.emit("add",i),r.emit("add:"+i.id,i))};for(o.s();!(t=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}n&&r.emit("update*")}},r.removePlanData=function(e){var t,n=!1,o=ze(e);try{for(o.s();!(t=o.n()).done;){var i=t.value,a=r.list.indexOf(i);a>=0&&(r.list.splice(a,1),n=!0,r.emit("remove",i),r.emit("remove:"+i.id,i))}}catch(e){o.e(e)}finally{o.f()}n&&r.emit("update*")},r.backend.config_received_promise.then((function(){r.backend.state.on("user",Ne(regeneratorRuntime.mark(u)))()})),r}return Ge(n,[{key:"init",value:tt},{key:"clean",value:nt},{key:"query",value:rt}]),n}(r.aN);function it(e){this.id=e.id,this.cancelAtExpiration=e.get("cde"),this.date_start=e.get("ds"),this.date_end=e.get("de"),this.subscription_id=e.get("sp").id,this.subscription_name=e.get("sp").get("name"),this.subscription_quotas=e.get("sp").get("quotas"),this.subscription_description=e.get("sp").get("description")}function at(){this.unlisten(),clearInterval(this.checkInterval)}function st(){this.destroy(),this.parent.removePlanData([this])}var ut=function(e){Ve(n,e);var t=Ze(n);function n(e){var r;return He(this,n),et(Je(r=t.call(this)),"id",""),et(Je(r),"cancelAtExpiration",null),et(Je(r),"date_start",new Date),et(Je(r),"date_end",new Date),et(Je(r),"subscription_id",""),et(Je(r),"subscription_name",""),et(Je(r),"subscription_quotas",{}),et(Je(r),"subscription_description",""),r.parent=e,r.checkInterval=setInterval((function(){r.parent.backend.serverTime>r.date_end.getTime()&&r.selfDestroy()}),1e3),r}return Ge(n,[{key:"loadfromParse",value:it},{key:"destroy",value:at},{key:"selfDestroy",value:st}]),n}(r.aN);const ct=ot;function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function ft(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function ht(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ft(i,r,o,a,s,"next",e)}function s(e){ft(i,r,o,a,s,"throw",e)}a(void 0)}))}}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pt(e,t)}function vt(e,t){if(t&&("object"===lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yt(e)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e){for(;;)switch(e.prev=e.next){case 0:this.state.user;case 1:case"end":return e.stop()}}function wt(){return regeneratorRuntime.wrap(bt,wt,this)}function _t(){var e,t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Parse.Cloud.run("cloudConfig");case 2:return e=r.sent,Object.assign(this.storage,e),t=new Date(this.storage.date).getTime(),n=t-Date.now(),this.timeDiff=n,this.log("Config received"),r.abrupt("return");case 9:case"end":return r.stop()}}),_t,this)}function kt(){var e=ht(regeneratorRuntime.mark(_t));return function(){return e.apply(this,arguments)}}function St(){var e,t,n,r=this,o=location.origin+"/redirect/",i=(e=["https://accounts.google.com/o/oauth2/v2/auth?","scope=email%20openid%20profile","access_type=offline","client_id=231339435300-bul8uu00l2vki36imo79s9rvecdgkjs6.apps.googleusercontent.com","redirect_uri="+o,"response_type=code"].join("&"),"Auth",500,600,t=(screen.width-500)/2,n=(screen.height-600)/4,window.open(e,"Auth","resizable=yes, width=500, height=600, top="+n+", left="+t));if(!i)return alert("Please allow popups for this site!");var a=window.setInterval((function(){if(i.closed)return clearInterval(a);var e,t,n=!1;try{n=-1!=i.document.URL.indexOf(o)}catch(e){}if(n&&-1!=i.document.URL.indexOf(o)){window.clearInterval(a);var s=i.document.URL;i.close();var u=(e=s.substr(s.indexOf("#")+1),t={},e.replace(/([^?=&]+)(=([^&]*))?/g,(function(e,n,r,o){t[n]=decodeURIComponent(o)})),t);u.redirect=o,r.getTokenGoogle(u)}}),10)}function Tt(){this.app.fcontroller.disableAllOrToggle(),Parse.User.logOut(),this.state.user=null}function xt(){return(new Date).getTime()+this.timeDiff}var Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}(u,e);var t,n,o,i,a,s=(i=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mt(i);if(a){var n=mt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return vt(this,e)});function u(e){var t;function n(e){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Parse.Cloud.run("GoogleToken",e);case 3:return r=n.sent,o=new Parse.User,i={id:r.id,id_token:r.id_token,access_token:r.access_token},n.next=8,o.linkWith("google",{authData:i});case 8:t.state.user=Parse.User.current(),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),t.state.user=null,console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,11]])}!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),gt(yt(t=s.call(this)),"log",console.log),gt(yt(t),"serverURL","https://knower.herokuapp.com/parse"),gt(yt(t),"getTokenGoogle",function(){var e=ht(regeneratorRuntime.mark(n));return function(t){return e.apply(this,arguments)}}()),t.app=e,t.timeDiff=0,t.isDebug=!0,(0,r.qc)(!0,yt(t),"[[96mBackend[39m]:"),Parse.initialize("myAppId","myClientKey"),location.href.indexOf("dev")>-1&&(t.serverURL="http://localhost:1337/parse"),Parse.serverURL=t.serverURL;var o={processUserDataInterval:0,ts:Date.now(),date:(new Date).toISOString()};return Object.assign(o,r.tO.get("backend")),t.storage=(0,r.fC)(o),t.storage.on("*",(function(){return r.tO.set("backend",t.storage)})),t.state=(0,r.fC)({user:null,subscription:null}),t.state.on("user",(function(){return t.onInitUser()})),t.state.user=Parse.User.current(),t.config_received_promise=t.init(),t.leaderboardsSync=new T(yt(t)),t.userPlans=new Ke(yt(t)),t.userSubscription=new ct(yt(t)),t}return t=u,n=[{key:"onInitUser",value:(o=ht(regeneratorRuntime.mark(wt)),function(){return o.apply(this,arguments)})},{key:"init",value:kt()},{key:"loginWithGoogle",value:St},{key:"logOut",value:Tt},{key:"serverTime",get:xt}],n&&dt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.aN);const Ct=Ut;var It=n(2284),Pt=n(8499);function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t,n){return t&&Rt(e.prototype,t),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mt(e){return e.x>=this.x&&e.x<=this.x+this.w&&e.y>=this.y&&e.y<=this.y+this.h}function At(e){return e.x<this.x+this.w&&e.x+e.w>this.x&&e.y<this.y+this.h&&e.y+e.h>this.y}function jt(e,t){if(null!=this.children){var n=e.x>this.x+this.w/2,r=e.y>this.y+this.h/2;this.children[n+2*r].insert(e,1.1*t)}else this.points.push(e),this.points.length>t&&this.w>1&&this.split(t)}function Lt(){if(null!=this.children){for(var e=0;e<4;++e)this.children[e].clear();this.children.length=0,this.children=null}this.points.length=0,this.points=null}var Ft=function(){function e(t,n,r,o){Ot(this,e),this.x=t,this.y=n,this.w=r,this.h=o,this.points=[],this.children=null}return Et(e,[{key:"containsPoint",value:Mt},{key:"overlaps",value:At},{key:"insert",value:jt},{key:"some",value:function(t,n){if(null!=this.children)for(var r=0;r<this.children.length;++r){var o=this.children[r];if(o.overlaps(t)&&o.some(t,n))return!0}else for(var i=0;i<this.points.length;++i){var a=this.points[i];if(e.prototype.containsPoint.call(t,a)&&n(a))return!0}return!1}},{key:"split",value:function(t){this.children=[];for(var n=this.w/2,r=this.h/2,o=0;o<2;++o)for(var i=0;i<2;++i){var a=this.x+i*n,s=this.y+o*r;this.children.push(new e(a,s,n,r))}var u=this.points;this.points=[];for(var c=this.x+n,l=this.y+r,f=0;f<u.length;++f){var h=u[f],d=h.x>c,p=h.y>l;this.children[d+2*p].insert(h,1.1*t)}}},{key:"clear",value:Lt}]),e}();function Dt(){this.root.clear()}function Kt(e){this.root.containsPoint(e)&&this.root.insert(e,this.maxPoints)}function Xt(e,t){return this.root.some(e,t)}var Bt=function(){function e(t,n,r,o,i){Ot(this,e),this.root=new Ft(t,n,r,o),this.maxPoints=i}return Et(e,[{key:"clear",value:Dt},{key:"insert",value:Kt},{key:"some",value:Xt}]),e}();const Nt=Bt;var zt="undefined"!=typeof window?window:{screen:{},navigator:{}},qt=(zt.matchMedia||function(){return{matches:!1}}).bind(zt),Ht=!1,Wt={get passive(){return Ht=!0}},Gt=function(){};zt.addEventListener&&zt.addEventListener("p",Gt,Wt),zt.removeEventListener&&zt.removeEventListener("p",Gt,!1);var Vt=Ht,Yt="PointerEvent"in zt,Zt="ontouchstart"in zt,Qt=Zt||"TouchEvent"in zt&&qt("(any-pointer: coarse)").matches,Jt=(zt.navigator.maxTouchPoints||0)>0||Qt,$t=zt.navigator.userAgent||"",en=qt("(pointer: coarse)").matches&&/iPad|Macintosh/.test($t)&&Math.min(zt.screen.width||0,zt.screen.height||0)>=768,tn=(qt("(pointer: coarse)").matches||!qt("(pointer: fine)").matches&&Zt)&&!/Windows.*Firefox/.test($t),nn=qt("(any-pointer: fine)").matches||qt("(any-hover: hover)").matches||en||!Zt,rn=!Jt||!nn&&tn?Jt?"touchOnly":"mouseOnly":"hybrid",on="mouseOnly"===rn?"mouse":"touchOnly"===rn||tn?"touch":"mouse",an=!!document.createElement("canvas").getContext("webgl2");const sn={basePath:"./",isDevMode:-1!=location.href.indexOf("dev")&&document.baseURI.includes("5500"),isAgarioHost:location.host.includes("agar.io"),isWebGL2Supported:an,isWebGL2MightSupported:an||"undefined"!=typeof WebGL2RenderingContext,deviceType:rn,primaryInput:on,supportsPassiveEvents:Vt,supportsPointerEvents:Yt,supportsTouchEvents:Qt};var un=function(e){return function(t,n,r){return e(t,n,r)*r}},cn=function(e,t){if(e)throw Error("Invalid sort config: "+t)},ln=function(e){var t=e||{},n=t.asc,r=t.desc,o=n?1:-1,i=n||r;return cn(!i,"Expected `asc` or `desc` property"),cn(n&&r,"Ambiguous object with `asc` and `desc` config properties"),{order:o,sortBy:i,comparer:e.comparer&&un(e.comparer)}};function fn(e,t,n){if(void 0===e||!0===e)return function(e,r){return t(e,r,n)};if("string"==typeof e)return cn(e.includes("."),"String syntax not allowed for nested properties."),function(r,o){return t(r[e],o[e],n)};if("function"==typeof e)return function(r,o){return t(e(r),e(o),n)};if(Array.isArray(e)){var r=function(e){return function t(n,r,o,i,a,s,u){var c,l;if("string"==typeof n)c=s[n],l=u[n];else{if("function"!=typeof n){var f=ln(n);return t(f.sortBy,r,o,f.order,f.comparer||e,s,u)}c=n(s),l=n(u)}var h=a(c,l,i);return(0===h||null==c&&null==l)&&r.length>o?t(r[o],r,o+1,i,a,s,u):h}}(t);return function(o,i){return r(e[0],e,1,n,t,o,i)}}var o=ln(e);return fn(o.sortBy,o.comparer||t,o.order)}var hn=function(e,t,n,r){return Array.isArray(t)?(Array.isArray(n)&&n.length<2&&(n=n[0]),t.sort(fn(n,r,e))):t};function dn(e){var t=un(e.comparer);return function(n){var r=Array.isArray(n)&&!e.inPlaceSorting?n.slice():n;return{asc:function(e){return hn(1,r,e,t)},desc:function(e){return hn(-1,r,e,t)},by:function(e){return hn(1,r,e,t)}}}}var pn=function(e,t,n){return null==e?n:null==t?-n:e<t?-1:e>t?1:0};function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function yn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t){return bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bn(e,t)}function wn(e,t){if(t&&("object"===vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _n(e)}function _n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kn(e){return kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kn(e)}function Sn(){return o.Xd.emit("renderer")}function Tn(e){setTimeout(Sn,500)}function xn(e){this.delta=e.delta,this.now=u.X.runtime,Pt.T.cleaner(),this.updateObjects(this.delta)}function Un(e){this.cellsFrame.length=0,this.foodFrame.length=0,this.virusesFrame.length=0,this.quadtree=null,this.pageActive=!0;var t,n=u.X.runtime,r=e/o.Xd.raw.animation.value;r=r<0?0:r>1?1:r;for(var i=this.application.waves.length,s=null;s=this.application.waves[--i];)s.move(),s.duration<s.delta&&this.application.waves.splice(i,1);for(var c=0,l=this.application.clients.render.length;l>c;c++){var f=Ds.clients.render[c];f.time=n;for(var h=0,d=f.cells.length;h<d;h++)(t=f.cells[h]).moveCell(r),1!==d&&Ds.reverseCheckView(t,c)||!this.isInDisplay(t.x,t.y,t.size+(o.Xd.raw.virusesRange.value?820:0))||(this.cellsFrame.push(t),t.type===a.bL.Type.virus&&this.virusesFrame.push(t))}if(this.setView(e),this.calcCameraBounds(),Ds.getActiveTab()&&this.setCursorPosition(Ds.getActiveTab()),o.Xd.raw.jellyPhysics.value&&this.scale>.2){this.updateQuadtree();for(var p=this.cellsFrame,v=p.length,y=0;v>y;++y)for(var m=p[y],g=0,b=m.points.length;b>g;++g)this.quadtree.insert(m.points[g]);for(var w=0;w<v;w++){var _=p[w];_.updateNumPoints(this.scale),_.movePoints(this.quadtree)}}var k,S=yn(this.removedCellsSet);try{for(S.s();!(k=S.n()).done;){var T=k.value;T.moveCell(r),T.animation<=0&&this.removedCellsSet.delete(T)}}catch(e){S.e(e)}finally{S.f()}var x,U=yn(this.removedPelletsSet);try{for(U.s();!(x=U.n()).done;){var C=x.value;C.moveFood(e),C.animation<=0&&this.removedPelletsSet.delete(C)}}catch(e){U.e(e)}finally{U.f()}for(var I=0,P=this.application.clients.render.length;I<P;I++){var O=this.application.clients.render[I];if(this.boxInDisplay(O.bound.left,O.bound.top,O.bound.right-O.bound.left,O.bound.bottom-O.bound.top))for(var R=0,E=O.foods.length;R<E;R++)O.foods[R].moveFood(e)}this.cellsFrame.sort(this.zIndexSortCellsLayer)}function Cn(e){return e.size}function In(){this.removedCellsSet.clear(),this.removedPelletsSet.clear()}function Pn(){var e=Math.max(this.canvasWidth,this.canvasHeight),t=e/this.scale,n=e/this.scale,r=this.camera.x-t/2,o=this.camera.y-n/2;return this.quadtree=new Nt(r,o,t,n,16),this.quadtree}function On(e,t){return e.size-t.size-1}function Rn(e){var t=this.mouseDisplayX,n=this.mouseDisplayY;if(this._scantrickEnabled){var r=Math.atan2(this.mouseDisplayY-.5*this.canvasHeight,this.mouseDisplayX-.5*this.canvasWidth);t=1e7*Math.cos(r),n=1e7*Math.sin(r)}this.mouseWorldX=(t-.5*this.canvasWidth)/this.scale+this.camera.x,this.mouseWorldY=(n-.5*this.canvasHeight)/this.scale+this.camera.y;var o=this.application.unitManager.activeUnit;e.cursorX=this.mouseWorldX,e.cursorY=this.mouseWorldY,o&&!o._cursorLocked&&(o.cursor.x=this.mouseWorldX,o.cursor.y=this.mouseWorldY)}function En(e){var t=this.zoomValue;t=2<(t=this.zoomValue*Math.pow(o.Xd.raw.zoomSpeedValue.value,e.wheelDelta/-120||e.detail||0))?2:.02>t?.02:t,this.zoomValue=t}function Mn(){var e=this.zoomValue;return Math.max(this.canvasWidth/1920,this.canvasHeight/1080)*e}function An(e){var t;0==(e=e<0?0:e>1?1:e)&&(console.error("Anti error"),e=1);var n,r=0,i=0,a=0,s=yn(this.application.unitManager.units);try{for(s.s();!(n=s.n()).done;){var u=n.value;u.cells.length&&(a++,u.calculateUnitMassAndPosition(),r+=u.view.x,i+=u.view.y)}}catch(e){s.e(e)}finally{s.f()}if(a&&(r/=a,i/=a),o.Xd.raw.autoZoom.value&&a){var c,l,f=0,h=yn(this.application.unitManager.units);try{for(h.s();!(l=h.n()).done;){var d=l.value;d.cells.length&&(f+=this.calcAutoScale(d))}}catch(e){h.e(e)}finally{h.f()}c=f/=a;var p=o.Xd.raw.zoomSmoothness.value,v=p-1;this.scale=(v*this.scale+c)/p}else this.calcScale(e);if(!o.Xd.raw.mbCenterCamera.value&&(null===(t=this.application.unitManager.activeUnit)||void 0===t?void 0:t.play))r=this.application.unitManager.activeUnit.view.x,i=this.application.unitManager.activeUnit.view.y;else if(0==a){var y,m;r=(null===(y=this.application.unitManager.activeUnit)||void 0===y?void 0:y.client.viewX)||0,i=(null===(m=this.application.unitManager.activeUnit)||void 0===m?void 0:m.client.viewY)||0}this.camTarget.x=r,this.camTarget.y=i,Ds.play?!1===this.teleportCamera?0===o.Xd.raw.cameraDelay.value?(this.camera.x+=(r-this.camera.x)/(2*e),this.camera.y+=(i-this.camera.y)/(2*e)):(this.camera.x+=(r-this.camera.x)/(e*o.Xd.raw.cameraDelay.value),this.camera.y+=(i-this.camera.y)/(e*o.Xd.raw.cameraDelay.value)):(this.teleportCamera=!1,this.camera.x=r,this.camera.y=i):(this.camera.x+=(r-this.camera.x)/(30*e),this.camera.y+=(i-this.camera.y)/(30*e))}function jn(){var e=this.canvasWidth/2/this.scale,t=this.canvasHeight/2/this.scale;this.cameraBounds.left=this.camera.x-e,this.cameraBounds.right=this.camera.x+e,this.cameraBounds.top=this.camera.y-t,this.cameraBounds.bottom=this.camera.y+t}function Ln(e){var t=o.Xd.raw.zoomSmoothness.value,n=t-1;return this.scale=(n*this.scale+this.getZoom())/t,this.scale}function Fn(e){var t=0;return e.play?(t=Math.pow(Math.min(64/e.size,1),.2)*this.getZoom(),t*=2):(t=e.client.protocol_spect_scale*this.getZoom(),t*=e.client.protocol_spect_scale<1.5?3:1),t}function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight,n=o.Xd.raw.canvasScale.value*window.devicePixelRatio;this.canvasWidth=Math.round((e||window.innerWidth)*n),this.canvasHeight=Math.round((t||window.innerHeight)*n),this.canvasStyleWidth=Math.round(e||window.innerWidth),this.canvasStyleHeight=Math.round(t||window.innerHeight),this.emit("resize")}function Kn(){var e=this;r.dD.on("hk-resetZoom:down",(function(){e.zoomValue=.25})),r.dD.on("hk-zoom1:down",(function(){e.zoomValue=.5})),r.dD.on("hk-zoom2:down",(function(){e.zoomValue=.25})),r.dD.on("hk-zoom3:down",(function(){e.zoomValue=.125})),r.dD.on("hk-zoom4:down",(function(){e.zoomValue=.075})),r.dD.on("hk-zoom5:down",(function(){e.zoomValue=.035})),r.dD.on("hk-undefined:down",(function(){e.scantrickEnabled=!0})),r.dD.on("hk-undefined:up",(function(){e.scantrickEnabled=!1})),r.dD.on("hk-switchPlayer:down",(function(){!o.Xd.raw.mbCenterCamera.value&&o.Xd.raw.mbSkipCameraScroll.value&&(e.teleportCamera=!0)})),r.dD.on("hk-customMapTexture:down",(function(){e.hkTexture=!e.hkTexture}))}function Xn(e,t,n){return!(e+n<this.cameraBounds.left||t-n>this.cameraBounds.bottom||e-n>this.cameraBounds.right||t+n<this.cameraBounds.top)}function Bn(e,t,n,r,o,i,a,s){return e<this.cameraBounds.right&&e+n>this.cameraBounds.left&&t<this.cameraBounds.bottom&&t+r>this.cameraBounds.top}function Nn(e){return!(e.left>=this.cameraBounds.right||this.cameraBounds.left>=e.right||e.top>=this.cameraBounds.bottom||this.cameraBounds.top>=e.bottom)}function zn(e,t){for(;t--;)return Ds.clients.render[t].isInViewHSLO(e)}function qn(){}function Hn(){var e=this;this.application.on("spawn",qn),r.dD.on("hk-resetZoom:down",(function(){e.zoomValue=.25})),r.dD.on("hk-zoom1:down",(function(){e.zoomValue=.5})),r.dD.on("hk-zoom2:down",(function(){e.zoomValue=.25})),r.dD.on("hk-zoom3:down",(function(){e.zoomValue=.125})),r.dD.on("hk-zoom4:down",(function(){e.zoomValue=.075})),r.dD.on("hk-zoom5:down",(function(){e.zoomValue=.035})),r.dD.on("hk-undefined:down",(function(){e._scantrickEnabled=!0})),r.dD.on("hk-undefined:up",(function(){e._scantrickEnabled=!1})),r.dD.on("hk-switchPlayer:down",(function(){!o.Xd.raw.mbCenterCamera.value&&o.Xd.raw.mbSkipCameraScroll.value&&(e.teleportCamera=!0)})),r.dD.on("hk-customMapTexture:down",(function(){e.hkTexture=!e.hkTexture})),r.dD.on("LEFT MOUSE:down",(function(t){var n=Ds.getActiveTab();if(!n)return console.error("no active client");e.setCursorPosition(n);var r=n.findCell(n.cursorX,n.cursorY,!0);n.isFreeSpectate&&(r?n.isInViewport2(r)&&n.spectateTo(r):(n.isInViewport(n.cursorX,n.cursorY,1),n.spectateTo()))})),/firefox/i.test(navigator.userAgent)?document.addEventListener("DOMMouseScroll",this.setZoom.bind(this)):window.addEventListener("wheel",this.setZoom.bind(this)),window.addEventListener("mousemove",(function(t){e.mouseDisplayX=t.clientX*(window.devicePixelRatio*o.Xd.raw.canvasScale.value),e.mouseDisplayY=t.clientY*(window.devicePixelRatio*o.Xd.raw.canvasScale.value);var n=Ds.getActiveTab();n&&e.setCursorPosition(n)}))}dn({comparer:pn}),dn({comparer:pn,inPlaceSorting:!0});var Wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bn(e,t)}(f,e);var t,i,s,c,l=(s=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=kn(s);if(c){var n=kn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return wn(this,e)});function f(e){var t,i,s;function c(e,n){t.pageActive&&(e.type===a.bL.Type.cell||e.type===a.bL.Type.virus?t.removedCellsSet.add(e):e.type==a.bL.Type.food&&t.removedPelletsSet.add(e))}function h(e){0===o.Xd.proxy.renderer&&(t.render=new e.default(t.application,_n(t)))}function d(e){1===o.Xd.proxy.renderer&&(t.render=new e.default(t.application,_n(t)),t.render.canvas.addEventListener("webglcontextlost",Tn))}function p(){n.e(207).then(n.bind(n,7207)).then(d)}function v(e){2===o.Xd.proxy.renderer&&(t.render=new e.default(t.application,_n(t)))}function y(){n.e(26).then(n.bind(n,9026)).then(v)}return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),null,(s="render")in(i=_n(t=l.call(this)))?Object.defineProperty(i,s,{value:null,enumerable:!0,configurable:!0,writable:!0}):i[s]=null,t.isDebug=!0,(0,r.qc)(!0,_n(t),"[[96mStage[39m]:"),t.application=e,t.camTarget={x:0,y:0},t.camera={x:0,y:0},t.targetScale=1,t.scale=1,t.canvasScale=1,t.zoomValue=.22,t.teleportCamera=!1,t.cameraBounds={left:0,right:0,top:0,bottom:0},t.mouseDisplayX=0,t.mouseDisplayY=0,t.mouseWorldX=0,t.mouseWorldY=0,t.canvasStyleWidth=0,t.canvasStyleHeight=0,t.canvasWidth=0,t.canvasHeight=0,t._scantrickEnabled=!1,t.delta=0,t.pageActive=!0,t.lastTickerRuntime=0,document.addEventListener("visibilitychange",(function(){document.hidden?(t.pageActive=!1,t.clearAnimations()):(t.clearAnimations(),t.pageActive=!0,t.teleportCamera=!0)}),!1),setInterval((function(){u.X.runtime==t.lastTickerRuntime&&(t.pageActive=!1,t.clearAnimations()),t.lastTickerRuntime=u.X.runtime}),1e3),t.cellsFrame=[],t.foodFrame=[],t.virusesFrame=[],t.removedCells=[],t.removedCellsSet=new Set,t.removedPelletsSet=new Set,t.application.on("initClient",(function(e){e.listenTo(e,"removeCell",c)})),o.Xd.on("renderer",(function(){if(t.render&&(Pt.T.cleaner("nick"),Pt.T.cleaner("mass"),t.render.destroy(),t.render=null),0===o.Xd.proxy.renderer)n.e(905).then(n.bind(n,4905)).then(h);else if(1===o.Xd.proxy.renderer){if(!sn.isWebGL2Supported)return o.Xd.proxy.renderer=0;Promise.all([window.System.import("https://cdnjs.cloudflare.com/ajax/libs/gl-matrix/2.8.1/gl-matrix-min.js"),window.System.import("https://unpkg.com/earcut@2.2.4/dist/earcut.min.js"),window.System.import("https://cdnjs.cloudflare.com/ajax/libs/pixi.js/6.5.1/browser/pixi.js")]).then(p)}else 2===o.Xd.proxy.renderer&&Promise.all([window.System.import("https://cdnjs.cloudflare.com/ajax/libs/pixi.js/6.5.1/browser/pixi.js")]).then(y)}))(),window.addEventListener("resize",(function(){t.resize()})),t.resize(),u.X.on("update",t.update.bind(_n(t))),u.X.on("render",(function(e){t.emit("render",e)})),o.Xd.on("canvasScale",(function(){return t.resize()})),t.initEvents(),t}return t=f,(i=[{key:"update",value:xn},{key:"updateObjects",value:Un},{key:"ips",value:Cn},{key:"clearAnimations",value:In},{key:"updateQuadtree",value:Pn},{key:"zIndexSortCellsLayer",value:On},{key:"setCursorPosition",value:Rn},{key:"setZoom",value:En},{key:"getZoom",value:Mn},{key:"setView",value:An},{key:"calcCameraBounds",value:jn},{key:"calcScale",value:Ln},{key:"calcAutoScale",value:Fn},{key:"resize",value:Dn},{key:"initHotkeyEvents",value:Kn},{key:"isInDisplay",value:Xn},{key:"boxInDisplay",value:Bn},{key:"overlaps",value:Nn},{key:"reverseCheckView",value:zn},{key:"initEvents",value:Hn}])&&gn(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.aN);const Gn=Wn;var Vn=n(780);function Yn(e){var t=kr,n={AVNrB:function(e,t){return e==t},vgbgj:t(201),VkOzV:function(e,t){return e===t},fRfSe:function(e,t){return e!==t},lELBi:t(316),WdPbC:function(e,t){return e==t},VyIjR:function(e,t){return e==t},sbWoy:function(e,t){return e(t)}};return Yn=n[t(367)](n[t(143)],typeof Symbol)&&n[t(258)](n[t(184)],typeof Symbol[t(406)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(195)](n[r(143)],typeof Symbol)&&n[r(261)](e[r(229)+"r"],Symbol)&&n[r(177)](e,Symbol[r(247)])?n[r(184)]:typeof e},n[t(417)](Yn,e)}function Zn(e,t){for(var n=kr,r={ArLQg:n(175),hAzcV:function(e,t){return e(t)},yYMje:function(e,t){return e&&t},DTOuN:function(e,t){return e===t},oSIiq:n(146),RAnQf:n(214)+n(386)+n(372)+n(194)+n(171)+n(200)+n(340)+n(114)+n(241)+n(196)+n(111)+n(156)+n(354)+"d.",DeNCf:function(e,t){return e>=t},GeBbN:function(e,t){return e!=t},UFokV:n(271),DRUle:function(e,t){return e!==t},vbBSh:n(109),yBVPB:n(211)},o=r[n(118)][n(327)]("|"),i=0;;){switch(o[i++]){case"0":if(!h){if(Array[n(124)](e)||(h=r[n(377)](Qn,e))||r[n(408)](t,e)&&r[n(285)](typeof e[n(248)],r[n(348)])){h&&(e=h);var a=0,s=function(){};return{s,n:function(){var t=n;return f[t(312)](a,e[t(248)])?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError(r[n(392)])}continue;case"1":var u,c=!0,l=!1;continue;case"2":return{s:function(){h=h[n(126)](e)},n:function(){var e=n,t=h[e(409)]();return c=t[e(373)],t},e:function(e){l=!0,u=e},f:function(){var e=n;try{!c&&f[e(110)](h[f[e(172)]],null)&&h[f[e(172)]]()}finally{if(l)throw u}}};case"3":var f={fEAEK:function(e,t){return r[n(230)](e,t)},FybLE:function(e,t){return r[n(362)](e,t)},IfJvn:r[n(287)]};continue;case"4":var h=r[n(291)](typeof Symbol,r[n(207)])&&e[Symbol[n(406)]]||e[r[n(284)]];continue}break}}function Qn(e,t){for(var n=kr,r={FLelz:n(338)+"4",QEPVV:function(e,t){return e===t},OQBqU:n(370),gtNWp:n(254),JUfmN:function(e,t,n){return e(t,n)},RkKDv:function(e,t){return e===t},UFRHq:n(304),nPPwW:function(e,t,n){return e(t,n)},qPUjn:n(358),CZvre:n(422)},o=r[n(387)][n(327)]("|"),i=0;;){switch(o[i++]){case"0":r[n(335)](a,r[n(181)])&&e[n(229)+"r"]&&(a=e[n(229)+"r"][n(142)]);continue;case"1":var a=Object[n(247)][n(328)][n(126)](e)[n(280)](8,-1);continue;case"2":if(!e)return;continue;case"3":if(r[n(335)](typeof e,r[n(276)]))return r[n(222)](Jn,e,t);continue;case"4":if(r[n(302)](a,r[n(239)])||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[n(353)](a))return r[n(242)](Jn,e,t);continue;case"5":if(r[n(335)](a,r[n(198)])||r[n(302)](a,r[n(279)]))return Array[n(289)](e);continue}break}}function Jn(e,t){var n=kr,r={KxKAA:function(e,t){return e==t},Ynuxt:function(e,t){return e>t},xtxuv:function(e,t){return e<t}};(r[n(415)](t,null)||r[n(129)](t,e[n(248)]))&&(t=e[n(248)]);for(var o=0,i=new Array(t);r[n(192)](o,t);o++)i[o]=e[o];return i}function $n(e,t){var n=kr,r={xdIha:function(e,t){return e instanceof t},MdtHn:n(150)+n(257)+n(151)+n(339)};if(!r[n(349)](e,t))throw new TypeError(r[n(180)])}function er(e,t){for(var n=kr,r={ZCbGz:function(e,t){return e<t},AktOJ:n(309),PRAyP:function(e,t){return e in t},rzKXt:n(305)},o=0;r[n(405)](o,t[n(248)]);o++)for(var i=r[n(138)][n(327)]("|"),a=0;;){switch(i[a++]){case"0":s[n(108)]=s[n(108)]||!1;continue;case"1":r[n(333)](r[n(183)],s)&&(s[n(197)]=!0);continue;case"2":Object[n(260)+n(193)](e,s[n(299)],s);continue;case"3":s[n(186)+"le"]=!0;continue;case"4":var s=t[o];continue}break}}function tr(e,t,n){var r=kr,o={uAdrI:function(e,t,n){return e(t,n)},QDwVJ:r(247)};return t&&o[r(153)](er,e[r(247)],t),n&&o[r(153)](er,e,n),Object[r(260)+r(193)](e,o[r(389)],{writable:!1}),e}function nr(e,t){var n=kr,r={wehag:function(e,t){return e!==t},MHnUM:n(201),UdsiE:n(113)+n(236)+n(282)+n(225)+n(361),IVsrH:n(247),YhrSC:function(e,t,n){return e(t,n)}};if(r[n(135)](typeof t,r[n(161)])&&r[n(135)](t,null))throw new TypeError(r[n(359)]);e[n(247)]=Object[n(342)](t&&t[n(247)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(260)+n(193)](e,r[n(297)],{writable:!1}),t&&r[n(331)](rr,e,t)}function rr(e,t){var n=kr;return rr=Object[n(125)+n(206)]||function(e,t){return e[n(251)]=t,e},{wBmfi:function(e,t,n){return e(t,n)}}[n(259)](rr,e,t)}function or(e){var t=kr,n={RksGr:function(e,t){return e(t)},LEmWX:function(e,t,n){return e(t,n)},ogWla:function(e){return e()}},r=n[t(255)](sr);return function(){var o,i=t,a=n[i(326)](ur,e);if(r){var s=n[i(326)](ur,this)[i(229)+"r"];o=Reflect[i(170)](a,arguments,s)}else o=a[i(365)](this,arguments);return n[i(343)](ir,this,o)}}function ir(e,t){var n=kr,r={TPXYp:function(e,t){return e===t},RBVIi:function(e,t){return e(t)},YSfsH:n(169),poyDo:function(e,t){return e===t},ATcEk:n(201),sxqwh:function(e,t){return e!==t},hDEnA:n(226)+n(234)+n(390)+n(167)+n(189)+n(127),tpzHO:function(e,t){return e(t)}};if(t&&(r[n(185)](r[n(274)](Yn,t),r[n(376)])||r[n(122)](typeof t,r[n(292)])))return t;if(r[n(145)](t,void 0))throw new TypeError(r[n(346)]);return r[n(123)](ar,e)}function ar(e){var t=kr,n={hDxJc:function(e,t){return e===t},OlVsI:t(178)+t(231)+t(384)+t(397)+t(269)+t(379)};if(n[t(401)](e,void 0))throw new ReferenceError(n[t(388)]);return e}function sr(){var e=kr,t={dyycw:function(e,t){return e===t},SFduk:e(109),XhpsQ:function(e,t){return e===t},EdBpW:e(201)};if(t[e(319)](typeof Reflect,t[e(337)])||!Reflect[e(170)])return!1;if(Reflect[e(170)][e(344)])return!1;if(t[e(164)](typeof Proxy,t[e(223)]))return!0;try{return Boolean[e(247)][e(121)][e(126)](Reflect[e(170)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function ur(e){var t=kr;return ur=Object[t(125)+t(206)]?Object[t(103)+t(206)]:function(e){var n=t;return e[n(251)]||Object[n(103)+n(206)](e)},{zDoIB:function(e,t){return e(t)}}[t(165)](ur,e)}function cr(e,t,n){var r=kr;return{DSKNB:function(e,t){return e in t}}[r(154)](t,e)?Object[r(260)+r(193)](e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lr(){}function fr(e,t){var n=kr;this[n(107)].x=e,this[n(107)].y=t}function hr(e,t){var n=kr;this[n(174)]=t,this[n(357)]=e,this[n(324)]()}function dr(){var e,t=kr,n={lvUxP:function(e,t){return e>t},OqLfI:function(e,t){return e!==t},qYDLE:function(e,t){return e(t)}},r=n[t(179)](arguments[t(248)],0)&&n[t(382)](arguments[0],void 0)?arguments[0]:this[t(364)+"n"][t(219)].ws,o=n[t(212)](Zn,this[t(371)]);try{for(o.s();!(e=o.n())[t(373)];){var i=e[t(305)];i[t(267)](r)}}catch(e){o.e(e)}finally{o.f()}}function pr(){var e,t=kr,n={VfIFv:function(e,t){return e(t)}}[t(416)](Zn,this[t(371)]);try{for(n.s();!(e=n.n())[t(373)];)e[t(305)][t(399)]()}catch(e){n.e(e)}finally{n.f()}}function vr(e,t,n,r){var o=kr,i={gRyib:function(e,t){return e+t},yjSKA:function(e,t){return e-t}};return Math[o(162)](i[o(243)](Math[o(203)](i[o(140)](n,e),2),Math[o(203)](i[o(140)](r,t),2)))}function yr(e,t){var n=kr;return{fpSzo:function(e,t){return e!=t}}[n(202)](e[n(403)+"ed"],t[n(403)+"ed"])?-1:1}function mr(){for(var e=kr,t={UpdUK:function(e,t){return e>t},hQVbR:e(315),AiUIs:e(395)+e(237)+"t:",rHedm:e(176)+e(216),Nxcdn:e(393)+e(238),fkCGe:e(403)+"ed",yggmX:e(246),yDnbB:function(e,t){return e-t},jiooY:function(e,t,n,r,o){return e(t,n,r,o)},hLqUn:e(277)+"2",MwWVY:function(e,t){return e-t},sEtam:function(e,t,n,r,o){return e(t,n,r,o)},LxRQA:function(e,t){return e*t},uGcnq:function(e,t){return e>t},ejXmT:function(e,t){return e(t)},fVJOD:function(e,t){return e(t)},DCjgs:function(e){return e()}},n=this,r=t[e(228)](this[e(174)],this[e(357)]),o=function(r){for(var o=e,i=t[o(139)][o(327)]("|"),a=0;;){switch(i[a++]){case"0":s.on(t[o(394)],(function(e){var t=o;u=2,e[t(308)+t(404)](),e[t(283)+"te"]()}));continue;case"1":s.on(t[o(306)],(function(){var e=o;t[e(368)](u,0)?(console[e(240)](t[e(137)],s,t[e(407)],u),u--,s[e(267)](n[e(364)+"n"][e(219)].ws)):console[e(240)](t[e(137)],s,t[e(345)])}));continue;case"2":var s=n[o(364)+"n"][o(356)](3);continue;case"3":s[o(267)](n[o(364)+"n"][o(219)].ws);continue;case"4":var u=2;continue;case"5":n[o(266)][o(275)]({x:1,y:1});continue;case"6":n[o(371)][o(275)](s);continue}break}},i=this[e(371)][e(248)];t[e(224)](r,i);i++)t[e(182)](o,i);for(var a=this[e(371)][e(280)]()[e(418)]((function(r,o){var i=e;return t[i(217)](t[i(262)](vr,r[i(375)],r[i(218)],n[i(107)].x,n[i(107)].y),t[i(262)](vr,o[i(375)],o[i(218)],n[i(107)].x,n[i(107)].y))})),s=this[e(371)][e(248)];t[e(224)](s--,r);){this[e(266)][e(263)]();var u=a[e(263)]();this[e(371)][e(311)](this[e(371)][e(265)](u),1),this[e(364)+"n"][e(347)+e(244)](u)}{var c,l=this[e(266)][e(280)](),f=this[e(371)][e(280)]()[e(418)](yr),h=[],d=t[e(351)](Zn,this[e(371)]);function v(){for(var n=e,r=t[n(278)][n(327)]("|"),o=0;;){switch(r[o++]){case"0":c[n(305)];continue;case"1":var i={otLpV:function(e,r){return t[n(115)](e,r)},MaGWw:function(e,r,o,i,a){return t[n(160)](e,r,o,i,a)},WKScO:function(e,r,o,i,a){return t[n(262)](e,r,o,i,a)}};continue;case"2":h[n(275)](s);continue;case"3":var a=l[n(235)]();continue;case"4":var s=f[n(119)]((function(e,t){var r=n;return i[r(250)](i[r(105)](vr,e[r(375)],e[r(218)],a.x,a.y),i[r(117)](vr,t[r(375)],t[r(218)],a.x,a.y))?e:t}));continue;case"5":f[n(311)](f[n(265)](s),1);continue}break}}try{var p=v;for(d.s();!(c=d.n())[e(373)];)t[e(166)](p)}catch(y){d.e(y)}finally{d.f()}this[e(371)]=h}}function gr(e,t){var n=kr,r={Pljms:function(e,t){return e%t},WfuTs:function(e,t){return e/t},IXzLv:function(e,t){return e-t}},o=r[n(355)](e,t);return{x:o,y:r[n(421)](r[n(402)](e,o),t)}}function br(){for(var e=kr,t={wnpws:e(208)+e(286)+e(128)+e(294),fPNBt:function(e,t){return e/t},vnYWd:function(e,t){return e==t},HJkXH:function(e,t){return e+t},SPNCN:function(e,t){return e&&t},KanwW:function(e,t){return e/t},cmkcW:function(e,t){return e+t},EiOuW:function(e,t){return e-t},vBhcF:function(e,t){return e-t},UEKUj:function(e,t){return e-t},aJzaT:function(e,t){return e-t},lOlDp:function(e,t){return e+t},iVicS:function(e,t){return e&&t},vIHHr:function(e,t){return e/t},wsyNa:function(e,t){return e*t},wdYgX:function(e,t){return e-t},sZynb:function(e,t){return e>t},zULRC:e(374)+"5",YLyvU:function(e,t){return e*t},gCDsu:function(e,t){return e/t},abYVo:function(e,t,n){return e(t,n)},rHLkI:function(e,t){return e*t},hkRaB:function(e,t){return e*t},Ikjvz:function(e,t){return e-t},VZiYU:function(e,t){return e*t},icFUY:function(e,t){return e/t}},n=t[e(410)][e(327)]("|"),r=0;;){switch(n[r++]){case"0":var o=t[e(268)](T,2);continue;case"1":if(t[e(310)](this[e(371)][e(248)],0))return;continue;case"2":var i=t[e(352)](this[e(107)].x,t[e(220)](p,u)?t[e(317)](t[e(400)](p,u),2):t[e(400)](p,u));continue;case"3":var a=this[e(136)+"th"];continue;case"4":var s=Math[e(378)](t[e(296)](this[e(364)+"n"][e(219)][e(320)],t[e(298)](this[e(107)].y,x)),0);continue;case"5":var u=Math[e(288)](t[e(272)](this[e(364)+"n"][e(219)][e(293)],t[e(400)](this[e(107)].x,o)),0);continue;case"6":var c=Math[e(288)](t[e(152)](this[e(364)+"n"][e(219)][e(204)],t[e(352)](this[e(107)].y,x)),0);continue;case"7":var l=t[e(322)](this[e(107)].y,t[e(270)](s,c)?t[e(253)](t[e(400)](s,c),2):t[e(352)](s,c));continue;case"8":var f=this[e(174)];continue;case"9":var h=t[e(414)](f,d);continue;case"10":var d=this[e(341)+e(191)];continue;case"11":var p=Math[e(378)](t[e(334)](this[e(364)+"n"][e(219)][e(190)],t[e(152)](this[e(107)].x,o)),0);continue;case"12":for(var v=0;t[e(131)](S[e(248)],v);v++)for(var y=t[e(132)][e(327)]("|"),m=0;;){switch(y[m++]){case"0":var g=t[e(296)](t[e(249)](w,a),t[e(414)](t[e(104)](t[e(298)](U,1),2),a));continue;case"1":this[e(371)][v][e(147)]=this[e(266)][v].x;continue;case"2":this[e(266)][v]={x:t[e(352)](g,i),y:t[e(322)](k,l)};continue;case"3":var b=t[e(158)](gr,v,U),w=b.x,_=b.y;continue;case"4":var k=t[e(298)](t[e(188)](_,d),t[e(155)](t[e(317)](t[e(120)](f,1),2),d));continue;case"5":this[e(371)][v][e(411)]=this[e(266)][v].y;continue}break}continue;case"13":var S=new Array(t[e(148)](U,f));continue;case"14":var T=t[e(148)](U,a);continue;case"15":var x=t[e(301)](h,2);continue;case"16":var U=this[e(357)];continue}break}}function wr(){var e=kr;({YXmLl:function(e,t){return e(t)}})[e(295)](clearInterval,this[e(144)]),this[e(396)](0,0),this[e(290)]()}function _r(){var e=["t been ini","assign","XKaQY","nstructors","shift","ession mus","tempts lef","0|1","UFRHq","log","rray objec","nPPwW","gRyib","ent","DlQFB","close","prototype","length","YLyvU","otLpV","__proto__","88908XqTAcM","vIHHr","string","ogWla","UThpR","l a class ","VyIjR","wBmfi","defineProp","VkOzV","jiooY","pop","DcfHG","indexOf","_points","connect","fPNBt","asn't been","iVicS","return","UEKUj","OqXOM","RBVIi","push","gtNWp","1|0|3|4|5|","hLqUn","CZvre","slice","ulpNz","t either b","sendSpecta","yBVPB","DTOuN","6|13|14|9|","UFokV","min","from","unlisten","DRUle","ATcEk","mapMaxX","5|6|2|7|12","YXmLl","EiOuW","IVsrH","vBhcF","key","|3|8|14|6|","icFUY","RkKDv","mEOgl","Arguments","value","yggmX","OPRpx","sendFreeSp","4|0|3|1|2","vnYWd","splice","fEAEK","BNbzE","fjxTp","region","symbol","KanwW","destroy","dyycw","mapMinY","pjxdr","lOlDp","24966VQSYOF","update","63016qQvbOH","RksGr","split","toString","anRSu","fIBwz","YhrSC","2DiPQHi","PRAyP","wdYgX","QEPVV","TLSPb","SFduk","2|3|1|0|5|","ion","o be itera","_regionHei","create","LEmWX","sham","rHedm","hDEnA","destroyCli","oSIiq","xdIha","updatePoin","fVJOD","HJkXH","test","r]() metho","Pljms","initClient","_cols","Map","UdsiE","ZHXhC","a function","GeBbN","jUFWe","applicatio","apply","9|12","WdPbC","UpdUK","NYxcv","Object","_clients","terate non","done","3|0|4|2|1|","viewX","YSfsH","hAzcV","max"," called","21042670SzeFFw","connected","OqLfI","height","tialised -","4|5|10|11|","tempt to i","FLelz","OlVsI","QDwVJ"," may only ","LKZgF","RAnQf","5|4|2|6|3|","fkCGe","closed, at","setSize"," super() h","jjrUs","disconnect","cmkcW","hDxJc","IXzLv","estabilish","ectate","ZCbGz","iterator","AiUIs","yYMje","next","wnpws","targetY","483yILIpt","NaGRn","wsyNa","KxKAA","VfIFv","sbWoy","sort","setTarget","2272828YjEiiG","WfuTs","Set","psQLc","getPrototy","gCDsu","MaGWw","dlENg","_target","enumerable","undefined","FybLE","ve a [Symb","HVNaV","Super expr","ble, non-a","MwWVY","zYuZw","WKScO","ArLQg","reduce","Ikjvz","valueOf","poyDo","tpzHO","isArray","setPrototy","call","efined","0|15|11|4|","Ynuxt","3Kzxmdo","sZynb","zULRC","6309650qaKvsG","xjYMQ","wehag","_regionWid","hQVbR","AktOJ","Nxcdn","yjSKA","SnPHD","name","vgbgj","interval","sxqwh","number","targetX","VZiYU","895nPnBSh","Cannot cal","as a funct","aJzaT","uAdrI","DSKNB","hkRaB","ol.iterato","tick","abYVo","INuKP","sEtam","MHnUM","sqrt","AujRE","XhpsQ","zDoIB","DCjgs","return obj","kZbMa","object","construct","instance.\n","IfJvn","ewoWg","_rows","3|4|0|1|2","connection","fRfSe","this hasn'","lvUxP","MdtHn","OQBqU","ejXmT","rzKXt","lELBi","TPXYp","configurab","SSGPU","rHLkI","ect or und","mapMinX","ght","xtxuv","erty","-iterable ","AVNrB","ts must ha","writable","qPUjn","zdMoK","In order t","function","fpSzo","pow","mapMaxY","ePAel","peOf","vbBSh","1|3|10|8|1","width","11466054pnxbFb","@@iterator","qYDLE","XwXVp","Invalid at","YgQJB"," lost","yDnbB","viewY","server","SPNCN","13|1|0|7|2","JUfmN","EdBpW","uGcnq","e null or ","Derived co","KOlJn","LxRQA","constructo","DeNCf"];return(_r=function(){return e})()}function kr(e,t){var n=_r();return(kr=function(e,t){return n[e-=103]})(e,t)}function Sr(){var e,t=kr,n=0,r={kZbMa:function(e,t){return e(t)}}[t(168)](Zn,this[t(371)]);try{for(r.s();!(e=r.n())[t(373)];)e[t(305)][t(403)+"ed"]&&n++}catch(e){r.e(e)}finally{r.f()}return n}function Tr(){var e=kr;return{fIBwz:function(e,t){return e*t}}[e(330)](this[e(357)],this[e(136)+"th"])}function xr(){var e=kr;return{TLSPb:function(e,t){return e*t}}[e(336)](this[e(174)],this[e(341)+e(191)])}!function(e,t){for(var n=kr,r=e();;)try{if(817032==-parseInt(n(252))/1*(-parseInt(n(332))/2)+parseInt(n(130))/3*(-parseInt(n(420))/4)+parseInt(n(149))/5*(parseInt(n(323))/6)+parseInt(n(412))/7*(parseInt(n(325))/8)+-parseInt(n(210))/9+-parseInt(n(133))/10+parseInt(n(380))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}(_r);const Ur=function(e){var t=kr,n={jUFWe:t(385)+t(221)+t(300)+t(366),INuKP:function(e,t,n,r){return e(t,n,r)},YgQJB:function(e,t){return e(t)},ulpNz:t(174),xjYMQ:function(e,t){return e(t)},zYuZw:t(341)+t(191),KOlJn:function(e,t,n,r){return e(t,n,r)},pjxdr:t(371),AujRE:function(e,t){return e(t)},NaGRn:t(266),OPRpx:function(e,t){return e>t},OqXOM:function(e,t){return e!==t},ewoWg:t(357),DlQFB:function(e,t,n,r){return e(t,n,r)},SSGPU:t(107),SnPHD:function(e,t,n){return e(t,n)},HVNaV:function(e,t){return e(t)},XwXVp:t(136)+"th",LKZgF:function(e,t,n){return e(t,n)},BNbzE:function(e,t){return e(t)},dlENg:function(e,t,n){return e(t,n)},anRSu:t(419),zdMoK:t(396),fjxTp:t(267),jjrUs:t(399),XKaQY:t(324),UThpR:t(350)+"ts",psQLc:t(318),ZHXhC:t(381),mEOgl:t(209),ePAel:t(383)};n[t(391)](nr,o,e);var r=n[t(313)](or,o);function o(e){for(var i=t,a=n[i(363)][i(327)]("|"),s=0;;){switch(a[s++]){case"0":n[i(159)](cr,n[i(215)](ar,u),n[i(281)],0);continue;case"1":n[i(159)](cr,n[i(134)](ar,u),n[i(116)],2968.414763040354);continue;case"2":n[i(227)](cr,n[i(215)](ar,u),n[i(321)],[]);continue;case"3":n[i(159)](cr,n[i(163)](ar,u),n[i(413)],[]);continue;case"4":var u;continue;case"5":var c=n[i(307)](arguments[i(248)],1)&&n[i(273)](arguments[1],void 0)?arguments[1]:{};continue;case"6":u[i(364)+"n"]=e;continue;case"7":n[i(227)](cr,n[i(215)](ar,u),n[i(173)],0);continue;case"8":n[i(245)](cr,n[i(163)](ar,u),n[i(187)],{x:0,y:0});continue;case"9":u[i(144)]=n[i(141)](setInterval,(function(){var e=i;l[e(157)](),u[e(350)+"ts"]()}),l[i(144)]);continue;case"10":n[i(141)]($n,this,o);continue;case"11":u=r[i(126)](this);continue;case"12":return u;case"13":n[i(227)](cr,n[i(112)](ar,u),n[i(213)],5066.0945289222045);continue;case"14":var l=Object[i(232)]({tick:lr,interval:1e3},c);continue}break}}return n[t(106)](tr,o,[{key:n[t(329)],value:fr},{key:n[t(199)],value:hr},{key:n[t(314)],value:dr},{key:n[t(398)],value:pr},{key:n[t(233)],value:mr},{key:n[t(256)],value:br},{key:n[t(423)],value:wr},{key:n[t(360)],get:Sr},{key:n[t(303)],get:Tr},{key:n[t(205)],get:xr}]),o}(r.aN);function Cr(e){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(e)}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t){return Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Or(e,t)}function Rr(e,t){if(t&&("object"===Cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Er(e)}function Er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mr(e){return Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mr(e)}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t,n){this.name=e,this.ds=this.now,this.de=this.now+1e3*n,this.dr=this.now+1e3*t,this.st=!0}function Lr(){this.ds=null,this.de=null,this.dr=null,this.name="",this.st=!1}function Fr(){return Date.now()}function Dr(){return this.st&&this.expiresIn<=0}function Kr(){return this.st?this.dr-this.now:1}function Xr(){return this.st&&this.nextAvailableIn<=0}function Br(){return this.st?this.de-this.now:1}const Nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Or(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mr(r);if(o){var n=Mr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Rr(this,e)});function a(){var e;Ir(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ar(Er(e=i.call.apply(i,[this].concat(n))),"ds",null),Ar(Er(e),"de",null),Ar(Er(e),"dr",null),Ar(Er(e),"name",""),Ar(Er(e),"st",!1),e}return t=a,(n=[{key:"updateInfo",value:jr},{key:"reset",value:Lr},{key:"now",get:Fr},{key:"isExpired",get:Dr},{key:"nextAvailableIn",get:Kr},{key:"isAvailable",get:Xr},{key:"expiresIn",get:Br}])&&Pr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.aN);function zr(e){var t=eo,n={JuoON:function(e,t){return e==t},qUSMq:t(234),WCluw:function(e,t){return e===t},ClHOs:function(e,t){return e!==t},rdzDO:t(198),EPjga:function(e,t){return e(t)}};return zr=n[t(238)](n[t(190)],typeof Symbol)&&n[t(238)](n[t(131)],typeof Symbol[t(147)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(238)](n[r(190)],typeof Symbol)&&n[r(178)](e[r(130)+"r"],Symbol)&&n[r(162)](e,Symbol[r(250)])?n[r(131)]:typeof e},n[t(209)](zr,e)}function qr(e,t){var n=eo,r={VMNPT:function(e,t){return e instanceof t},ZVeFX:n(119)+n(180)+n(226)+n(141)};if(!r[n(184)](e,t))throw new TypeError(r[n(159)])}function Hr(e,t){for(var n=eo,r={rhBSn:function(e,t){return e<t},OgXeh:n(156),CtHVM:function(e,t){return e in t},thgai:n(171)},o=0;r[n(135)](o,t[n(185)]);o++)for(var i=r[n(199)][n(140)]("|"),a=0;;){switch(i[a++]){case"0":r[n(192)](r[n(123)],s)&&(s[n(152)]=!0);continue;case"1":s[n(174)]=s[n(174)]||!1;continue;case"2":Object[n(197)+n(142)](e,s[n(243)],s);continue;case"3":var s=t[o];continue;case"4":s[n(251)+"le"]=!0;continue}break}}function Wr(){var e=["gmjpy","dgahu","bPdsz","prototype","configurab","ession mus","setSize","fvTeA","YrkYM","IfFgP","map","tialised -","bfLFZ","tjfsD","undefined","includes","create","isAvailabl","applicatio","WRifK","Cannot cal","call","Super expr","xesjK","thgai","Umitk","t been ini","1|4|2|5|0|","999XuSHsK","wgUUk","HTMLDivEle","constructo","rdzDO","utXrn","ment","return obj","rhBSn","SWDqw","48874OgNuSg","async","listenTo","split","ion","erty"," may only ","Levey","t either b","Generator","iterator","TakAc","find","xSBAU","plan","writable","ScKvf","__proto__","getPrototy","3|1|4|0|2","eUtBv","StIQg","ZVeFX","lujbD","ZPtmD","ClHOs","lzvaz","JSCeM","a function","stack","8625744ngwDoP","LWWSq","RFReQ","3|2|0|1|4","value","bFMsC","enabled","enumerable","nstructors"," super() h","6|7|3","WCluw","emit","l a class ","PypAK","JIRbA","276lIUUxe","VMNPT","length","asn't been","replace","e null or ","WUWbk","qUSMq","bLgMn","CtHVM","this hasn'","POiBC"," called","KMijf","defineProp","symbol","OgXeh","ect or und","1568690GakQRj","disable","object","sham","slice","EOUGW","valueOf","5897432VnJAUb","EPjga","FRqBN","setPrototy","qHbhJ","efined","anon","FhiWY","Derived co","RVHKC","enable","uazRw","5694WyokMO","VQpDu","indexOf","apply","disconnect","Dpzgg","as a funct","ZtIFk","IOqJS","2640728edJefU","nmneO","QOPYC","633295zmhmzM","construct","function","DFoad","GERdz","2|4|1|5|3|","JuoON","FzkUF","jvFnJ","connect","peOf","key","toggle","yunHs","yxUnC"];return(Wr=function(){return e})()}function Gr(e,t,n){var r=eo,o={bLgMn:function(e,t,n){return e(t,n)},jvFnJ:r(250)};return t&&o[r(191)](Hr,e[r(250)],t),n&&o[r(191)](Hr,e,n),Object[r(197)+r(142)](e,o[r(240)],{writable:!1}),e}function Vr(e,t){var n=eo,r={qHbhJ:function(e,t){return e!==t},FhiWY:n(234),gmjpy:n(121)+n(104)+n(145)+n(188)+n(165),dgahu:n(250),WUWbk:function(e,t,n){return e(t,n)}};if(r[n(212)](typeof t,r[n(215)])&&r[n(212)](t,null))throw new TypeError(r[n(247)]);e[n(250)]=Object[n(115)](t&&t[n(250)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(197)+n(142)](e,r[n(248)],{writable:!1}),t&&r[n(189)](Yr,e,t)}function Yr(e,t){var n=eo;return Yr=Object[n(211)+n(242)]||function(e,t){return e[n(154)]=t,e},{utXrn:function(e,t,n){return e(t,n)}}[n(132)](Yr,e,t)}function Zr(e){var t=eo,n={DFoad:function(e,t){return e(t)},Levey:function(e,t,n){return e(t,n)},ZPtmD:function(e){return e()}},r=n[t(161)]($r);return function(){var o,i=t,a=n[i(235)](to,e);if(r){var s=n[i(235)](to,this)[i(130)+"r"];o=Reflect[i(233)](a,arguments,s)}else o=a[i(223)](this,arguments);return n[i(144)](Qr,this,o)}}function Qr(e,t){var n=eo,r={Dpzgg:function(e,t){return e===t},tjfsD:function(e,t){return e(t)},FzkUF:n(203),xSBAU:function(e,t){return e===t},VQpDu:n(234),wgUUk:function(e,t){return e!==t},PypAK:n(216)+n(175)+n(143)+n(134)+n(200)+n(213),YrkYM:function(e,t){return e(t)}};if(t&&(r[n(225)](r[n(112)](zr,t),r[n(239)])||r[n(150)](typeof t,r[n(221)])))return t;if(r[n(128)](t,void 0))throw new TypeError(r[n(181)]);return r[n(107)](Jr,e)}function Jr(e){var t=eo,n={eUtBv:function(e,t){return e===t},FRqBN:t(193)+t(125)+t(110)+t(176)+t(186)+t(195)};if(n[t(157)](e,void 0))throw new ReferenceError(n[t(210)]);return e}function $r(){var e=eo,t={ScKvf:function(e,t){return e===t},GERdz:e(113),lujbD:e(234)};if(t[e(153)](typeof Reflect,t[e(236)])||!Reflect[e(233)])return!1;if(Reflect[e(233)][e(204)])return!1;if(t[e(153)](typeof Proxy,t[e(160)]))return!0;try{return Boolean[e(250)][e(207)][e(120)](Reflect[e(233)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function eo(e,t){var n=Wr();return(eo=function(e,t){return n[e-=104]})(e,t)}function to(e){var t=eo;return to=Object[t(211)+t(242)]?Object[t(155)+t(242)]:function(e){var n=t;return e[n(154)]||Object[n(155)+n(242)](e)},{ZtIFk:function(e,t){return e(t)}}[t(227)](to,e)}function no(e,t,n){var r=eo;return{bfLFZ:function(e,t){return e in t}}[r(111)](t,e)?Object[r(197)+r(142)](e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(){}function oo(e){return e[eo(187)](/^\s+at\s+(\<?[\w.]+\>?).*/,"$1")}function io(){var e=eo;return(new Error)[e(166)][e(140)](/\n/)[e(205)](2)[e(109)](oo)}function ao(e){var t=eo,n={yxUnC:t(146)};return e[t(114)](n[t(246)])}function so(e){var t=eo,n={QOPYC:t(129)+t(133)};return e[t(114)](n[t(231)])}function uo(e){var t=eo,n={yunHs:t(138)};return e[t(114)](n[t(245)])}function co(){var e=eo,t={uazRw:function(e){return e()},IfFgP:function(e,t){return e!==t},LWWSq:e(214)},n=!1;try{var r=t[e(219)](io);n=!!r[e(149)](ao)||!!r[e(149)](so)||!!r[e(149)](uo),t[e(108)](r[e(205)](-1)[0][e(222)](t[e(168)]),-1)&&(n=!1)}catch(e){}return n}function lo(){for(var e=eo,t={SWDqw:e(237)+"0",WRifK:e(244),JSCeM:e(218)},n=t[e(136)][e(140)]("|"),r=0;;){switch(n[r++]){case"0":this[e(179)](t[e(118)],this[e(173)]);continue;case"1":this[e(173)]=!0;continue;case"2":if(this[e(173)])return;continue;case"3":this[e(179)](t[e(164)]);continue;case"4":if(!this[e(116)+"e"]())return;continue;case"5":this[e(105)](3,5);continue}break}}function fo(){for(var e=eo,t={IOqJS:e(170),bPdsz:e(202),RVHKC:e(244)},n=t[e(228)][e(140)]("|"),r=0;;){switch(n[r++]){case"0":this[e(105)](0,0);continue;case"1":this[e(179)](t[e(249)]);continue;case"2":this[e(173)]=!1;continue;case"3":if(!this[e(173)])return;continue;case"4":this[e(179)](t[e(217)],this[e(173)]);continue}break}}!function(e,t){for(var n=eo,r=e();;)try{if(561265==-parseInt(n(232))/1+parseInt(n(220))/2*(parseInt(n(127))/3)+parseInt(n(229))/4+-parseInt(n(201))/5+parseInt(n(183))/6*(-parseInt(n(137))/7)+-parseInt(n(208))/8+parseInt(n(167))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}(Wr);const ho=function(e){var t=eo,n={JIRbA:t(126)+t(177),KMijf:function(e,t,n,r){return e(t,n,r)},xesjK:function(e,t){return e(t)},StIQg:t(151),TakAc:function(e,t,n){return e(t,n)},POiBC:function(e,t,n,r){return e(t,n,r)},nmneO:t(173),Umitk:t(224),lzvaz:t(241),fvTeA:function(e,t,n){return e(t,n)},EOUGW:t(116)+"e",bFMsC:t(218),RFReQ:t(202)};n[t(148)](Vr,o,e);var r=n[t(122)](Zr,o);function o(e,i){for(var a=t,s=n[a(182)][a(140)]("|"),u=0;;){switch(s[u++]){case"0":n[a(196)](no,n[a(122)](Jr,c),n[a(158)],new Nr);continue;case"1":var c;continue;case"2":c=r[a(120)](this,e);continue;case"3":return c;case"4":n[a(148)](qr,this,o);continue;case"5":n[a(194)](no,n[a(122)](Jr,c),n[a(230)],!1);continue;case"6":c[a(139)](c[a(117)+"n"],n[a(124)],(function(){c[a(202)]()}));continue;case"7":c[a(139)](c[a(117)+"n"],n[a(163)],ro);continue}break}}return n[t(106)](Gr,o,[{key:n[t(206)],value:co},{key:n[t(172)],value:lo},{key:n[t(169)],value:fo}]),o}(Ur);function po(e){var t=ko,n={sEqXH:function(e,t){return e==t},jeDSa:t(570),gdyIZ:function(e,t){return e===t},STySe:function(e,t){return e!==t},LzqcW:t(477),orZbN:function(e,t){return e(t)}};return po=n[t(661)](n[t(732)],typeof Symbol)&&n[t(661)](n[t(614)],typeof Symbol[t(689)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(661)](n[r(732)],typeof Symbol)&&n[r(652)](e[r(546)+"r"],Symbol)&&n[r(659)](e,Symbol[r(520)])?n[r(614)]:typeof e},n[t(710)](po,e)}function vo(e){var t=ko,n={eMakS:function(e,t){return e(t)},cADLV:function(e,t){return e(t)},Wtxnn:function(e,t){return e(t)},bApbx:function(e){return e()}};return n[t(592)](go,e)||n[t(731)](mo,e)||n[t(514)](wo,e)||n[t(711)](yo)}function yo(){var e=ko,t={hSbrM:e(729)+e(669)+e(624)+e(677)+e(743)+e(561)+e(494)+e(616)+e(707)+e(528)+e(664)+e(521)+e(590)+"."};throw new TypeError(t[e(662)])}function mo(e){var t=ko,n={kMPVS:function(e,t){return e!==t},YSukb:t(695),UWyLG:function(e,t){return e!=t},Aeene:function(e,t){return e!=t},bjLaE:t(582)};if(n[t(726)](typeof Symbol,n[t(503)])&&n[t(560)](e[Symbol[t(689)]],null)||n[t(558)](e[n[t(587)]],null))return Array[t(526)](e)}function go(e){var t=ko;if(Array[t(626)](e))return{BYnZW:function(e,t){return e(t)}}[t(472)](_o,e)}function bo(e,t){for(var n=ko,r={XUPpj:n(602),CWoHn:function(e,t){return e!==t},ONttG:n(695),zOvEX:n(582),gxHAb:function(e,t){return e>=t},iYkKx:function(e,t){return e!=t},Temmc:n(510),KtiMn:function(e,t){return e(t)},bGCtT:function(e,t){return e&&t},qZfZA:function(e,t){return e===t},aLPxd:n(741),TkfyJ:n(729)+n(543)+n(606)+n(482)+n(618)+n(549)+n(513)+n(744)+n(716)+n(481)+n(474)+n(599)+n(537)+"d."},o=r[n(735)][n(683)]("|"),i=0;;){switch(o[i++]){case"0":var a=r[n(572)](typeof Symbol,r[n(518)])&&e[Symbol[n(689)]]||e[r[n(493)]];continue;case"1":return{s:function(){a=a[n(696)](e)},n:function(){var e=n,t=a[e(693)]();return c=t[e(550)],t},e:function(e){l=!0,u=e},f:function(){var e=n;try{!c&&s[e(679)](a[s[e(720)]],null)&&a[s[e(720)]]()}finally{if(l)throw u}}};case"2":var s={nkjkM:function(e,t){return r[n(697)](e,t)},QHNUe:function(e,t){return r[n(524)](e,t)},jIFBZ:r[n(478)]};continue;case"3":var u,c=!0,l=!1;continue;case"4":if(!a){if(Array[n(626)](e)||(a=r[n(694)](wo,e))||r[n(541)](t,e)&&r[n(678)](typeof e[n(727)],r[n(671)])){a&&(e=a);var f=0,h=function(){};return{s:h,n:function(){var t=n;return s[t(653)](f,e[t(727)])?{done:!0}:{done:!1,value:e[f++]}},e:function(e){throw e},f:h}}throw new TypeError(r[n(733)])}continue}break}}function wo(e,t){for(var n=ko,r={tPDws:n(595)+"0",bBakQ:function(e,t){return e===t},lRTeq:n(629),jqmey:function(e,t,n){return e(t,n)},vfgmZ:n(681),jysox:n(473),LSxON:n(682),mfpAQ:n(739),XgMiz:function(e,t,n){return e(t,n)}},o=r[n(651)][n(683)]("|"),i=0;;){switch(o[i++]){case"0":if(r[n(498)](a,r[n(500)])||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[n(676)](a))return r[n(605)](_o,e,t);continue;case"1":var a=Object[n(520)][n(552)][n(696)](e)[n(522)](8,-1);continue;case"2":if(r[n(498)](a,r[n(713)])||r[n(498)](a,r[n(736)]))return Array[n(526)](e);continue;case"3":r[n(498)](a,r[n(615)])&&e[n(546)+"r"]&&(a=e[n(546)+"r"][n(566)]);continue;case"4":if(!e)return;continue;case"5":if(r[n(498)](typeof e,r[n(604)]))return r[n(670)](_o,e,t);continue}break}}function _o(e,t){var n=ko,r={wmkKg:function(e,t){return e==t},wIGrI:function(e,t){return e>t},fCylX:function(e,t){return e<t}};(r[n(483)](t,null)||r[n(632)](t,e[n(727)]))&&(t=e[n(727)]);for(var o=0,i=new Array(t);r[n(722)](o,t);o++)i[o]=e[o];return i}function ko(e,t){var n=Do();return(ko=function(e,t){return n[e-=470]})(e,t)}function So(e,t){var n=ko,r={KRRKQ:function(e,t){return e instanceof t},zCacb:n(600)+n(719)+n(547)+n(742)};if(!r[n(692)](e,t))throw new TypeError(r[n(643)])}function To(e,t){for(var n=ko,r={xUCcl:function(e,t){return e<t},CtBIH:n(573),fIpIk:function(e,t){return e in t},GuwrC:n(581)},o=0;r[n(532)](o,t[n(727)]);o++)for(var i=r[n(730)][n(683)]("|"),a=0;;){switch(i[a++]){case"0":s[n(655)+"le"]=!0;continue;case"1":Object[n(527)+n(594)](e,s[n(691)],s);continue;case"2":r[n(620)](r[n(636)],s)&&(s[n(738)]=!0);continue;case"3":var s=t[o];continue;case"4":s[n(569)]=s[n(569)]||!1;continue}break}}function xo(e,t,n){var r=ko,o={bCrXF:function(e,t,n){return e(t,n)},LSUyY:function(e,t,n){return e(t,n)},ziXtW:r(520)};return t&&o[r(703)](To,e[r(520)],t),n&&o[r(542)](To,e,n),Object[r(527)+r(594)](e,o[r(660)],{writable:!1}),e}function Uo(e,t){var n=ko,r={tSErx:function(e,t){return e!==t},qOCRK:n(570),TWSFw:function(e,t){return e!==t},Vafde:n(557)+n(638)+n(633)+n(539)+n(700),QHLrV:n(520),xjbUR:function(e,t,n){return e(t,n)}};if(r[n(563)](typeof t,r[n(553)])&&r[n(596)](t,null))throw new TypeError(r[n(554)]);e[n(520)]=Object[n(531)](t&&t[n(520)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(527)+n(594)](e,r[n(687)],{writable:!1}),t&&r[n(708)](Co,e,t)}function Co(e,t){var n=ko;return Co=Object[n(637)+n(496)]||function(e,t){return e[n(601)]=t,e},{EVNIM:function(e,t,n){return e(t,n)}}[n(567)](Co,e,t)}function Io(e){var t=ko,n={bspJp:function(e,t){return e(t)},jzajk:function(e,t,n){return e(t,n)},nclEz:function(e){return e()}},r=n[t(621)](Ro);return function(){var o,i=t,a=n[i(642)](Eo,e);if(r){var s=n[i(642)](Eo,this)[i(546)+"r"];o=Reflect[i(499)](a,arguments,s)}else o=a[i(673)](this,arguments);return n[i(640)](Po,this,o)}}function Po(e,t){var n=ko,r={Mrodn:function(e,t){return e===t},BZaGW:function(e,t){return e(t)},gudDV:n(533),HnsMt:n(570),IFUeA:function(e,t){return e!==t},hZlJv:n(631)+n(516)+n(646)+n(663)+n(479)+n(545)};if(t&&(r[n(576)](r[n(501)](po,t),r[n(584)])||r[n(576)](typeof t,r[n(507)])))return t;if(r[n(699)](t,void 0))throw new TypeError(r[n(721)]);return r[n(501)](Oo,e)}function Oo(e){var t=ko,n={ODoDG:function(e,t){return e===t},fvPEf:t(712)+t(613)+t(568)+t(714)+t(586)+t(622)};if(n[t(540)](e,void 0))throw new ReferenceError(n[t(654)]);return e}function Ro(){var e=ko,t={FzPtc:function(e,t){return e===t},RRlQr:e(695),aXZfO:function(e,t){return e===t},vySbS:e(570)};if(t[e(480)](typeof Reflect,t[e(701)])||!Reflect[e(499)])return!1;if(Reflect[e(499)][e(530)])return!1;if(t[e(611)](typeof Proxy,t[e(728)]))return!0;try{return Boolean[e(520)][e(609)][e(696)](Reflect[e(499)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function Eo(e){var t=ko;return Eo=Object[t(637)+t(496)]?Object[t(585)+t(496)]:function(e){var n=t;return e[n(601)]||Object[n(585)+n(496)](e)},{dXuJv:function(e,t){return e(t)}}[t(598)](Eo,e)}function Mo(e,t,n){var r=ko;return{zVyDs:function(e,t){return e in t}}[r(635)](t,e)?Object[r(527)+r(594)](e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ao(e){return e[ko(556)](/^\s+at\s+(\<?[\w.]+\>?).*/,"$1")}function jo(){var e=ko;return(new Error)[e(476)][e(683)](/\n/)[e(522)](2)[e(645)](Ao)}function Lo(e){var t=ko,n={fJhdn:t(649)};return e[t(519)](n[t(490)])}function Fo(e){var t=ko,n={gDbyF:t(647)+t(740)};return e[t(519)](n[t(534)])}function Do(){var e=["KtiMn","undefined","call","gxHAb","player","IFUeA","a function","RRlQr","wENaK","bCrXF","GQMbh","push","5320FdcZQN","ray object","xjbUR","1597393KTBWxC","orZbN","bApbx","this hasn'","vfgmZ"," super() h","11dGgsAQ","rray objec","2352111mYTUOG","protocol_v","l a class ","jIFBZ","hZlJv","fCylX","play","hAOcC","zbFCz","kMPVS","length","vySbS","Invalid at","CtBIH","cADLV","jeDSa","TkfyJ","NulwA","XUPpj","jysox","VYFzL","writable","string","ment","number","ion","nstance.\nI","ble, non-a","toggle","uamXP","BYnZW","Set","ve a [Symb","CnueD","stack","symbol","Temmc","ect or und","FzPtc","ts must ha","-iterable ","wmkKg","QvwJp","applicatio","lYpUE","shed","enabled","find","fJhdn","haYOa","enable","zOvEX"," be iterab","EmUaA","peOf","XTpFl","bBakQ","construct","lRTeq","BZaGW","plan","YSukb","emit","kVvel","oPCaq","HnsMt","2155bgdHWC","OiveE","return","initClient","ExXhj","o be itera","Wtxnn","PswNj","nstructors","splice","ONttG","includes","prototype","l.iterator","slice","45910716umzLgm","iYkKx","6IhMAKA","from","defineProp","s must hav","unestabili","sham","create","xUCcl","object","gDbyF","8|1|0","destroy","r]() metho","t_handler","e null or ","ODoDG","bGCtT","LSUyY","tempt to i","death","efined","constructo","as a funct","tzHZY","In order t","done","setTarget","toString","qOCRK","Vafde","isAgario","replace","Super expr","Aeene","njiKY","UWyLG","n order to","clients","tSErx","removeList","TYPE","name","EVNIM","tialised -","enumerable","function","SPBwI","CWoHn","3|4|0|2|1","spawn","ThKfE","Mrodn","2FWqPli","NkBfk","3|7|6|2","size","value","@@iterator","2795736RfNKjO","gudDV","getPrototy","asn't been","bjLaE","_initClien","ener","]() method","YLovy","eMakS","379988DkNuqK","erty","4|5|1|3|2|","TWSFw","itbNK","dXuJv","ol.iterato","Cannot cal","__proto__","2|0|4|3|1","iewX","mfpAQ","jqmey","terate non","wKaQM","CmagC","valueOf","isAvailabl","aXZfO","DfViX","t been ini","LzqcW","LSxON","le, non-ar","iewY","instance.\n","indexOf","fIpIk","nclEz"," called","AyOPj","pread non-","18ZHLSOG","isArray","controller","OiKQz","Arguments","OlPlr","Derived co","wIGrI","t either b","anon","zVyDs","GuwrC","setPrototy","ession mus","aCeum","jzajk","kTYMQ","bspJp","zCacb","rhKXZ","map"," may only ","HTMLDivEle","eeSVP","Generator","|5|10|6|4|","tPDws","gdyIZ","nkjkM","fvPEf","configurab","2|5|1|0|4|","WxzOm","5|8|1|4|0|","STySe","ziXtW","sEqXH","hSbrM","return obj","e a [Symbo","5968670nWqPxz","listenTo","BbHCg","FJPem","tempt to s","XgMiz","aLPxd","removeEven","apply","FhhBK","server","test","iterable i","qZfZA","QHNUe","hookEvents","Map","Object","split","11|2|9|3|7","AaBsS","setSize","QHLrV","disable","iterator","cConm","key","KRRKQ","next"];return(Do=function(){return e})()}function Ko(){var e=ko,t={uamXP:function(e){return e()},NkBfk:function(e,t){return e!==t},AyOPj:e(634)},n=!1;try{var r=t[e(471)](jo);n=!!r[e(489)](Lo)||!!r[e(489)](Fo),t[e(578)](r[e(522)](-1)[0][e(619)](t[e(623)]),-1)&&(n=!1)}catch(e){}return n}function Xo(){for(var e=ko,t={ThKfE:e(658)+e(579),aCeum:function(e,t){return e(t)},itbNK:e(470),zbFCz:e(492),OiveE:e(511)},n=t[e(575)][e(683)]("|"),r=0;;){switch(n[r++]){case"0":var o,i=t[e(639)](bo,this[e(485)+"n"][e(562)][e(698)]);continue;case"1":if(!this[e(610)+"e"]())return;continue;case"2":this[e(504)](t[e(597)],this[e(488)]);continue;case"3":try{for(i.s();!(o=i.n())[e(550)];){var a=o[e(581)];this[e(680)](a)}}catch(e){i.e(e)}finally{i.f()}continue;case"4":this[e(488)]=!0;continue;case"5":var s=this;continue;case"6":this[e(504)](t[e(725)]);continue;case"7":this[e(485)+"n"].on(t[e(509)],this[e(588)+e(538)]=function(t){s[e(680)](t)});continue;case"8":if(this[e(488)])return;continue}break}}function Bo(){for(var e=ko,t={CmagC:e(656)+"3",OlPlr:e(511),lYpUE:e(470),QvwJp:e(688),PswNj:function(e,t){return e(t)}},n=t[e(608)][e(683)]("|"),r=0;;){switch(n[r++]){case"0":this[e(488)]=!1;continue;case"1":try{for(a.s();!(i=a.n())[e(550)];){var o=i[e(581)];this[e(627)+"s"][e(517)](this[e(627)+"s"][e(619)](o),1),o[e(536)]()}}catch(e){a.e(e)}finally{a.f()}continue;case"2":this[e(485)+"n"][e(564)+e(589)](t[e(630)],this[e(588)+e(538)]);continue;case"3":this[e(504)](t[e(486)],this[e(488)]);continue;case"4":this[e(504)](t[e(484)]);continue;case"5":var i,a=t[e(515)](bo,this[e(627)+"s"]);continue}break}}function No(e){var t=ko,n={SPBwI:function(e){return e()},XTpFl:function(e,t){return e(t)},AaBsS:function(e,t,n){return e(t,n)},eeSVP:function(e,t){return e!=t},wENaK:t(574),ExXhj:t(544),tzHZY:t(529)+t(487),wKaQM:t(672)+"ts"},r=this;if(!n[t(648)](e[t(565)],0)){var o=new Ur(this[t(485)+"n"],{tick:function(){var n=t;return o[n(551)](e[n(718)+n(603)],e[n(718)+n(617)])},interval:40}),i=function(){var n=t;return r[n(485)+"n"][n(675)][n(555)]&&e[n(723)]};this[t(627)+"s"][t(705)](o),n[t(571)](i)&&o[t(686)][t(673)](o,n[t(497)](vo,this[t(580)])),o[t(666)](e,n[t(702)],(function(){var e=t;return n[e(571)](i)&&o[e(686)][e(673)](o,n[e(497)](vo,r[e(580)]))})),o[t(666)](e,n[t(512)],(function(){return n[t(685)](setTimeout,a,5e3)})),o[t(666)](e,n[t(548)],(function(){return o[t(686)](0,0)})),o[t(666)](e,n[t(607)],(function(){var e=t;o[e(536)](),r[e(627)+"s"][e(517)](r[e(627)+"s"][e(619)](o),1)}))}function a(){var n=t;e[n(723)]||o[n(686)](0,0)}}!function(e,t){for(var n=ko,r=e();;)try{if(564638==-parseInt(n(593))/1+parseInt(n(577))/2*(-parseInt(n(717))/3)+-parseInt(n(706))/4*(parseInt(n(508))/5)+parseInt(n(525))/6*(-parseInt(n(709))/7)+-parseInt(n(583))/8*(parseInt(n(625))/9)+-parseInt(n(665))/10+-parseInt(n(715))/11*(-parseInt(n(523))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}(Do);const zo=function(e){var t=ko,n={CnueD:t(684)+t(650)+t(535),YLovy:function(e,t){return e>t},EmUaA:function(e,t){return e!==t},njiKY:function(e,t,n,r){return e(t,n,r)},VYFzL:function(e,t){return e(t)},BbHCg:t(580),kVvel:function(e,t,n,r){return e(t,n,r)},DfViX:t(627)+"s",WxzOm:function(e,t,n,r){return e(t,n,r)},FJPem:function(e,t){return e(t)},GQMbh:t(488),kTYMQ:function(e,t,n){return e(t,n)},rhKXZ:function(e,t,n,r){return e(t,n,r)},oPCaq:t(502),haYOa:function(e,t){return e(t)},OiKQz:function(e,t,n){return e(t,n)},NulwA:t(610)+"e",FhhBK:t(492),hAOcC:t(688),cConm:t(680)};n[t(641)](Uo,o,e);var r=n[t(491)](Io,o);function o(e){for(var i=t,a=n[i(475)][i(683)]("|"),s=0;;){switch(a[s++]){case"0":return c;case"1":c[i(588)+i(538)]=null;continue;case"2":var u=n[i(591)](arguments[i(727)],1)&&n[i(495)](arguments[1],void 0)?arguments[1]:[0,0];continue;case"3":c=r[i(696)](this);continue;case"4":c[i(485)+"n"]=e;continue;case"5":n[i(559)](Mo,n[i(737)](Oo,c),n[i(667)],[0,0]);continue;case"6":n[i(505)](Mo,n[i(737)](Oo,c),n[i(612)],[]);continue;case"7":n[i(657)](Mo,n[i(668)](Oo,c),n[i(704)],!1);continue;case"8":c[i(580)]=u;continue;case"9":n[i(641)](So,this,o);continue;case"10":n[i(644)](Mo,n[i(737)](Oo,c),n[i(506)],new Nr);continue;case"11":var c;continue}break}}return n[t(628)](xo,o,[{key:n[t(734)],value:Ko},{key:n[t(674)],value:Xo},{key:n[t(724)],value:Bo},{key:n[t(690)],value:No}]),o}(r.aN);function qo(e){var t=Zo,n={xWUij:function(e,t){return e==t},mfsvW:t(558),DjdIq:function(e,t){return e===t},BXorh:function(e,t){return e!==t},nugsZ:t(553),DEuwM:function(e,t){return e==t},WQQFm:function(e,t){return e==t},CtIFz:function(e,t){return e(t)}};return qo=n[t(517)](n[t(603)],typeof Symbol)&&n[t(623)](n[t(507)],typeof Symbol[t(595)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(490)](n[r(603)],typeof Symbol)&&n[r(593)](e[r(583)+"r"],Symbol)&&n[r(618)](e,Symbol[r(496)])?n[r(507)]:typeof e},n[t(480)](qo,e)}function Ho(e,t,n,r,o,i,a){var s=Zo,u={GeoxF:function(e,t){return e(t)},iKniM:function(e,t){return e(t)}};try{var c=e[i](a),l=c[s(590)]}catch(e){return void u[s(548)](n,e)}c[s(512)]?u[s(630)](t,l):Promise[s(505)](l)[s(620)](r,o)}function Wo(e){var t=Zo,n={rjBue:function(e,t,n,r,o,i,a,s){return e(t,n,r,o,i,a,s)},bVaBl:t(631),izkOh:t(488),ztppK:function(e,t){return e(t)}};return function(){var r=t,o={LUyBp:function(e,t,r,o,i,a,s,u){return n[Zo(607)](e,t,r,o,i,a,s,u)},JNKOY:n[r(599)],lvDZH:n[r(547)],lICGJ:function(e,t){return n[r(482)](e,t)}},i=this,a=arguments;return new Promise((function(t,n){var s=r,u={JfhmF:function(e,t,n,r,i,a,s,u){return o[Zo(494)](e,t,n,r,i,a,s,u)},dbuai:o[s(556)],vGJWf:function(e,t,n,r,i,a,u,c){return o[s(494)](e,t,n,r,i,a,u,c)},xDKpY:o[s(601)]},c=e[s(557)](i,a);function l(e){var r=s;u[r(504)](Ho,c,t,n,l,f,u[r(529)],e)}function f(e){var r=s;u[r(572)](Ho,c,t,n,l,f,u[r(592)],e)}o[s(625)](l,void 0)}))}}function Go(e,t){var n=Zo,r={xLkiT:function(e,t){return e instanceof t},cPCzJ:n(598)+n(509)+n(628)+n(536)};if(!r[n(569)](e,t))throw new TypeError(r[n(622)])}function Vo(e,t){for(var n=Zo,r={rpDpU:function(e,t){return e<t},UkOOE:n(541),WlxzL:function(e,t){return e in t},YkJdP:n(590)},o=0;r[n(605)](o,t[n(564)]);o++)for(var i=r[n(500)][n(542)]("|"),a=0;;){switch(i[a++]){case"0":r[n(577)](r[n(528)],s)&&(s[n(522)]=!0);continue;case"1":var s=t[o];continue;case"2":s[n(511)]=s[n(511)]||!1;continue;case"3":s[n(641)+"le"]=!0;continue;case"4":Object[n(492)+n(629)](e,s[n(642)],s);continue}break}}function Yo(e,t,n){var r=Zo,o={SYYND:function(e,t,n){return e(t,n)},sXzyn:r(496)};return t&&o[r(612)](Vo,e[r(496)],t),n&&o[r(612)](Vo,e,n),Object[r(492)+r(629)](e,o[r(575)],{writable:!1}),e}function Zo(e,t){var n=$o();return(Zo=function(e,t){return n[e-=475]})(e,t)}function Qo(e,t){var n=Zo,r={zcLiv:function(e,t){return e!==t},ONYxQ:n(558),qieNc:n(551)+n(544)+n(602)+n(481)+n(475),jISYW:n(496),JXqLf:function(e,t,n){return e(t,n)}};if(r[n(580)](typeof t,r[n(609)])&&r[n(580)](t,null))throw new TypeError(r[n(560)]);e[n(496)]=Object[n(498)](t&&t[n(496)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(492)+n(629)](e,r[n(587)],{writable:!1}),t&&r[n(646)](Jo,e,t)}function Jo(e,t){var n=Zo;return Jo=Object[n(537)+n(619)]||function(e,t){return e[n(530)]=t,e},{kGrkz:function(e,t,n){return e(t,n)}}[n(515)](Jo,e,t)}function $o(){var e=["GeoxF","disable","21729192UdwOpr","Super expr","nstructors","symbol","3791176LSPwQP","applicatio","JNKOY","apply","function","DVvsn","qieNc","10TqtKvk","fiUrf","controller","length","rkfwY","HmQFR","kLXWh","valueOf","xLkiT","enabled","asn't been","vGJWf","efined","toggle","sXzyn","name","WlxzL","listenTo","toggle:","zcLiv","sham","6309ndrCxd","constructo","oZpyJ","748ALsLZV","getPrototy","jISYW","uFmbn","KybOW","value","prev","xDKpY","DjdIq","szArc","iterator","BRfmm","EHtTg","Cannot cal","bVaBl","112140qJxNkv","lvDZH","t either b","mfsvW","tYohe","rpDpU","2866944ZeDofR","rjBue","4|6|3|0","ONYxQ","Derived co","xNhMq","SYYND","xDvoc","this hasn'","lTlGn","UtNzL","construct","BXorh","peOf","then","return","cPCzJ","WQQFm","ztDAh","lICGJ","rBoYr"," super() h","as a funct","erty","iKniM","next","gHbZd","t been ini","bRYBV","10hYerIw","871tQGWYG","10213083HnydyB","emit","undefined","RGiwu","configurab","key","OXxvu","3472774quUDPK","mark","JXqLf","a function","usePlan","URMto","return obj","gGRvj","CtIFz","e null or ","ztppK","backend"," called","ener","JoOZf","zfyyq","throw","once","xWUij"," may only ","defineProp","ect or und","LUyBp","1fVzTZA","prototype","fAkmG","create","STSrU","UkOOE","iTPtu","ovyYD","OrToggle","JfhmF","resolve","enable","nugsZ","HiIbd","l a class ","WNglu","enumerable","done","KGhOt","removeList","kGrkz","tialised -","DEuwM","serverTime","object","FOgVd","MtAuC","writable","disableAll","wrap","UoMhB","14ShMoEk","FBdMB","YkJdP","dbuai","__proto__","7|1|5|2|8|","VuFwv","end","YXUcw","stop","ion","setPrototy","yDedo","11yHvNMw","VyOHP","1|2|3|0|4","split","abrupt","ession mus","JlEuD","call","izkOh"];return($o=function(){return e})()}function ei(e){var t=Zo,n={rkfwY:function(e,t){return e(t)},KybOW:function(e,t){return e(t)},bRYBV:function(e,t,n){return e(t,n)},lTlGn:function(e){return e()}},r=n[t(615)](ri);return function(){var o,i=t,a=n[i(565)](oi,e);if(r){var s=n[i(589)](oi,this)[i(583)+"r"];o=Reflect[i(617)](a,arguments,s)}else o=a[i(557)](this,arguments);return n[i(634)](ti,this,o)}}function ti(e,t){var n=Zo,r={ovyYD:function(e,t){return e===t},ztDAh:function(e,t){return e(t)},JlEuD:n(519),EHtTg:function(e,t){return e===t},fiUrf:n(558),gHbZd:function(e,t){return e!==t},KGhOt:n(610)+n(552)+n(491)+n(478)+n(493)+n(573),YXUcw:function(e,t){return e(t)}};if(t&&(r[n(502)](r[n(624)](qo,t),r[n(545)])||r[n(597)](typeof t,r[n(562)])))return t;if(r[n(632)](t,void 0))throw new TypeError(r[n(513)]);return r[n(534)](ni,e)}function ni(e){var t=Zo,n={rBoYr:function(e,t){return e===t},gGRvj:t(614)+t(633)+t(516)+t(627)+t(571)+t(484)};if(n[t(626)](e,void 0))throw new ReferenceError(n[t(479)]);return e}function ri(){var e=Zo,t={HmQFR:function(e,t){return e===t},FBdMB:e(639),xDvoc:function(e,t){return e===t},tYohe:e(558)};if(t[e(566)](typeof Reflect,t[e(527)])||!Reflect[e(617)])return!1;if(Reflect[e(617)][e(581)])return!1;if(t[e(613)](typeof Proxy,t[e(604)]))return!0;try{return Boolean[e(496)][e(568)][e(546)](Reflect[e(617)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function oi(e){var t=Zo;return oi=Object[t(537)+t(619)]?Object[t(586)+t(619)]:function(e){var n=t;return e[n(530)]||Object[n(586)+n(619)](e)},{VuFwv:function(e,t){return e(t)}}[t(532)](oi,e)}function ii(e){var t=Zo,n={uFmbn:function(e,t){return e==t}},r=!1;for(var o in this[t(563)+"s"])e&&this[t(563)+"s"][o][t(570)]&&n[t(588)](o,e[t(576)])&&(r=!0),this[t(563)+"s"][o][t(549)]();return r}function ai(e){var t,n,r=Zo,o={xNhMq:function(e,t){return e>t},FOgVd:function(e,t){return e(t)},yDedo:r(621),JoOZf:function(e,t){return e<t},VyOHP:function(e,t,n){return e(t,n)},kLXWh:r(549),BRfmm:r(533)},i=this;function a(){var n=r;o[n(611)](i[n(555)+"n"][n(483)][n(518)],e.de)&&t[n(549)]()}function s(){o[r(520)](clearInterval,n)}return regeneratorRuntime[r(524)]((function(i){for(var u=r;;)switch(i[u(591)]=i[u(631)]){case 0:if(!(e.on&&e.ev&&e[u(514)+u(485)])){i[u(631)]=3;break}if(!this[u(523)+u(503)](e)){i[u(631)]=3;break}return i[u(543)](o[u(538)]);case 3:o[u(486)](this[u(555)+"n"][u(483)][u(518)],e.de)&&(t=this[u(563)+"s"][e[u(576)]])&&(t[u(506)](),n=o[u(540)](setInterval,a,1e3),t[u(489)](o[u(567)],s));case 4:case o[u(596)]:return i[u(535)]()}}),ai,this)}function si(){var e=Zo,t={MtAuC:function(e,t){return e(t)}}[e(521)](Wo,regeneratorRuntime[e(645)](ai));return function(n){var r=e;return t[r(557)](this,arguments)}}!function(e,t){for(var n=Zo,r=e();;)try{if(924853==-parseInt(n(495))/1*(-parseInt(n(644))/2)+parseInt(n(582))/3*(parseInt(n(585))/4)+-parseInt(n(561))/5*(-parseInt(n(606))/6)+parseInt(n(526))/7*(-parseInt(n(554))/8)+-parseInt(n(637))/9*(-parseInt(n(635))/10)+-parseInt(n(539))/11*(parseInt(n(550))/12)+-parseInt(n(636))/13*(parseInt(n(600))/14))break;r.push(r.shift())}catch(e){r.push(r.shift())}}($o);const ui=function(e){var t=Zo,n={OXxvu:t(531)+t(608),RGiwu:function(e,t){return e(t)},oZpyJ:function(e,t,n){return e(t,n)},HiIbd:function(e,t){return e+t},zfyyq:t(579),DVvsn:t(574),UoMhB:function(e,t,n){return e(t,n)},fAkmG:function(e,t,n){return e(t,n)},szArc:t(523)+t(503),WNglu:t(476),UtNzL:function(e){return e()}};n[t(525)](Qo,o,e);var r=n[t(640)](ei,o);function o(e){for(var i=t,a=n[i(643)][i(542)]("|"),s=0;;){switch(a[s++]){case"0":return u;case"1":var u;continue;case"2":u=r[i(546)](this);continue;case"3":for(var c in u[i(563)+"s"])n[i(640)](l,c);continue;case"4":u[i(563)+"s"]={spect16x:new ho(u[i(555)+"n"]),spect4x:new zo(u[i(555)+"n"],[2,2]),spect1x:new zo(u[i(555)+"n"],[1,1])};continue;case"5":n[i(584)](Go,this,o);continue;case"6":var l=function(e){var t=i;u[t(578)](u[t(563)+"s"][e],f[t(499)],(function(){var n=t;u[n(638)](f[n(501)](f[n(477)],e),u[n(563)+"s"][e][n(570)])}))};continue;case"7":var f={iTPtu:function(e,t){return n[i(508)](e,t)},URMto:n[i(487)],STSrU:n[i(559)]};continue;case"8":u[i(555)+"n"]=e;continue}break}}return n[t(497)](Yo,o,[{key:n[t(594)],value:ii},{key:n[t(510)],value:n[t(616)](si)}]),o}(r.aN);function ci(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?li(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fi(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function hi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fi(i,r,o,a,s,"next",e)}function s(e){fi(i,r,o,a,s,"throw",e)}a(void 0)}))}}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;this.clean();for(var t=0;t<e;t++){var n=new a.KU(this.app,0,"crasher");this.clients.add(n)}}function vi(){var e,t,n,r,o,i=this,a=arguments;function s(){i.connected--}function u(){var n,o;function a(){i.connected++,n.on("unestablished",s)}return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(n=r.value).connect(e),o=n.waitfor("estabilished",3e3).then(a),t.push(o),i.next=6,o;case 6:case"end":return i.stop()}}),u)}return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=a.length>0&&void 0!==a[0]?a[0]:"",a.length>1&&void 0!==a[1]&&a[1],this.ws=e,t=[],n=ci(this.clients),i.prev=5,o=regeneratorRuntime.mark(u),n.s();case 8:if((r=n.n()).done){i.next=12;break}return i.delegateYield(o(),"t0",10);case 10:i.next=8;break;case 12:i.next=17;break;case 14:i.prev=14,i.t1=i.catch(5),n.e(i.t1);case 17:return i.prev=17,n.f(),i.finish(17);case 20:return i.abrupt("return",Promise.all(t));case 21:case"end":return i.stop()}}),vi,this,[[5,14,17,20]])}function yi(){var e=hi(regeneratorRuntime.mark(vi));return function(){return e.apply(this,arguments)}}function mi(){var e,t,n,r,o,i,a=arguments;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:for(e=a.length>0&&void 0!==a[0]?a[0]:500,t=0;t<e;t++){n=ci(this.clients);try{for(n.s();!(r=n.n()).done;)i=r.value,null===(o=i.protocol)||void 0===o||o.sendSpectate()}catch(e){n.e(e)}finally{n.f()}}return s.abrupt("return",console.log("work done"));case 4:case"end":return s.stop()}}),mi,this)}function gi(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(this.interval),this.ws=this.app.server.ws,this.createPool(120),e.next=5,this.connect(this.app.server.ws);case 5:case"end":return e.stop()}}function bi(){return regeneratorRuntime.wrap(gi,bi,this)}function wi(){var e,t,n,r=this,o=arguments;function i(){Date.now()-n>1e3*e&&clearInterval(r.interval),r.spamWorker(t)}return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=o.length>0&&void 0!==o[0]?o[0]:0,t=o.length>1&&void 0!==o[1]?o[1]:500,o.length>2&&void 0!==o[2]&&o[2],clearInterval(this.interval),n=Date.now(),this.interval=setInterval(i,2e3);case 6:case"end":return r.stop()}}),wi,this)}function _i(e){e.closeConnection("noevent"),e.removeEvents()}function ki(){this.clients.forEach(_i),this.clients.clear(),this.connected=0}const Si=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.clients=new Set,this.ws="ws://localhost:8080",this.connected=0,this.done=0,this.target=0}var t,n,r,o,i;return t=e,n=[{key:"createPool",value:pi},{key:"connect",value:yi()},{key:"spamWorker",value:(i=hi(regeneratorRuntime.mark(mi)),function(){return i.apply(this,arguments)})},{key:"start",value:(o=hi(regeneratorRuntime.mark(bi)),function(){return o.apply(this,arguments)})},{key:"time",value:(r=hi(regeneratorRuntime.mark(wi)),function(){return r.apply(this,arguments)})},{key:"clean",value:ki}],n&&di(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var Ti,xi,Ui=n(6511),Ci=n(115),Ii=n(970),Pi=(n(5537),n(4602),n(1928)),Oi=n(5602);function Ri(e){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ri(e)}var Ei=Symbol("_destroySpectate"),Mi=Symbol("_initSpectate");function Ai(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function ji(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ai(i,r,o,a,s,"next",e)}function s(e){Ai(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Li(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Di(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Di(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Di(e,t){if(e){if("string"==typeof e)return Ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ki(e,t):void 0}}function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bi(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,n)}function Ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e,t,n){return t&&zi(e.prototype,t),n&&zi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wi(e,t)}function Wi(e,t){return Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wi(e,t)}function Gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zi(e);if(t){var o=Zi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vi(this,n)}}function Vi(e,t){if(t&&("object"===Ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yi(e)}function Yi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zi(e){return Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zi(e)}function Qi(){return this._nick}function Ji(e){var t=this._nick!==e,n=this._nick;this._nick=e,t&&(this.emit("nick",n),this.emit("*"))}function $i(){return this._clanTag}function ea(e){var t=this._clanTag!==e,n=this._clanTag;this._clanTag=e,t&&(this.emit("clanTag",n),this.emit("*"))}function ta(){return this._skinURL}function na(e){var t=this._skinURL!==e,n=this._skinURL;this._skinURL=e,t&&(this.emit("skinURL",n),this.emit("*"))}function ra(){return this._color}function oa(e){var t=this._color!==e,n=this._color;this._color=e,t&&(this.emit("color",n),this.emit("*"))}toastr.options={newestOnTop:!1,positionClass:"toast-bottom-left",timeOut:15e3};var ia=function(e){Hi(n,e);var t=Gi(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Empty",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://i.imgur.com/dwGdLsr.jpg",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#3633A5";return Ni(this,n),(e=t.call(this))._nick=r,e._clanTag=o,e._skinURL=i,e._color=a,Object.defineProperties(Yi(e),{id:{writable:!0,enumerable:!1,value:null}}),e}return qi(n,[{key:"nick",get:Qi,set:Ji},{key:"clanTag",get:$i,set:ea},{key:"skinURL",get:ta,set:na},{key:"color",get:ra,set:oa}]),n}(r.aN);function aa(){for(var e="",t=0;t++<36;){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[t-1],r=16*Math.random()|0;e+="-"==n||"4"==n?n:("x"==n?r:3&r|8).toString(16)}return e}function sa(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Empty",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#3633A5";Ni(this,e),t||(t=this.profileid),this.nick=n,this.clanTag=r,this.skinURL=o,this.color=i,Object.defineProperties(this,{deletionHighlight:{writable:!0,enumerable:!1,value:!1}}),this.id=t}return qi(e,[{key:"profileid",get:aa}]),e}function ua(e){}function ca(e){this.store.has(this.selected[0])&&this.assign2(this.store.get(this.selected[0]),this.mainProfile,!0),this.store.has(this.selected[1])&&this.assign2(this.store.get(this.selected[1]),this.profileB),this.saveToMemory()}function la(e,t,n){n&&this.store.set(e,"clanTag",t.clanTag),this.store.set(e,"nick",t.nick),this.store.set(e,"skinURL",t.skinURL),this.store.set(e,"color",t.color)}function fa(){var e=this;function t(t){var n,r=e.profileB;t.listenTo(r,"*",n=function(){t.profile.nick=r.nick,t.profile.clanTag=r.clanTag,t.profile.skinURL=r.skinURL,t.profile.color=r.color}),n()}Ds.on("initClient",(function(n){n.TYPE===a.KU.Type.PLAYER&&(1===Ds.clients.player.length&&n.listenTo(n.unitManager,"add",(function(t){var r;1===n.unitManager.units.length?t.listenTo(e.mainProfile,"*",r=function(){t.profile.nick=e.mainProfile.nick,t.profile.clanTag=e.mainProfile.clanTag,t.profile.skinURL=e.mainProfile.skinURL,t.profile.color=e.mainProfile.color}):t.listenTo(e.profileB,"*",r=function(){t.profile.nick=e.mainProfile.nick,t.profile.skinURL=e.profileB.skinURL}),r()})),Ds.clients.player.length>1&&n.listenTo(n.unitManager,"add",t))})),this.loadFromStorage(),this.selected.emit(0),this.selected.emit(1)}function ha(e){this.store.has(this.selected[0])||(this.selected[0]=e.id),this.store.has(this.selected[1])||(this.selected[1]=e.id)}function da(){for(var e=0,t=Object.entries(this.store.all);e<t.length;e++){var n=Fi(t[e],2),r=n[0];n[1],this.store.rem(r)}}function pa(){var e=new this.classProfile(null,"Anonym #"+this.getNum());this.store.add(e),this.setSelected(e),this.saveToMemory()}function va(){if(!(Object.keys(this.store.all).length<2)){var e=this.state.deletion;if(this.store.has(e)){var t=this.findClosest(e);this.store.rem(e),this.state.deletion=t,this.selected[0]==e&&(this.selected[0]=t),this.selected[1]==e&&(this.selected[1]=t),this.saveToMemory()}}}function ya(e){for(var t,n,r=Object.entries(this.store.all),o=0;r.length>o;o++){var i=Fi(r[o],2),a=i[0];if(i[1],e==a){var s,u;n=null===(s=r[o-1])||void 0===s?void 0:s[0],t=null===(u=r[o+1])||void 0===u?void 0:u[0];break}}return n||t||"err"}function ma(){return this.counter++}function ga(){for(var e=0;e<10;e++){var t=new this.classProfile(null,"Anonym #"+this.getNum());this.store.add(t)}var n=Object.values(this.store.all)[0];this.setSelected(n)}function ba(){var e=r.tO.get(Bi(this,xi),"");if(!e)return this.loadDefaultProfiles();this.import(e)}function wa(){this.clearAllProfiles(),this.loadDefaultProfiles(),this.saveToMemory()}function _a(e){if(e&&Array.isArray(e)&&0!=e.length){this.clearAllProfiles();for(var t=0;t<e.length;t++){var n=new this.classProfile(e[t].id);Object.assign(n,e[t]),this.store.add(n),this.getNum()}var r=Object.values(this.store.all)[0];this.setSelected(r)}}function ka(e){var t,n=e.split("‍"),r=0,o=Li(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;r+=Array.from(i.split(/[\ufe00-\ufe0f]/).join("")).length}}catch(e){o.e(e)}finally{o.f()}return r/n.length}function Sa(){return Object.values(this.store.all)}var Ta=window.profiles=new(Ti=new WeakMap,xi=new WeakMap,function(){function e(){var t=this;Ni(this,e),Ti.set(this,{writable:!0,value:"selectedProfiles5"}),xi.set(this,{writable:!0,value:"ogarioPlayerProfiles"}),Xi(this,"counter",0),Xi(this,"saveToMemory",(0,c.Ds)((function(){r.tO.set(Bi(t,xi),t.export(),"")}),100)),this.classProfile=sa(),this.store=new r.FA("id",[],this.classProfile.prototype),this.store.on("change",(function(e,n){e.id==t.selected[0]&&Object.assign(t.mainProfile,e),e.id==t.selected[1]&&Object.assign(t.profileB,e)})),this.mainProfile=new ia,this.profileB=new ia,this.state=(0,r.fC)({deletion:"0"}),this.state.on("deletion",ua),this.selected=(0,r.fC)({0:"PROFILE-ID-EXAMPLE-0",1:"PROFILE-ID-EXAMPLE-1"}),Object.assign(this.selected,r.tO.get(Bi(this,Ti))),this.selected.on("*",(function(e){r.tO.set(Bi(t,Ti),t.selected)})),this.selected.on(0,(function(e,n){t.store.has(t.selected[0])?Object.assign(t.mainProfile,t.store.get(t.selected[0])):console.error("cant merge profile")})),this.selected.on(1,(function(e,n){t.store.has(t.selected[1])?Object.assign(t.profileB,t.store.get(t.selected[1])):console.error("cant merge profile")}))}return qi(e,[{key:"formToStore",value:ca},{key:"assign2",value:la},{key:"init",value:fa},{key:"setSelected",value:ha},{key:"clearAllProfiles",value:da},{key:"addProfile",value:pa},{key:"remProfile",value:va},{key:"findClosest",value:ya},{key:"getNum",value:ma},{key:"loadDefaultProfiles",value:ga},{key:"loadFromStorage",value:ba},{key:"restore",value:wa},{key:"import",value:_a},{key:"getfancyLength",value:ka},{key:"export",value:Sa}]),e}());function xa(){var e=this;clearTimeout(this.receiveTimeout),clearTimeout(this.calcTimeout),this.calcTimeout=null,this.receiveTimeout=null,this.sc=[0,0,0,0],this.scLock=!1,this.receiveTimeout=setTimeout((function(){e.log("No received signals"),e.scLock=!0}),1e3),this.log("Receiving unlocked")}function Ua(e,t){var n=this;this.sc[e]++,!1===this.scLock&&(this.scLock=!0,clearTimeout(this.receiveTimeout),this.calcTimeout=setTimeout((function(){var e=n.calcMostLikeQuadrant(n.sc);n.app.setQuadrant(e,2),n.log("Received",e,"[".concat(n.sc.join(", "),"]"))}),900)),null==this.calcTimeout&&this.log("User quadrant (".concat(t,"-").concat(e,") not received because timeout expired"))}function Ca(e){return e.indexOf(Math.max.apply(Math,function(e){if(Array.isArray(e))return Ki(e)}(t=e.slice(0,4))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Di(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var t}function Ia(e){var t,n=0,r=[0,0,0,0],o=Li(this.app.clients.render);try{for(o.s();!(t=o.n()).done;){var i=t.value;null!==i.quadrant&&e!==i&&(n++,r[i.quadrant]++)}}catch(e){o.e(e)}finally{o.f()}return 0===n?(this.log("No local quadrant"),null):this.calcMostLikeQuadrant(r)}function Pa(){var e,t=0,n=[0,0,0,0],r=Li(this.app.clients.render);try{for(r.s();!(e=r.n()).done;){var o=e.value;null!==o.quadrant&&(t++,n[o.quadrant]++)}}catch(e){r.e(e)}finally{r.f()}return 0===t?-1:this.calcMostLikeQuadrant(n)}function Oa(){var e,t=[0,0,0,0],n=[0],r=Li(this.app.clients.render);try{for(r.s();!(e=r.n()).done;)t[e.value.quadrant]++}catch(e){r.e(e)}finally{r.f()}for(var o=0,i=t;o<i.length;o++)n[i[o]]++;return 3!=n[0]}var Ra=function(){function e(t){Ni(this,e),this.app=t,this.log=console.log,this.error=console.error,this.isDebug=!0,(0,r.qc)(!0,this,"[[36mQServer[39m]:"),this.sc=[0,0,0,0,0,0],this.scLock=!1,this.receiveTimeout=null,this.calcTimeout=null}return qi(e,[{key:"reset",value:xa},{key:"receiveUsersQuadtant",value:Ua},{key:"calcMostLikeQuadrant",value:Ca},{key:"calcLocalQuadrant",value:Ia},{key:"calcLocalQuadrantSilent",value:Pa},{key:"hasWrongQuadrant",value:Oa}]),e}();function Ea(){this.delta=u.X.runtime-this.time;var e=this.r*(this.delta/this.duration);this.alpha=(this.r-e)/this.fadeTime,this.animSize=e}function Ma(){Ds.waves.splice(Ds.waves.indexOf(this),1)}var Aa=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.rS.raw.splitRangeColor.string,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1250;Ni(this,e),this.animSize=null,this.x=t,this.y=n,this.color=r,this.colorInt=(new Ci.Z).fromHex(r).getInt(),this.microcolor=(new Ci.Z).fromHex(r),this.r=i,this.duration=a,this.fadeTime=800,this.time=u.X.runtime,this.alpha=1,this.animSize=this.r,this.move()}return qi(e,[{key:"move",value:Ea},{key:"remove",value:Ma}]),e}();function ja(e,t){return(e%t+t)%t}function La(){console.error("Error in waitfor spawn")}function Fa(){var e,t,n,r=this;function o(){r.blocked=!1,r.units.includes(e)&&r.moveUnitToStart(e)}function i(){r.blocked=!1}function a(e){for(;;)switch(e.prev=e.next){case 0:r.blocked=!1,r.rotateUnits();case 2:case"end":return e.stop()}}function s(e){return regeneratorRuntime.wrap(a,s)}function u(){var e=ji(regeneratorRuntime.mark(s));return function(t){return e.apply(this,arguments)}}function c(){r.blocked=!1}function l(e){for(;;)switch(e.prev=e.next){case 0:r.blocked=!1,r.rotateUnits();case 2:case"end":return e.stop()}}function f(e){return regeneratorRuntime.wrap(l,f)}function h(){var e=ji(regeneratorRuntime.mark(f));return function(t){return e.apply(this,arguments)}}function d(){r.blocked=!1}return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.blocked){r.next=2;break}return r.abrupt("return");case 2:if(!(e=this.units[1])||e.play||!e.client.estabilished){r.next=11;break}return this.blocked=!0,e.client.isAgario&&(e.client.sendSpectate(),e.client.sendFreeSpectate()),e.sendSpawn(),e.waitfor("spawn",1e3).then(o).catch(La).finally(i),r.abrupt("return");case 11:if(e){r.next=21;break}if(Ii.Z.selectedServer.multibox){r.next=14;break}return r.abrupt("return");case 14:return this.blocked=!0,(t=Ds.initPlayer("slave")).connect(Ds.server.ws),t.waitfor("estabilished",1e3).then(u()).finally(c),r.abrupt("return");case 21:e.client.estabilished?e.play&&(this.moveUnitToStart(e),this.reorderUnitInClient(this.activeUnit),this.emit("order")):(this.blocked=!0,(n=e.client).connect(Ds.server.ws),n.waitfor("estabilished",1e3).then(h()).finally(d));case 22:case"end":return r.stop()}}),Fa,this)}function Da(e){if(console.error("moveUnitToStart",e),this.blocked)throw new Error("blocked");var t=this.activeUnit,n=this.units.indexOf(e);this.moveInArray(this.units,n,0),this.reorderUnitInClient(e),console.log("unit reordered 2",this.units),this.emit("order"),this.emit("inactive",t)}function Ka(e){e.client.unitManager.moveUnitToStart(e)}var Xa=function(e){Hi(r,e);var t,n=Gi(r);function r(e){var t;return Ni(this,r),Xi(Yi(t=n.call(this,e)),"escapeIndex",ja),t.blocked=!1,t}return qi(r,[{key:"rotateUnits",value:(t=ji(regeneratorRuntime.mark(Fa)),function(){return t.apply(this,arguments)})},{key:"moveUnitToStart",value:Da},{key:"reorderUnitInClient",value:Ka}]),r}(a.t3);function Ba(e){return e.initDanceEvents()}function Na(e){var t=e.view.x,n=e.view.y,r=e.cursor.x,o=e.cursor.y,i=t-r,a=n-o,s=Math.sqrt(i*i+a*a),u=Math.atan2(o-n,r-t);e.keepcursor.angle=u,e.keepcursor.distance=s}function za(e){var t=e;t&&((this.serverHistory.length>0&&this.serverHistory[this.serverHistory.length-1]!==t||0===this.serverHistory.length)&&this.serverHistory.push(t),this.serverHistoryIndex=1,this.serverHistory.length>50&&this.serverHistory.shift())}function qa(){if(console.log("has prev",this.serverHistory.length-this.serverHistoryIndex>0),this.serverHistory.length-this.serverHistoryIndex>0){this.serverHistoryIndex++;var e=this.serverHistory[this.serverHistory.length-this.serverHistoryIndex];console.log("prev index",this.serverHistoryIndex,e),this.connect(e,!0,!1)}}function Ha(e){return Ds.connect(e)}function Wa(){if(this.serverHistory.length-this.serverHistoryIndex<this.serverHistory.length){if(this.serverHistoryIndex-1==0)return Ii.Z.getSelectedServer(Ha);this.serverHistoryIndex--;var e=this.serverHistory[this.serverHistory.length-this.serverHistoryIndex];this.connect(e,!0,!1)}}function Ga(e,t,n,r,o){var i=new Aa(e,t,n,r,o);this.waves.push(i),this.emit("newWave",i)}function Va(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!a.KU.Type.hasOwnProperty(e))throw Error("Not defined tab type");var r=new a.KU(this,e,n);return"master"==n&&(this.master=r),this.clients.indexed.set(r.ID,r),e==a.KU.Type.PLAYER&&this.clients.player.push(r),e==a.KU.Type.BOT&&this.clients.bot.push(r),a.KU.Type.DEFAULT,e==a.KU.Type.REGION&&this.clients.region.push(r),e==a.KU.Type.SPECTATE&&this.clients.spectate.push(r),this.clients.render.push(r),this.recreateRenderQueue(),r.on("offset",(function(){return t.updateServerData(r)})),r.on("requestQuadrant",(function(){r.setQuadrant(t.qServer.calcLocalQuadrant(r))})),r.on("sfx",this.sfx.bind(this)),this.emit("initClient",r),r}function Ya(e){if(!(e instanceof a.KU))return console.error(e,"Not a client"),!1;var t=e.TYPE,n=e.ID;if(!e)return console.log("Not defined tab type"),!1;if(this.emit("destroyClient",e),e.closeConnection("noevent"),e.removeEvents(),t==a.KU.Type.PLAYER){var r=this.clients.player.indexOf(e);~r&&this.clients.player.splice(r,1)}if(a.KU.Type.DEFAULT,t==a.KU.Type.REGION){var o=this.clients.region.indexOf(e);~o&&this.clients.region.splice(o,1)}if(t==a.KU.Type.SPECTATE){var i=this.clients.spectate.indexOf(e);~i&&this.clients.spectate.splice(i,1)}var s=this.clients.render.indexOf(e);return~s&&this.clients.render.splice(s,1),this.recreateRenderQueue(),e.indexPosition=null,this.clients.indexed.delete(n),!0}function Za(){}function Qa(e){var t=this.initClient(a.KU.Type.PLAYER,e);function n(){t.cells[0]&&(t.spectateTo(t.cells[0]),t.sendFreeSpectate(),t.sendSpectate())}return t.on("close",this.reconnectTimeout.bind(this)),t.on("requestQuadrant",Za),this.server.isAgario&&t.once("estabilished",(function(){setTimeout(n,1e3)})),t}function Ja(e,t){return e.ID-t.ID}function $a(){this.clients.player.sort(Ja),this.recreateRenderQueue()}function es(){this.moveInArray(this.clients.player,0,1%this.clients.player.length),this.emit("swapEvent"),this.recreateRenderQueue()}function ts(){if(new Set,this.clients.render=[],this.unitManager.activeUnit){var e=this.clients.player.indexOf(this.unitManager.activeUnit.client);this.moveInArray(this.clients.player,e,0)}var t,n=Li(this.clients.player);try{for(n.s();!(t=n.n()).done;)(c=t.value).indexPosition=this.clients.render.push(c)-1}catch(e){n.e(e)}finally{n.f()}var r,o=Li(this.clients.bot);try{for(o.s();!(r=o.n()).done;)(c=r.value).indexPosition=this.clients.render.push(c)-1}catch(e){o.e(e)}finally{o.f()}var i,a=Li(this.clients.spectate);try{for(a.s();!(i=a.n()).done;)(c=i.value).indexPosition=this.clients.render.push(c)-1}catch(e){a.e(e)}finally{a.f()}var s,u=Li(this.clients.region);try{for(u.s();!(s=u.n()).done;){var c;(c=s.value).indexPosition=this.clients.render.push(c)-1}}catch(e){u.e(e)}finally{u.f()}}function ns(e,t,n){var r=e.splice(t,1);if(!r.length)throw new Error("There is no item in the array at index "+t);e.splice(n,0,r[0])}function rs(e){e.sendSpectate()}function os(){var e=this.initClient(a.KU.Type.SPECTATE);e.connect(this.server.ws),e.on("estabilished",rs)}function is(){for(var e=0;this.clients.spectate.length>e;e++)this.destroyClient(this.clients.spectate[e])}function as(e,t,n){if(e.isAgario&&t)for(var r=0;r<this.clients.player.length;r++)if(this.clients.player[r].playerAID===t)return this.clients.player[r].unitManager.activeUnit;if(e.isAgario)return null;var o=e.unitManager.units.find((function(e){return e.unitId===t}));if(o)return o;if(t){var i=this.unitManager.units.find((function(e){return e.unitId===t}));if(i)return i}else for(var a=0,s=this.unitManager.units.length;a<s;a++)if(this.unitManager.units[a].hasCellID(n))return this.unitManager.units[a];return null}function ss(e,t){for(var n=t-1;-1<n;n--)if(this.clients.render[n].isInViewHSLO(e))return!0;return!1}function us(e,t){return e.client.ID<t.client.ID?e:t}function cs(){var e;if(!this.state.play){var t=this.unitManager.units.length&&this.unitManager.units.reduce(us);!t||t.client.protocol instanceof Oi.Z||t&&this.unitManager.moveUnitToStart(t),null===(e=this.unitManager.activeUnit)||void 0===e||e.sendSpawn()}}function ls(){return this.clients.player[0]}function fs(e){return this.getActiveTab()===e}function hs(){this.master.sendFreeSpectate()}function ds(){this.master.sendSpectate()}function ps(){var e;this.emit("wave",{x:this.stage.mouseWorldX,y:this.stage.mouseWorldY,color:(null===(e=this.unitManager.activeUnit)||void 0===e?void 0:e.color)||"#000000"})}function vs(){this.getActiveTab().sendEject()}function ys(e){throw Error("respawnClient   not implemented")}function ms(){}function gs(){console.error("Quick respawn failed")}function bs(){var e,t=this,n=null===(e=this.unitManager.activeUnit)||void 0===e?void 0:e.client;if(n){if(n.unitManager.units.length>1)return console.error("This server does not support quick respawn");n.connect(this.server.ws),n.waitfor("estabilished",1e3).then((function(){var e=n.unitManager.activeUnit;e.sendSpawn(),e.waitfor("spawn",1e3,(function(t){e.waitfor("unestabilished",500).then((function(){return t()})).catch(ms)})).then((function(){t.state.menuShow=!1,t.state.isWaitingForRespawn=!1,t.unitManager.moveUnitToStart(e)})).catch(gs)}))}this.state.isWaitingForRespawn=!0}function ws(){o.Xd.raw.autoResp.value&&!this.state.menuShow&&this.click_play()}function _s(e,t){var n,r=Li(this.clients.indexed.values());try{for(r.s();!(n=r.n()).done;)n.value.setQuadrant(e)}catch(e){r.e(e)}finally{r.f()}}function ks(){}function Ss(e){if(void 0!==e&&e!==this.state.pause&&(this.state.pause=e),r.d8.pause=this.state.pause,this.state.paused){var t,n=Li(this.clients.player);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.resetTargetPosition(),o.protocol.sendPause(!0);var i,a=Li(o.unitManager.units);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.setPausePosition(),s.play&&s.sendCursorPosition()}}catch(e){a.e(e)}finally{a.f()}}}catch(e){n.e(e)}finally{n.f()}}else{var u,c=Li(this.clients.player);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.protocol.sendPause(!1);var f,h=Li(l.unitManager.units);try{for(h.s();!(f=h.n()).done;){var d=f.value;d.play&&d.sendCursorPosition()}}catch(e){h.e(e)}finally{h.f()}}}catch(e){c.e(e)}finally{c.f()}}}function Ts(e,t,n,r){for(var o=r-1;-1<o;o--)if(this.clients.render[o].isInViewport(e,t,n))return!0;return!1}function xs(e,t,n,r){for(var o=r-1;-1<o;o--)if(this.clients.render[o].isInBounds(e,t,n))return!0;return!1}function Us(e,t,n){switch(e){case"virusFeed":if(!o.Xd.proxy[e+"Sound"])return;if(this.reverseCheckView(t,this.clients.render.indexOf(n)))return;var r=["shoot_v31","shoot_v32","shoot_v33","shoot_v34"];s.g.play(r[Math.floor(Math.random()*r.length)]);break;case"myEject":break;default:o.Xd.proxy[e+"Sound"]&&s.g.once(e)}}function Cs(){this.connect(this.server.ws,!0,!1)}function Is(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Ii.Z.on_app_connect(e),Ii.Z.selectedServer.multibox||this.clients.player.length>1&&this.destroyClient(this.clients.player[1]),n&&this.pushServerHistory(e),!e)return this.disconnect();if(e===this.server.ws&&!t)return this.getActiveTab().connect(e);this.disconnect(),console.log("Connect starting:",e),this.server.ws=e,this.emit("connect");var r,o=Li(this.clients.player);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.connect(e)}}catch(e){o.e(e)}finally{o.f()}}function Ps(){this.emit("disconnect"),this.flushServerConfigs();var e,t=Li(this.clients.player);try{for(t.s();!(e=t.n()).done;)e.value.closeConnection("noevent")}catch(e){t.e(e)}finally{t.f()}}function Os(e){var t=this;if(this.reconnectTimeoutStarted)return!1;function n(e){t.connect(e)}this.reconnectTimeoutStarted=!0,setTimeout((function(){var r,o=!1,i=Li(t.clients.render);try{for(i.s();!(r=i.n()).done;)r.value.isSocketOpen()&&(o=!0)}catch(e){i.e(e)}finally{i.f()}o?e.connect(t.server.ws):Ii.Z.getSelectedServer(n),t.reconnectTimeoutStarted=!1}),1e3)}function Rs(){Object.assign(this.server,{isAgario:!1,gameMode:":ffa",mapSizeH:14142,mapSizeV:14142,mapOffset:7071,mapMinX:-7071,mapMinY:-7071,mapMaxX:7071,mapMaxY:7071,mapMidX:0,mapMidY:0,estabilished:!0}),Object.assign(this.server,{region:"",partyToken:"",ws:"",serverToken:""})}function Es(e){var t=e.gameMode,n=e.mapSizeH,r=e.mapSizeV,o=e.mapOffset,i=e.mapMinX,a=e.mapMinY,s=e.mapMaxX,u=e.mapMaxY,c=e.mapMidX,l=e.mapMidY,f=e.isAgario;this.server.isAgario=f,this.server.gameMode=t,this.server.mapSizeH=n,this.server.mapSizeV=r,this.server.mapOffset=o,this.server.mapMinX=i,this.server.mapMinY=a,this.server.mapMaxX=s,this.server.mapMaxY=u,this.server.mapMidX=c,this.server.mapMidY=l,this.server.estabilished=!0}function Ms(e,t){for(var n=t.length,r=0;n--;){var o=t[n];if(e==(r+=o^t.length-n+r<<o))return!0}return!1}function As(){var e,t,n=this;function u(){var e,t=0,r=Li(n.unitManager.units);try{for(r.s();!(e=r.n()).done;)e.value.play&&t++}catch(e){r.e(e)}finally{r.f()}t>0&&0==n.state.play&&(n.state.play=!0,n.emit("spawn"))}function c(){return n.autoResp()}function l(){n.state.isWaitingForRespawn||n.unitManager.anyAliveUnit||(n.state.menuShow=!0)}function f(e){n.connect(e)}function h(e){n.state.once("menuShow",(function(){return null==e?void 0:e.release()}))}this.state.on("paused",(function(){n.setPause(n.state.paused)})),this.unitManager.on("add",(function(e){e.client.TYPE===a.KU.Type.PLAYER&&(e.on("spawn",u),e.on("death",(function(){var t,r=0,o=Li(n.unitManager.units);try{for(o.s();!(t=o.n()).done;)t.value.play&&r++}catch(e){o.e(e)}finally{o.f()}r>1&&console.log("need to switch unit"),0==r&&1==n.state.play&&(n.state.play=!1,n.emit("death")),n.emit("death:any",e)})))})),this.on("death:any",(function(){console.error("move next to start");var e=n.unitManager.anyAliveUnit;e&&n.unitManager.moveUnitToStart(e)})),this.on("spawn",(function(){n.state.menuShow=!1})),this.on("death",(function(){o.Xd.raw.autoResp.value?setTimeout(c,500):setTimeout(l,500)})),this.initPlayer("master"),setInterval((function(){var e,t=Li(n.clients.player);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.unitManager.anyAliveUnit){var i,a=Li(r.unitManager.units);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s==n.unitManager.activeUnit)s.sendCursorPosition();else if(o.Xd.raw.mbInactiveKeepMoving.value&&r.protocol instanceof Pi.v&&s.play){var u=s.view.x,c=s.view.y,l=s.keepcursor.angle,f=s.keepcursor.distance;s.cursor.x=f*Math.cos(l)+u,s.cursor.y=f*Math.sin(l)+c,s.sendCursorPosition(s.cursor.x,s.cursor.y)}}}catch(e){a.e(e)}finally{a.f()}}else r.sendCursorPosition()}}catch(e){t.e(e)}finally{t.f()}for(var h=0,d=[n.clients.region,n.clients.spectate];h<d.length;h++){var p,v=Li(d[h]);try{for(v.s();!(p=v.n()).done;)p.value.sendCursorPosition()}catch(e){v.e(e)}finally{v.f()}}var y,m=Li(n.clients.bot);try{for(m.s();!(y=m.n()).done;){var g,b=Li(y.value.unitManager.units);try{for(b.s();!(g=b.n()).done;)g.value.sendCursorPosition()}catch(e){b.e(e)}finally{b.f()}}}catch(e){m.e(e)}finally{m.f()}}),40),Ii.Z.on("change",(function(){n.disconnect(),Ii.Z.getSelectedServer(f)}))(),window.addEventListener("online",(function(){toastr.info("Online"),n.online=navigator.onLine;var e=navigator.onLine?"online":"offline";console.log("Internet is:",e);var t,r=Li(n.clients.render);try{for(r.s();!(t=r.n()).done;)t.value.connect(n.server.ws)}catch(e){r.e(e)}finally{r.f()}})),window.addEventListener("offline",(function(){toastr.warning("Offline"),n.online=navigator.onLine;var e=navigator.onLine?"online":"offline";console.log("Internet is:",e)})),window.onbeforeunload=function(e){return n.state.play?(0,r.dz)("exit"):void 0},window.navigator.wakeLock&&(this.isDev?null===(e=navigator.wakeLock)||void 0===e||null===(t=e.request)||void 0===t||t.call(e):this.state.on("menuShow",(function(){var e,t,r;0==n.state.menuShow&&(null===(e=navigator.wakeLock)||void 0===e||null===(t=e.request)||void 0===t||null===(r=t.call(e))||void 0===r||r.then(h))}))),s.g.load("virusEat","https://freesound.org/data/previews/269/269583_3854053-lq.mp3"),s.g.load("virusPop","https://freesound.org/data/previews/168/168312_599528-lq.mp3"),s.g.load("x16","https://freesound.org/data/previews/427/427995_4067257-lq.mp3"),s.g.load("non16","https://freesound.org/data/previews/50/50559_594303-lq.mp3"),s.g.load("intro","https://freesound.org/data/previews/244/244527_4157918-lq.mp3"),s.g.load("shoot_v31","assets/shoot_v31.mp3"),s.g.load("shoot_v32","assets/shoot_v32.mp3"),s.g.load("shoot_v33","assets/shoot_v33.mp3"),s.g.load("shoot_v34","assets/shoot_v34.mp3"),s.g.load("cheat","assets/notification_sa.mp3"),r.dD.on("hk-feed:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.sendEject()})),r.dD.on("hk-macroFeed:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.sendMacro(!0)})),r.dD.on("hk-macroFeed:up",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.sendMacro(!1)})),r.dD.on("hk-split:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.sendSplit(1)})),r.dD.on("hk-doubleSplit:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.sendSplit(2)})),r.dD.on("hk-popSplit:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.sendPopSplit()})),r.dD.on("split64:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.sendSplit(8)})),r.dD.on("hk-split16:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.sendSplit(4)})),r.dD.on("hk-pause:down",(function(){return n.state.paused=!n.state.paused})),r.dD.on("hk-switchPlayer:down",(function(){n.unitManager.rotateUnits()})),r.dD.on("hk-bots-macroFeed:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.client.protocol.sendBotMacro(!0)})),r.dD.on("hk-bots-macroFeed:up",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.client.protocol.sendBotMacro(!1)})),r.dD.on("hk-bots-ai:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.client.protocol.sendBotToggle()})),r.dD.on("hk-bots-split:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.client.protocol.sendBotSplit(1)})),r.dD.on("hk-bots-split-x2:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.client.protocol.sendBotSplit(2)})),r.dD.on("hk-bots-split-x3:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.client.protocol.sendBotSplit(3)})),r.dD.on("hk-bots-split-x4:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.client.protocol.sendBotSplit(4)})),r.dD.on("hk-bots-split-x5:down",(function(){var e;return null===(e=n.unitManager.activeUnit)||void 0===e?void 0:e.client.protocol.sendBotSplit(5)})),r.dD.on("hk-quickResp:down",(function(){return n.quickResp()})),r.dD.on("hk-wave:down",(function(){return n.sendWave()})),r.dD.on("ESC:down",(function(){n.state.menuShow=!n.state.menuShow}));var d,p,v=new Date;Date.UTC(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds());try{var y=location.pathname.split("/").reverse()[0],m=xc.decode("хуй",y).split(":");"tf"===m[0]&&Number(m[1])}catch(e){}d=[[962178012,function(){n.clients.spectate.length?n[Ei]():n[Mi]()}],[-442623544,function(){n.fcontroller.controllers.spect16x.enabled?n.fcontroller.controllers.spect16x.disable():n.fcontroller.controllers.spect16x.enable()}]],p=[],document.addEventListener("keydown",(function(e){var t;if("INPUT"!=(null===(t=e.target)||void 0===t?void 0:t.tagName)){p.push(e.keyCode),p.length>11&&p.shift();var n,r=Li(d);try{for(r.s();!(n=r.n()).done;){var o=Fi(n.value,2),a=o[0],u=o[1];if(Ms(a,p)){u(),i.Zr.displayChatInfo("","Activated"),s.g.once("cheat"),p=[];break}}}catch(e){r.e(e)}finally{r.f()}}}))}function js(){return this._state.play}function Ls(){var e,t=Li(this.clients.player);try{for(t.s();!(e=t.n()).done;)if(e.value.estabilished)return!0}catch(e){t.e(e)}finally{t.f()}return!1}function Fs(){var e,t=Li(this.clients.player);try{for(t.s();!(e=t.n()).done;)if(e.value.estabilished)return!0}catch(e){t.e(e)}finally{t.f()}var n,r=Li(this.clients.region);try{for(r.s();!(n=r.n()).done;)if(n.value.estabilished)return!0}catch(e){r.e(e)}finally{r.f()}var o,i=Li(this.clients.spectate);try{for(i.s();!(o=i.n()).done;)if(o.value.estabilished)return!0}catch(e){i.e(e)}finally{i.f()}return!1}var Ds=window.app=new(function(e){Hi(n,e);var t=Gi(n);function n(){var e;function i(t){return e.unitManager.addExistingUnit(t)}function a(t){return e.unitManager.addExistingUnit(t)}function s(t){return e.unitManager.removeUnit(t)}function u(t){t.initDanceEvents(),t.on("spawn",(function(){o.Xd.raw.spawnWaveEffect.value&&e.addWave(t.view.x,t.view.y,t.color,1500)}))}Ni(this,n),Xi(Yi(e=t.call(this)),"wakeLock",null),Xi(Yi(e),"click_play",(function(){e.state.menuShow=!1,e.doPlay(),e.emit("playPressed")})),Xi(Yi(e),"click_spectate",(function(){!e.master.isFreeSpectate&&e.sendSpectate(),e.state.menuShow=!1,e.emit("spectatePressed")})),e.profiles=Ta,e.master=null,e.online=!0,e.quadrant=-1,e.waves=[],e.clients={indexed:new Map,render:[],region:[],spectate:[],player:[],bot:[]},e.unitManager=new Xa(Yi(e)),e.unitManager.on("order",(function(){return e.recreateRenderQueue()})),e.unitManager.on("add",(function(){return e.recreateRenderQueue()})),e.unitManager.on("remove",(function(){return e.recreateRenderQueue()})),e.on("initClient",(function(t){t.unitManager.units.forEach(i),t.listenTo(t.unitManager,"add",a),t.listenTo(t.unitManager,"remove",s),e.unitManager.on("add",u),t.unitManager.units.forEach(Ba)})),e.unitManager.on("order",(function(){console.log("order events");var t,n=Li(e.unitManager.units);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.client.protocol.makeThisUnitInactive(),r==e.unitManager.activeUnit&&Ui.N1.pressedHotkeys["hk-macroFeed"]&&(console.log("macro feed"),r.sendMacro(!0))}}catch(e){n.e(e)}finally{n.f()}})),e.unitManager.on("inactive",Na),e.reconnectTimeoutStarted=!1;var c={focused:!0,paused:!1,connected:!0,spectate:!1,macro:!1,play:!1,menuShow:!0,hudShow:!0,isWaitingForRespawn:!1};e._state=c,e.state=(0,r.fC)(c);var l=e._server={gameMode:":ffa",region:"",ws:"",partyToken:"",serverToken:"",userFriendlyToken:"",isAgario:!1,mapSizeV:14142,mapSizeH:14142,mapOffset:7071,mapMinX:-7071,mapMinY:-7071,mapMaxX:7071,mapMaxY:7071,mapMidX:0,mapMidY:0,estabilished:!1,get now(){return Date.now()}};return e.server=(0,r.fC)(l),e.server.on("ws",(function(){e.server.serverToken=It.Z.wsToToken(e.server.ws),e.server.partyToken=It.Z.extractTokenParty(e.server.ws);var t;t=e.server.partyToken?e.server.partyToken:It.Z.regex.tokenAgar.test(e.server.serverToken)?e.server.serverToken:e.server.ws,e.server.userFriendlyToken=t})),e.isDev=sn.isDevMode,e.serverHistory=[],e.serverHistoryIndex=1,e.server.on("ws",(function(){e.server.ws.indexOf("raga")})),e.qServer=new Ra(Yi(e)),e.fcontroller=new ui(Yi(e)),e.backend=new Ct(Yi(e)),e.stage=new Gn(Yi(e)),e.crasher=e.isDev?new Si(Yi(e)):null,e.accs=Vn.V,e.accs.init(Yi(e)),e}return qi(n,[{key:"pushServerHistory",value:za},{key:"prevServer",value:qa},{key:"nextServer",value:Wa},{key:"addWave",value:Ga},{key:"initClient",value:Va},{key:"destroyClient",value:Ya},{key:"initPlayer",value:Qa},{key:"setMasterAtStart",value:$a},{key:"swapPlayers",value:es},{key:"recreateRenderQueue",value:ts},{key:"moveInArray",value:ns},{key:Mi,value:os},{key:Ei,value:is},{key:"findUnitOrigin",value:as},{key:"reverseCheckView",value:ss},{key:"doPlay",value:cs},{key:"getActiveTab",value:ls},{key:"isActiveTab",value:fs},{key:"sendFreeSpectate",value:hs},{key:"sendSpectate",value:ds},{key:"sendWave",value:ps},{key:"feed",value:vs},{key:"respawnClient",value:ys},{key:"quickResp",value:bs},{key:"autoResp",value:ws},{key:"setQuadrant",value:_s},{key:"getQuadrant",value:ks},{key:"setPause",value:Ss},{key:"reverseCheckGhost",value:Ts},{key:"reverseCheckInBounds",value:xs},{key:"sfx",value:Us},{key:"reconnect",value:Cs},{key:"connect",value:Is},{key:"disconnect",value:Ps},{key:"reconnectTimeout",value:Os},{key:"flushServerConfigs",value:Rs},{key:"updateServerData",value:Es},{key:"init",value:As},{key:"play",get:js},{key:"isAnyPlayerEstablished",get:Ls},{key:"isAnyEstablished",get:Fs}]),n}(r.aN))},340:(e,t,n)=>{"use strict";n.d(t,{bL:()=>$r,KU:()=>Fa,t3:()=>po});var r=n(9879),o=n(8967),i=n(6524);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(){var e=this;Object.keys(this.all).forEach((function(t){e.emit(t),e.rem(t)}))}function d(e){var t=!1;if(this.has(e[this.indexId]))if(t=!0,e.destroy){var n=this.get(e[this.indexId]);n.destroy(),this.rem(n[this.indexId]),this.add(e)}else this.set(this.all,e[this.indexId],e);else this.add(e);this.emit(e[this.indexId],e,t)}function p(e){return(this.get(e)||{}).amount}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(v,e);var t,n,r,o,i,a=(t=v,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f(t);if(n){var o=f(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return l(this,e)});function v(){return s(this,v),a.apply(this,arguments)}return r=v,(o=[{key:"flush",value:h},{key:"update",value:d},{key:"amount",value:p}])&&u(r.prototype,o),i&&u(r,i),Object.defineProperty(r,"prototype",{writable:!1}),v}(o.FA);o.aN;var y=n(7042),m=n(2267),g=n(4857);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function S(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var O=window.protobuf.parse('syntax="proto3";\nmessage Data {\n\tagario_proto_envelope_Content contentType = 1;\n\tuncompressedData uncompressedData = 2;\n\tbytes compressedData = 3;\n\tuint32 uncompressedSize = 4;\n}\n\nmessage uncompressedData {\n    agario_proto_req_Type type = 1;\n    agario_proto_Login_request loginRequestField = 10;\n    agario_proto_Login_response loginResponseField = 11;\n    agario_proto_Realm_upgrade_request realmUpgradeRequestField = 12;\n    agario_proto_Realm_upgrade_response realmUpgradeResponseField = 13;\n    agario_proto_Connect_request connectRequestField = 14;\n    agario_proto_Connect_response connectResponseField = 15;\n    agario_proto_Device_token_update deviceTokenUpdateField = 16;\n    agario_proto_Disconnect disconnectField = 20;\n    agario_proto_Reconnect reconnectField = 21;\n    agario_proto_No_proper_response noProperResponseField = 22;\n    agario_proto_Ping pingField = 30;\n    agario_proto_Pong pongField = 31;\n    agario_proto_Udp_handshake udpHandshakeField = 32;\n    agario_proto_Configuration_change configurationChangeField = 33;\n    agario_proto_Server_going_offline serverGoingOfflineField = 34;\n    agario_proto_Game_enter_request gameEnterRequestField = 40;\n    agario_proto_Game_enter_response gameEnterResponseField = 41;\n    agario_proto_Game_joined gameJoinedField = 42;\n    agario_proto_Game_lobby_enter_request gameLobbyEnterRequestField = 44;\n    agario_proto_Game_lobby_enter_response gameLobbyEnterResponseField = 45;\n    agario_proto_Game_lobby_queue_update gameLobbyQueueUpdateField = 47;\n    agario_proto_Game_arena_direction_vector gameArenaDirectionVectorField = 50;\n    agario_proto_Game_continue_update_request gameContinueUpdateRequestField = 54;\n    agario_proto_Game_continue_update_response gameContinueUpdateResponseField = 55;\n    agario_proto_Game_arena_leaderboard gameArenaLeaderboardField = 60;\n    agario_proto_Game_arena_state gameArenaStateField = 61;\n    agario_proto_Game_over gameOverField = 62;\n    agario_proto_Game_arena_party_cell_updates gameArenaPartyCellUpdatesField = 63;\n    agario_proto_Game_arena_party_leaderboard_entries_updates gameArenaPartyLeaderboardEntriesUpdatesField = 64;\n    agario_proto_Game_arena_event gameArenaEventField = 65;\n    agario_proto_Game_arena_current_safe_area gameArenaCurrentSafeAreaField = 66;\n    agario_proto_Game_continue_info gameContinueInfoField = 67;\n    agario_proto_Game_battle_royale_arena_phase gameBattleRoyaleArenaPhaseField = 68;\n    agario_proto_Game_session_highest_mass gameSessionHighestMassField = 69;\n    agario_proto_Soft_purchase_request softPurchaseRequestField = 70;\n    agario_proto_Soft_purchase_response softPurchaseResponseField = 71;\n    agario_proto_Apple_inapp_purchase_request appleInappPurchaseRequestField = 72;\n    agario_proto_Google_inapp_purchase_request googleInappPurchaseRequestField = 73;\n    agario_proto_Inapp_purchase_response inappPurchaseResponseField = 74;\n    agario_proto_Wallet_updates walletUpdatesField = 75;\n    agario_proto_Purchase_wallet_updates purchaseWalletUpdatesField = 76;\n    agario_proto_Offer_bundle_request offerBundleRequestField = 77;\n    agario_proto_Offer_bundle_response offerBundleResponseField = 78;\n    agario_proto_Subscription_wallet_updates subscriptionWalletUpdatesField = 79;\n    agario_proto_Update_user_settings_request updateUserSettingsRequestField = 80;\n    agario_proto_Update_user_settings_response updateUserSettingsResponseField = 81;\n    agario_proto_User_stats_request userStatsRequestField = 82;\n    agario_proto_User_stats_response userStatsResponseField = 83;\n    agario_proto_Server_to_server_game_over_wrapper serverToServerGameOverWrapperField = 90;\n    agario_proto_Claim_gifts_request claimGiftsRequestField = 100;\n    agario_proto_Claim_gifts_response claimGiftsResponseField = 101;\n    agario_proto_Send_gifts sendGiftsField = 102;\n    agario_proto_Consume_requests consumeRequestsField = 103;\n    agario_proto_Request_gifts requestGiftsField = 104;\n    agario_proto_Facebook_invitation_reward_updates facebookInvitationRewardUpdatesField = 105;\n    agario_proto_Activate_timed_event_request activateTimedEventRequestField = 110;\n    agario_proto_Activate_timed_event_response activateTimedEventResponseField = 111;\n    agario_proto_Activate_boost_request activateBoostRequestField = 112;\n    agario_proto_Activate_boost_response activateBoostResponseField = 113;\n    agario_proto_Activate_quest_request activateQuestRequestField = 114;\n    agario_proto_Activate_quest_response activateQuestResponseField = 115;\n    agario_proto_User_timed_event_updates userTimedEventUpdatesField = 116;\n    agario_proto_Activate_user_rewards_request activateUserRewardsRequestField = 117;\n    agario_proto_Activate_user_rewards_response activateUserRewardsResponseField = 118;\n    agario_proto_Open_potion_for_product_request openPotionForProductRequestField = 120;\n    agario_proto_Open_potion_for_product_response openPotionForProductResponseField = 121;\n    agario_proto_Brew_potion_for_slot_request brewPotionForSlotRequestField = 122;\n    agario_proto_Brew_potion_for_slot_response brewPotionForSlotResponseField = 123;\n    agario_proto_Open_potion_for_slot_request openPotionForSlotRequestField = 124;\n    agario_proto_Open_potion_for_slot_response openPotionForSlotResponseField = 125;\n    agario_proto_User_leagues_info_request userLeaguesInfoRequestField = 130;\n    agario_proto_User_leagues_info_response userLeaguesInfoResponseField = 131;\n    agario_proto_User_leagues_pass_update userLeaguesPassUpdateField = 132;\n    agario_proto_User_party_create_response userPartyCreateResponseField = 141;\n    agario_proto_User_party_join_request userPartyJoinRequestField = 142;\n    agario_proto_User_party_join_response userPartyJoinResponseField = 143;\n    agario_proto_User_party_membership_update userPartyMembershipUpdateField = 145;\n    agario_proto_User_party_facebook_invite userPartyFacebookInviteField = 146;\n    agario_proto_User_friend_list_update userFriendListUpdateField = 147;\n    agario_proto_User_skins_create_request userSkinsCreateRequestField = 150;\n    agario_proto_User_skins_create_response userSkinsCreateResponseField = 151;\n    agario_proto_User_skins_delete userSkinsDeleteField = 152;\n    agario_proto_Automation_request_update automationRequestUpdateField = 160;\n    agario_proto_Action_counters_update actionCountersUpdateField = 170;\n    agario_proto_User_ab_test_groups_update userAbTestGroupsUpdateField = 171;\n    agario_proto_User_rewards_token_request userRewardsTokenRequestField = 180;\n    agario_proto_User_rewards_token_response userRewardsTokenResponseField = 181;\n    agario_proto_User_rewards_updates userRewardsUpdatesField = 182;\n    agario_proto_Activate_reward_link_request activateRewardLinkRequestField = 183;\n    agario_proto_Activate_reward_link_response activateRewardLinkResponseField = 184;\n    agario_proto_Generic_video_ad_reward_token_request genericVideoAdRewardTokenRequestField = 185;\n    agario_proto_Generic_video_ad_reward_token_response genericVideoAdRewardTokenResponseField = 186;\n}\nmessage agario_proto_Login_request {\n\tagario_proto_login_realm realm = 1;\n\tagario_proto_Device device = 2;\n\tagario_proto_Tokens tokens = 3;\n\tstring clientIp = 4;\n}\nmessage agario_proto_Device {\n\tagario_proto_device_Platform platform = 1;\n\tstring version = 2;\n\tuint32 width = 3;\n\tuint32 height = 4;\n}\n\nmessage agario_proto_Login_response {\n\tagario_proto_Tokens tokens = 1;\n\tagario_proto_login_response_Current_game_state currentGameState = 2;\n\toptional agario_proto_game_type currentGameType = 3;\n\toptional agario_proto_User_party userParty = 4;\n\tuint32 latestConfiguration = 5;\n\tagario_proto_Server_info serverInfo = 6;\n\tagario_proto_User_info userInfo = 7;\n\tagario_proto_User_stats userStats = 8;\n\trepeated agario_proto_User_wallet_item userWallet = 9;\n\trepeated agario_proto_User_setting userSettings = 10;\n\trepeated agario_proto_User_boost_item userBoosts = 11;\n\trepeated agario_proto_User_timed_event userTimedEvents = 12;\n\tagario_proto_User_gifts userGifts = 13;\n\tagario_proto_Soft_upgrade softUpgrade = 14;\n\trepeated agario_proto_User_ab_test_group userAbTestGroups = 15;\n\trepeated agario_proto_User_quest userActiveQuests = 16;\n\trepeated agario_proto_User_potion userPotions = 17;\n\tstring userSessionId = 18;\n\toptional agario_proto_User_leagues_info userLeaguesInfo = 19;\n\tagario_proto_User_subscriptions userSubscriptions = 20;\n\trepeated agario_proto_User_rewards userRewards = 21;\n\trepeated string userUnapprovedSkinsIds = 22;\n}\nmessage agario_proto_Realm_upgrade_request {\n\tagario_proto_upgrade_realm realm = 1;\n\tstring authToken = 2;\n}\nmessage agario_proto_Realm_upgrade_response {\n\tagario_proto_Realm_info realmInfo = 1;\n\tstring displayName = 2;\n\tbool rewardWasHandedOut = 3;\n\tagario_proto_User_wallet_item userWallet = 4;\n}\nmessage agario_proto_Connect_request {\n\tstring connectToken = 1;\n}\n\t\nmessage agario_proto_Connect_response {\n\tagario_proto_Server_info serverInfo = 1;\n}\n\t\nmessage agario_proto_Device_token_update {\n\tstring token = 1;\n}\n\t\nmessage agario_proto_Disconnect {\n\tagario_proto_disconnect_Reason reason = 1;\n}\n\t\nmessage agario_proto_Reconnect {\n\tstring host = 1;\n\tuint32 tcpPort = 2;\n\tagario_proto_reconnect_Reconnect_with reconnectWith = 3;\n\tstring connectToken = 4;\n}\n\t\nmessage agario_proto_No_proper_response {\n\tagario_proto_no_proper_response_For __for = 1;\n}\n\nmessage agario_proto_Ping {\n\tuint32 pingId = 1;\n\tuint32 previousRoundtrip = 2;\n}\n\nmessage agario_proto_Pong {\n\tuint32 pingId = 1;\n}\n\nmessage agario_proto_Udp_handshake {\n\tstring token = 1;\n}\n\nmessage agario_proto_Configuration_change {\n\tuint32 latest = 1;\n}\n\nmessage agario_proto_Server_going_offline {\n\tuint32 secondsRemaining = 1;\n}\n\nmessage agario_proto_Game_enter_request {\n\tstring nickname = 1;\n}\n\nmessage agario_proto_Game_enter_response {\n\tagario_proto_game_enter_response_Result result = 1;\n}\n\nmessage agario_proto_Game_joined {\n\tagario_proto_game_type gameType = 1;\n\tagario_proto_Game_arena_state gameArenaState = 2;\n\tfloat gameArenaSideLength = 3;\n\tuint32 secondsRemaining = 4;\n\tuint32 playersAlive = 5;\n\tbattleRoyaleArenaPhase battleRoyaleArenaPhase = 6;\n}\n\nmessage agario_proto_Game_lobby_enter_request {\n\tagario_proto_lobby_type lobbyType = 1;\n\tstring nickname = 2;\n}\n\nmessage agario_proto_Game_lobby_enter_response {\n\tagario_proto_game_lobby_enter_response_Result result = 1;\n}\n\nmessage agario_proto_Game_lobby_queue_update {\n\tagario_proto_lobby_type lobbyType = 1;\n\tuint32 playersWaitingToBeMatched = 2;\n\tuint32 matchingOccursInSeconds = 3;\n}\n \nmessage agario_proto_Game_arena_direction_vector {\n\tfloat x = 1;\n\tfloat y = 2;\n}\n\nmessage agario_proto_Game_continue_update_request {\n\tagario_proto_game_continue_update_request_Type type = 1;\n}\n\nmessage agario_proto_Game_continue_update_response {\n\trepeated agario_proto_Product_update productUpdates = 1;\n\tagario_proto_Game_over gameOver = 2;\n}\n\nmessage agario_proto_Game_arena_leaderboard {\n\trepeated agario_proto_Game_arena_leaderboard_entry leaderboardEntries = 1;\n\tuint32 playerPosition = 2;\n}\n\nmessage agario_proto_Game_arena_state {\n\tuint32 set_orderId = 1;\n\trepeated agario_proto_Game_arena_cell_state appeared = 2;\n\trepeated agario_proto_Game_arena_cell_state changed = 3;\n\trepeated uint32 disappeared = 4;\n\trepeated agario_proto_Game_arena_cell_death died = 5;\n\tbool isDead = 6;\n}\n\nmessage agario_proto_Game_over {\n\tagario_proto_game_type gameType = 1;\n\tagario_proto_game_over_reason reason = 2;\n\trepeated agario_proto_Product_update productUpdates = 3;\n\trepeated agario_proto_Xp_level_update xpLevelUpdates = 4;\n\tagario_proto_User_stats userStats = 5;\n\tagario_proto_Game_session_stats gameSessionStats = 6;\n\tagario_proto_Potion_info potionInfo = 7;\n\toptional agario_proto_Game_arena_leaderboard leaderboard = 8;\n}\n\nmessage agario_proto_Game_arena_party_cell_updates {\n\trepeated agario_proto_Game_arena_party_cell gameArenaPartyCells = 1;\n\tuint32 totalPartyMembersInArena = 2;\n}\n\nmessage agario_proto_Game_arena_party_leaderboard_entries_updates {\n\tagario_proto_Game_arena_leaderboard_entry gameArenaPartyLeaderboardEntries = 1;\n}\n\nmessage agario_proto_Game_arena_event {\n\tagario_proto_game_arena_event_Reason reason = 1;\n\tagario_proto_Game_arena_attacker gameArenaAttacker = 2;\n\tstring victimNickname = 3;\n\tuint32 playersAlive = 4;\n}\n\nmessage agario_proto_Game_arena_current_safe_area {\n\tagario_proto_Game_arena_safe_area area = 1;\n}\n\nmessage agario_proto_Game_continue_info {\n\tuint32 massUponContinue = 1;\n\tbool massIsKept = 2;\n\tstring gameContinueToken = 3;\n}\n\nmessage agario_proto_Game_battle_royale_arena_phase {\n\tagario_proto_game_battle_royale_arena_phase_Phase_id phaseId = 1;\n\tuint32 timeToNext = 2;\n\tagario_proto_Game_arena_safe_area currentSafeArea = 3;\n\tagario_proto_Game_arena_safe_area nextSafeArea = 4;\n}\n\nmessage agario_proto_Game_session_highest_mass {\n\tuint32 highestMass = 1;\n}\n\nmessage agario_proto_Soft_purchase_request {\n    string purchaseId = 1;\n}\n\nmessage agario_proto_Soft_purchase_response {\n    agario_proto_soft_purchase_response_Result result = 1;\n    string purchaseId = 2;\n    repeated agario_proto_Product_update productUpdates = 3;\n}\n\nmessage agario_proto_Apple_inapp_purchase_request {\n    uint64 transactionId = 1;\n    string receiptData = 2;\n    string purchaseToken = 3;\n}\n\nmessage agario_proto_Google_inapp_purchase_request {\n    uint64 transactionId = 1;\n    string receiptData = 2;\n    string signature = 3;\n}\n\nmessage agario_proto_Inapp_purchase_response {\n    agario_proto_inapp_purchase_response_Result result = 1;\n    uint64 transactionId = 2;\n    repeated agario_proto_Product_update productUpdates = 3;\n}\n\nmessage agario_proto_Wallet_updates {\n    string originPlatform = 1;\n    repeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Purchase_wallet_updates {\n    string purchaseId = 1;\n    agario_proto_Wallet_updates walletUpdates = 2;\n}\n\nmessage agario_proto_Offer_bundle_request {\n\tstring bundleId = 1;\n}\n\nmessage agario_proto_Offer_bundle_response {\n\tagario_proto_offer_bundle_response_Result result = 1;\n\tstring bundleId = 2;\n\trepeated agario_proto_Product_update productUpdates = 3;\n}\n\nmessage agario_proto_Subscription_wallet_updates {\n    agario_proto_subscription_type subscriptionType = 1;\n    repeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Update_user_settings_request {\n    repeated agario_proto_User_setting userSettingsUpdates = 1;\n}\n\nmessage agario_proto_Update_user_settings_response {\n    repeated agario_proto_User_setting updatedUserSettings = 1;\n}\nmessage agario_proto_User_stats_request {\n    string userId = 1;\n}\n\nmessage agario_proto_User_stats_response {\n    string userId = 1;\n    agario_proto_User_stats userStats = 2;\n    uint32 lifetimeTrophies = 3;\n    uint32 level = 4;\n}\n\nmessage agario_proto_Server_to_server_game_over_wrapper {\n\tstring hashVerifier = 1;\n\tbytes serverToServerGameOver = 2;\n}\n\nmessage agario_proto_Claim_gifts_request {\n    repeated string giftIds = 1;\n}\n\nmessage agario_proto_Claim_gifts_response {\n    repeated agario_proto_Product_update productUpdates = 1;\n}\n\nmessage agario_proto_Send_gifts {\n    repeated string giftIds = 1;\n}\n\nmessage agario_proto_Consume_requests {\n    repeated string requestIds = 1;\n}\n\nmessage agario_proto_Request_gifts {\n    repeated string giftIds = 1;\n}\n\nmessage agario_proto_Facebook_invitation_reward_updates {\n    repeated string facebookIdsFrom = 1;\n    repeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Activate_timed_event_request {\n    string eventId = 1;\n}\n\nmessage agario_proto_Activate_timed_event_response {\n\tagario_proto_User_timed_event userTimedEvent = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Activate_boost_request {\n    string productId = 1;\n}\n\nmessage agario_proto_Activate_boost_response {\n\tagario_proto_User_boost_item userBoostItem = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Activate_quest_request {\n    string productId = 1;\n}\n\nmessage agario_proto_Activate_quest_response {\n\tagario_proto_User_quest userQuest = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_User_timed_event_updates {\n    repeated agario_proto_User_timed_event userTimedEvents = 1;\n}\n\nmessage agario_proto_Activate_user_rewards_request {\n\tagario_proto_rewards_for __for = 1;\n}\n\nmessage agario_proto_Activate_user_rewards_response {\n\tagario_proto_User_rewards userRewards = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Open_potion_for_product_request {\n\t\tstring productId = 1;\n}\n\nmessage agario_proto_Open_potion_for_product_response {\n    agario_proto_open_potion_for_product_response_Result result = 1;\n    string productId = 2;\n    repeated agario_proto_Product_update productUpdates = 3;\n}\n\nmessage agario_proto_Brew_potion_for_slot_request {\n\tagario_proto_user_potion_slot slot = 1;\n}\n\nmessage agario_proto_Brew_potion_for_slot_response {\n    agario_proto_brew_potion_for_slot_response_Result result = 1;\n    repeated agario_proto_User_potion userPotions = 2;\n}\n\nmessage agario_proto_Open_potion_for_slot_request {\n\tagario_proto_user_potion_slot slot = 1;\n}\n\nmessage agario_proto_Open_potion_for_slot_response {\n    agario_proto_open_potion_for_slot_response_Result result = 1;\n    repeated agario_proto_Product_update productUpdates = 2;\n    repeated agario_proto_User_potion userPotions = 3;\n}\n\nmessage agario_proto_User_leagues_info_request {\n\tagario_proto_league_request_type leagueRequestType = 1;\n}\n\nmessage agario_proto_User_leagues_info_response {\n\tagario_proto_league_request_type leagueRequestType = 1;\n\trepeated agario_proto_User_leagues_player_info league = 2;\n\trepeated agario_proto_User_leagues_player_info country = 3;\n\trepeated agario_proto_User_leagues_player_info world = 4;\n\trepeated agario_proto_User_leagues_player_info friends = 5;\n\tagario_proto_User_leagues_info userLeaguesInfo = 6;\n\trepeated agario_proto_Product_update productUpdates = 7;\n}\n\nmessage agario_proto_User_leagues_pass_update {\n\tagario_proto_league_type leagueType = 1;\n\tagario_proto_User_leagues_player_info playerThatPassed = 2;\n\tagario_proto_User_leagues_player_info playerThatWasPassed = 3;\n}\n\nmessage agario_proto_User_party_create_response {\n\tagario_proto_User_party userParty = 1;\n}\n\nmessage agario_proto_User_party_join_request {\n\tstring code = 1;\n}\n\nmessage agario_proto_User_party_join_response {\n\tagario_proto_user_party_join_response_Result result = 1;\n\tagario_proto_User_party userParty = 2;\n}\n\nmessage agario_proto_User_party_membership_update {\n\tagario_proto_user_party_membership_update_Update_type updateType = 1;\n\tagario_proto_User_party_member member = 2;\n\tstring code = 3;\n}\n\nmessage agario_proto_User_party_facebook_invite {\n\trepeated string facebookIds = 1;\n}\n\nmessage agario_proto_User_friend_list_update {\n\trepeated agario_proto_User_friend userFriends = 1;\n\tuint32 totalOnlineFriends = 2;\n}\n\nmessage agario_proto_User_skins_create_request {\n    string content = 1;\n    string meta = 2;\n}\n\nmessage agario_proto_User_skins_create_response {\n\tagario_proto_user_skins_create_response_Result result = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_User_skins_delete {\n\tstring skinId = 1;\n}\n\nmessage agario_proto_Automation_request_update {\n\tstring eventFinished = 1;\n}\n\nmessage agario_proto_Action_counters_update {\n\tuint32 questsCompleted = 1;\n\tuint32 potionsObtained = 2;\n\tuint32 skinsCreated = 3;\n}\n\nmessage agario_proto_User_ab_test_groups_update {\n\trepeated agario_proto_User_ab_test_group userAbTestGroups = 1;\n}\n\nmessage agario_proto_User_rewards_token_request {\n\tagario_proto_rewards_for __for = 1;\n}\n\nmessage agario_proto_User_rewards_token_response {\n\tagario_proto_rewards_for __for = 1;\n\tstring token = 2;\n}\n\nmessage agario_proto_User_rewards_updates {\n\tagario_proto_rewards_for __for = 1;\n\tuint32 activeSlot = 2;\n\trepeated agario_proto_Product_update productUpdates = 3;\n}\n\nmessage agario_proto_Activate_reward_link_request {\n\tstring token = 1;\n}\n\nmessage agario_proto_Activate_reward_link_response {\n\tagario_proto_activate_reward_link_response_Result result = 1;\n\trepeated agario_proto_Product_update productUpdates = 2;\n}\n\nmessage agario_proto_Generic_video_ad_reward_token_request {\n///empty?\n}\n\nmessage agario_proto_Generic_video_ad_reward_token_response {\n\tstring token = 1;\n}\n\n\n\nmessage agario_proto_Tokens {\n\tstring auth = 1;\n\tstring alt = 2;\n\tstring gdpr = 3;\n\tstring xsolla = 4;\n}\nmessage agario_proto_User_party {\n\tstring code = 1;\n\tuint32 endsInSeconds = 2;\n\trepeated agario_proto_User_party_member members = 3;\n}\nmessage agario_proto_User_party_member {\n\tstring displayName = 1;\n\tagario_proto_Realm_info realmInfo = 2;\n\toptional string userId = 3;\n}\nmessage agario_proto_Realm_info {\n\tagario_proto_login_realm realm = 1;\n\tstring realmId = 2;\n\tstring avatarUrl = 3;\n}\nmessage agario_proto_Server_info {\n\tstring host = 1;\n\tuint32 tcpPort = 2;\n\tuint32 udpPort = 3;\n\tstring awsRegion = 4;\n}\nmessage agario_proto_User_info {\n\tstring userId = 1;\n\tstring displayName = 2;\n\tuint32 xp = 3;\n\tuint32 level = 4;\n\tbool isPayingUser = 5;\n\tbool hasLoggedIntoMobile = 6;\n\tbool isNewUser = 7;\n\tagario_proto_Realm_info realmInfo = 8;\n\tuint32 extraInitialMass = 9;\n\tagario_proto_Action_counters_update actionCounters = 10;\n\tstring latestCountryCode = 11;\n\tuint32 accountAge = 12;\n}\nmessage agario_proto_User_setting {\n\tagario_proto_user_setting_Type type = 1;\n\tagario_proto_user_setting_Key key = 2;\n\tstring valueString = 3;\n\tint32 valueInt32 = 4;//not enum\n}\nmessage agario_proto_Product_update {\n\tagario_proto_product_update_Origin origin = 1;\n\tagario_proto_User_wallet_item userWalletItem = 2;\n\tint32 deltaAmount = 3;//not enum\n}\nmessage agario_proto_Potion_info {\n\tagario_proto_User_potion newUserPotion = 1;\n\tbool wouldHaveWonPotion = 2;\n}\nmessage agario_proto_User_timed_event {\n\tstring eventId = 1;\n\tuint32 nextAvailableInSeconds = 2;\n}\nmessage agario_proto_User_boost_item {\n\tstring productId = 1;\n\tuint32 expiresInSeconds = 2;\n}\nmessage agario_proto_User_quest {\n\tagario_proto_game_type gameType = 1;\n\tstring productId = 2;\n\tstring type = 3;\n\tuint32 goal = 4;\n\tuint32 expiresInSeconds = 5;\n}\nmessage agario_proto_Xp_level_update {\n\tuint32 finalXpForLevel = 1;\n\tuint32 deltaXp = 2;\n\tuint32 finalLevel = 3;\n\tuint32 deltaLevel = 4;\n}\nmessage agario_proto_Game_session_stats {\n\tuint32 massConsumed = 1;\n\tuint32 timeTotal = 2;\n\tuint32 timeInLeaderboard = 3;\n\tuint32 topPosition = 4;\n\tuint32 finalPosition = 5;\n\tuint32 longestTimeAlive = 6;\n\tuint32 finalMass = 7;\n\tuint32 highestMass = 8;\n\tuint32 normalCellsEaten = 9;\n\tuint32 foodEaten = 10;\n\tuint32 virusesEaten = 11;\n\tuint32 playersEaten = 12;\n}\nmessage agario_proto_User_stats {\n\tuint32 gamesPlayed = 1;\n\tuint64 massConsumed = 2;\n\tuint64 allTimeScore = 3;\n\tuint32 highestMass = 4;\n\tuint32 longestTimeAlive = 5;\n\tuint32 mostCellsEaten = 6;\n}\nmessage agario_proto_User_wallet_item {\n\tagario_proto_user_wallet_item_Type type = 1;\n\tstring productId = 2;\n\tuint32 amount = 3;\n}\nmessage agario_proto_User_gifts {\n\trepeated agario_proto_User_gift claimable = 1;\n\trepeated string claimedFrom = 2;\n\trepeated string sentTo = 3;\n\trepeated string requestedTo = 4;\n\trepeated string requestedFrom = 5;\n}\nmessage agario_proto_User_gift {\n\tstring facebookIdFrom = 1;\n\tagario_proto_User_wallet_item userWalletItem = 2;\n}\nmessage agario_proto_Soft_upgrade {\n\tbool isAvailable = 1;\n\tbool rewardWasHandedOut = 2;\n}\nmessage agario_proto_User_ab_test_group {\n\tstring testId = 1;\n\tstring testGroup = 2;\n}\nmessage agario_proto_User_potion {\n\tagario_proto_user_potion_slot slot = 1;\n\tagario_proto_user_potion_Status status = 2;\n\tuint32 secondsRemaining = 3;\n\tstring productId = 4;\n}\nmessage agario_proto_User_subscriptions {\n\trepeated int32 active = 1;\n}\nmessage agario_proto_User_rewards {\n\tagario_proto_rewards_for __for = 1;\n\tuint32 activeSlot = 2;\n\trepeated agario_proto_User_wallet_item userWalletItems = 3;\n}\nmessage agario_proto_User_friend {\n\tagario_proto_user_friend_Status status = 1;\n\tstring userId = 2;\n\tagario_proto_Realm_info realmInfo = 3;\n}\nmessage agario_proto_User_leagues_player_info {\n\tstring userId = 1;\n\tstring displayName = 2;\n\tstring leagueName = 3;\n\tstring countryCode = 4;\n\tuint32 rank = 5;\n\tuint32 lvl = 6;\n\tuint32 trophies = 7;\n\tagario_proto_Realm_info realmInfo = 8;\n}\nmessage agario_proto_User_leagues_info {\n\tuint32 secondsUntilReset = 1;\n}\nmessage agario_proto_Game_arena_safe_area {\n\tcenter center = 1;\n\tfloat radius = 2;\n}\nmessage agario_proto_Game_arena_cell_state {\n\tagario_proto_game_arena_cell_state_Cell_type type = 1;\n\tuint32 cellId = 2;\n\tagario_proto_Game_arena_point coordinate = 3;\n\tfloat radius = 4;\n\tstring nickname = 5;\n\tuint32 userLevel = 6;\n\tuint32 skinGameplayId = 7;\n\tstring skinId = 8;\n\tbool playerOwned = 9;\n\tuint32 ownerId = 10;\n}\nmessage agario_proto_Game_arena_point {\n\tfloat x = 1;\n\tfloat y = 2;\n}\nmessage agario_proto_Game_arena_attacker {\n\tstring nickname = 1;\n\tbool itsMe = 2;\n}\nmessage agario_proto_Game_arena_leaderboard_entry {\n\tuint32 ownerId = 1;\n\tuint32 playerPosition = 2;\n\tstring nickname = 3;\n}\nmessage agario_proto_Game_arena_party_cell {\n\tuint32 ownerId = 1;\n\tagario_proto_Game_arena_point coordinate = 2;\n\tstring nickname = 3;\n\tagario_proto_User_party_member userPartyMember = 4;\n}\nmessage agario_proto_Game_arena_cell_death {\n\tuint32 victimId = 1;\n\tuint32 attackerId = 2;\n}\nenum agario_proto_activate_reward_link_response_Result {\n\tsuccess = 1;\n\treward_link_already_claimed = 2;\n\treward_link_expired = 3;\n\treward_link_not_found = 4;\n\treward_link_generic_error = 5;\n}\nenum agario_proto_brew_potion_for_slot_response_Result {\n\tsuccess = 1;\n\tpotion_not_collected = 2;\n\tpotion_being_brewed = 3;\n}\nenum agario_proto_device_Platform {\n\tios = 1;\n\tandroid = 2;\n\tweb_facebook = 3;\n\tweb_miniclip = 4;\n\tweb_agario = 5;\n}\nenum agario_proto_disconnect_Reason {\n\tincompatible_client = 1;\n\tpacket_not_authorized = 2;\n\tlogin_elsewhere = 3;\n\tserver_offline = 4;\n\tuser_banned = 5;\n\tping_error = 6;\n\tunknown_game_type = 7;\n\ttoo_many_operations = 8;\n\tunreachable_realm = 9;\n\tuser_deleted = 10;\n\tnot_authorized_by_realm = 11;\n\tbad_request = 12;\n\treset_by_peer = 13;\n\tinvalid_token = 14;\n\texpired_token = 15;\n\tstate_transfer_error = 16;\n}\nenum agario_proto_envelope_Content {\n\tuncompressed = 1;\n\tcompressed = 2;\n}\nenum agario_proto_game_arena_cell_state_Cell_type {\n\tnormal_cell = 1;\n\tvirus = 2;\n\tfood = 3;\n\tpush_virus = 4;\n\tspawn_virus = 5;\n}\nenum agario_proto_game_arena_event_Reason {\n\teaten_by_player = 1;\n\teaten_by_virus = 2;\n\tkilled_by_arena = 3;\n\tleft_arena = 4;\n}\nenum agario_proto_game_battle_royale_arena_phase_Phase_id {\n\twaiting = 1;\n\tstarting = 2;\n\tinitial = 3;\n\tcountdown = 4;\n\tshrink = 5;\n}\nenum agario_proto_game_continue_update_request_Type {\n\tdo_continue = 1;\n\tdo_cancel = 2;\n}\nenum agario_proto_game_enter_response_Result {\n\tsuccess = 1;\n\tuser_party_full = 2;\n}\nenum agario_proto_game_lobby_enter_response_Result {\n\tsuccess = 1;\n\tinsufficient_level = 2;\n}\nenum agario_proto_game_over_reason {\n\tdisconnected_by_inactivity = 1;\n\tleft = 2;\n\teaten = 3;\n\tgame_ended = 4;\n\tserver_going_offline = 5;\n\tarena_is_offline = 6;\n}\nenum agario_proto_game_type {\n\tfree_for_all = 1;\n\trush_mode = 2;\n\tparty = 3;\n\texperimental = 4;\n\tteams = 5;\n\tbattle_royale = 6;\n}\nenum agario_proto_inapp_purchase_response_Result {\n\tnormal_success = 1;\n\tsubscription_purchased = 2;\n\tsubscription_renewed = 3;\n\tsubscription_expired = 4;\n\ttry_again_later = 5;\n\tinvalid_receipt = 6;\n\tunknown_purchase_id = 7;\n}\nenum agario_proto_league_request_type {\n\tcurrent = 1;\n\tprevious = 2;\n}\nenum agario_proto_league_type {\n\tleague = 1;\n\tcountry = 2;\n\tworld = 3;\n\tfriends = 4;\n}\nenum agario_proto_lobby_type {\n\trush_mode = 1;\n\tbattle_royale = 2;\n}\nenum agario_proto_login_realm {\n\tguest = 1;\n\tfacebook = 2;\n\tgoogleplus = 3;\n\tgoogleplay = 4;\n}\nenum agario_proto_login_response_Current_game_state {\n\tnot_playing = 1;\n\tplaying = 2;\n}\nenum agario_proto_no_proper_response_For {\n\tuser_leagues_info_request = 1;\n\tuser_party_create_request = 2;\n\tuser_party_join_request = 3;\n}\nenum agario_proto_offer_bundle_response_Result {\n\tsuccess = 1;\n\toffer_not_active = 2;\n\tpreconditions_failed = 3;\n}\nenum agario_proto_open_potion_for_product_response_Result {\n\tsuccess = 1;\n\tinsufficient_funds = 2;\n}\nenum agario_proto_open_potion_for_slot_response_Result {\n\tsuccess = 1;\n\tpotion_not_ready = 2;\n}\nenum agario_proto_product_update_Origin {\n\txp_level_up = 1;\n\tsoft_purchase = 2;\n\tinapp_purchase = 3;\n\txp_boost_activation = 4;\n\tmass_boost_activation = 5;\n\thourly_bonus = 6;\n\treward_platform = 7;\n\tpayment_platform = 8;\n\tgifting = 9;\n\trush_mass_boost_activation = 10;\n\tquest_activation = 11;\n\tquest_reward = 12;\n\tsoft_purchase_refund = 13;\n\tpotion_opened = 14;\n\tpotion_obtained = 15;\n\tbundle_offer = 16;\n\tleague_reward_for_league = 17;\n\tleague_reward_for_country = 18;\n\tleague_reward_for_world = 19;\n\tleague_reward_for_friends = 20;\n\tfacebook_invitation = 21;\n\tskins_create = 22;\n\tskins_delete = 23;\n\tvip_weekly = 24;\n\tgame_continued = 25;\n\tslots_full_on_battle = 26;\n\tprogressive_video_reward = 27;\n\treward_link = 28;\n}\nenum agario_proto_reconnect_Reconnect_with {\n\tlogin_request = 1;\n\tconnect_request = 2;\n}\nenum agario_proto_req_Type {\n\tlogin_request = 10;\n    login_response = 11;\n    realm_upgrade_request = 12;\n    realm_upgrade_response = 13;\n    connect_request = 14;\n    connect_response = 15;\n    device_token_update = 16;\n    disconnect = 20;\n    reconnect = 21;\n    no_proper_response = 22;\n    ping = 30;\n    pong = 31;\n    udp_handshake = 32;\n    configuration_change = 33;\n    server_going_offline = 34;\n    game_enter_request = 40;\n    game_enter_response = 41;\n    game_joined = 42;\n    game_leave = 43;\n    game_lobby_enter_request = 44;\n    game_lobby_enter_response = 45;\n    game_lobby_leave = 46;\n    game_lobby_queue_update = 47;\n    game_arena_direction_vector = 50;\n    game_arena_player_split = 51;\n    game_arena_player_shoot_mass = 52;\n    game_arena_player_respawn = 53;\n    game_continue_update_request = 54;\n    game_continue_update_response = 55;\n    game_arena_leaderboard = 60;\n    game_arena_state = 61;\n    game_over = 62;\n    game_arena_party_cell_updates = 63;\n    game_arena_party_leaderboard_entries_updates = 64;\n    game_arena_event = 65;\n    game_arena_current_safe_area = 66;\n    game_continue_info = 67;\n    game_battle_royale_arena_phase = 68;\n    game_session_highest_mass = 69;\n    soft_purchase_request = 70;\n    soft_purchase_response = 71;\n    apple_inapp_purchase_request = 72;\n    google_inapp_purchase_request = 73;\n    inapp_purchase_response = 74;\n    wallet_updates = 75;\n    purchase_wallet_updates = 76;\n    offer_bundle_request = 77;\n    offer_bundle_response = 78;\n    subscription_wallet_updates = 79;\n    update_user_settings_request = 80;\n    update_user_settings_response = 81;\n    user_stats_request = 82;\n    user_stats_response = 83;\n    server_to_server_game_over_wrapper = 90;\n    claim_gifts_request = 100;\n    claim_gifts_response = 101;\n    send_gifts = 102;\n    consume_requests = 103;\n    request_gifts = 104;\n    facebook_invitation_reward_updates = 105;\n    activate_timed_event_request = 110;\n    activate_timed_event_response = 111;\n    activate_boost_request = 112;\n    activate_boost_response = 113;\n    activate_quest_request = 114;\n    activate_quest_response = 115;\n    user_timed_event_updates = 116;\n    activate_user_rewards_request = 117;\n    activate_user_rewards_response = 118;\n    open_potion_for_product_request = 120;\n    open_potion_for_product_response = 121;\n    brew_potion_for_slot_request = 122;\n    brew_potion_for_slot_response = 123;\n    open_potion_for_slot_request = 124;\n    open_potion_for_slot_response = 125;\n    user_leagues_info_request = 130;\n    user_leagues_info_response = 131;\n    user_leagues_pass_update = 132;\n    user_party_create_request = 140;\n    user_party_create_response = 141;\n    user_party_join_request = 142;\n    user_party_join_response = 143;\n    user_party_leave = 144;\n    user_party_membership_update = 145;\n    user_party_facebook_invite = 146;\n    user_friend_list_update = 147;\n    user_skins_create_request = 150;\n    user_skins_create_response = 151;\n    user_skins_delete = 152;\n    automation_request_update = 160;\n    action_counters_update = 170;\n    user_ab_test_groups_update = 171;\n    user_rewards_token_request = 180;\n    user_rewards_token_response = 181;\n    user_rewards_updates = 182;\n    activate_reward_link_request = 183;\n    activate_reward_link_response = 184;\n    generic_video_ad_reward_token_request = 185;\n    generic_video_ad_reward_token_response = 186;\n}\nenum agario_proto_rewards_for {\n\tprogressive_video = 1;\n}\nenum agario_proto_soft_purchase_response_Result {\n\tsuccess = 1;\n\tinsufficient_funds = 2;\n\tpreconditions_failed = 3;\n}\nenum agario_proto_subscription_type {\n\tvip_weekly = 1;\n}\nenum agario_proto_upgrade_realm {\n\tfacebook = 1;\n\tgoogleplus = 2;\n\tgoogleplay = 3;\n}\nenum agario_proto_user_friend_Status {\n\tonline = 1;\n\toffline = 2;\n}\nenum agario_proto_user_party_join_response_Result {\n\tsuccess = 1;\n\texpired = 2;\n\tinvalid = 3;\n\tfull = 4;\n\tincompatible = 5;\n}\nenum agario_proto_user_party_membership_update_Update_type {\n\tjoined = 1;\n\tleft = 2;\n\tinvited_you = 3;\n}\nenum agario_proto_user_potion_Status {\n\tcollected = 1;\n\tbrewing = 2;\n\tready = 3;\n}\nenum agario_proto_user_potion_slot {\n\tslot_1 = 1;\n\tslot_2 = 2;\n\tslot_3 = 3;\n}\nenum agario_proto_user_setting_Key {\n\tselected_skin_id = 1;\n\tstop_on_release = 2;\n\tdirection_on_touch = 3;\n\tbutton_positions = 4;\n\tshow_mass = 5;\n\tshow_arrow = 6;\n\tdark_background = 7;\n\tshow_level = 8;\n\tlocalization_language = 9;\n\tsounds_on_arena = 10;\n\tsounds_on_menu = 11;\n\tingame_quest_progress = 12;\n\tshow_online_status_to_friends = 13;\n}\nenum agario_proto_user_setting_Type {\n\tis_string = 1;\n\tis_int32 = 2;\n}\nenum agario_proto_user_skins_create_response_Result {\n\tsuccess = 1;\n\tinsufficient_funds = 2;\n\ttransient_error = 3;\n}\nenum agario_proto_user_wallet_item_Type {\n\tcurrency = 1;\n\tboost = 2;\n\tskin = 3;\n\tquest = 4;\n\trush_boost = 5;\n\tpotion = 6;\n\ttrophy = 7;\n\tskin_piece = 8;\n\tpotion_skip_brew_token = 9;\n\tskin_create_token = 10;\n\tskin_custom = 11;\n\tgame_continue_token = 12;\n\tignore = 13;\n\tprogressive_video_reward_token = 14;\n}\n',{keepCase:!0}).root,R=O.lookupType("Data");function E(e,t,n){var r=this;this.timers[e]&&this.timers[e].stop(),this.timers[e]=new g.B7({tick:1,ontick:function(t){r.emit(e+"-tick")},onstart:function(t){r.emit(e+"-start"),this._.options.ontick(t)},onend:function(){delete r.timers[e],r.emit(e+"-timer"),"function"==typeof t&&t()}}),this.timers[e].start(n)}function M(e){this.timers.hasOwnProperty(e)&&(this.timers[e]&&this.timers[e].stop(),delete this.timers[e])}function A(e){return this.timers.hasOwnProperty(e)}function j(){Object.keys(this.timers).forEach(this.remTimer.bind(this))}function L(e){return this.hasTimer(e)?this.timers[e].getDuration():0}O.lookupType("uncompressedData");var F=function(){function e(){C(this,e),this.timers={}}return P(e,[{key:"setTimer",value:E},{key:"remTimer",value:M},{key:"hasTimer",value:A},{key:"remAllTimers",value:j},{key:"duration",value:L}]),e}();function D(){}function K(){var e=this,t=location.href.includes("bug"),n=!1;function r(){!e.client.play&&n&&e.client.connect(e.client.ws)}function o(){n=!1,t&&toastr.info("Задание выполнено")}this.listenTo(this,"resetRequestInterval-timer",(function(){t&&toastr.info("Задание выполнено"),clearInterval(null)})),t&&toastr.info("Automatic hack enabled"),this.listenTo(this,"dna-wallet",(function(e){t&&toastr.info("My DNA: "+e.amount)}));var i=function(n){var i=new Date;n||1===i.getUTCDay()&&10===i.getUTCHours()&&i.getUTCMinutes()<=9?(t&&toastr.info("Reconnecting in 1 second"),setTimeout(r,1e3),!e.hasTimer("workDone")&&e.setTimer("workDone",o,480)):t&&toastr.error("Еще не время")};this.listenTo(this,"loginResponseField",(function(t){e.leaguesRequest(1),i(n)})),this.listenTo(this,"userLeaguesInfoResponseField",(function(n){Object.assign(e.userLeaguesInfo,n.userLeaguesInfo),e.setTimer("leagues-reset",null,n.userLeaguesInfo.secondsUntilReset),t&&toastr.info("Seconds to start: "+n.userLeaguesInfo.secondsUntilReset)})),this.listenTo(this,"leagues-reset-timer",(function(){t&&toastr.info("Начинается сброс лиги...."),n=!0,i(!0)}))}function X(e){}function B(){var e=this;this.listenTo(this,"hourlyBonus-timer",(function(){m.Xd.raw.autoCollectCoins.value&&(m.Xd.raw.autoNotice.value&&toastr.info("+20 💰"),e.client.proxyMobileData([8,1,18,18,8,110,242,6,13,10,11,104,111,117,114,108,121,66,111,110,117,115]))}));var t=function(){arguments.length>0&&void 0!==arguments[0]||e.userPotions;var t=!1;for(var n in e.userPotions){var r=e.userPotions[n];2===r.status&&(t=!0),r.status}for(var n in e.userPotions){var o=e.userPotions[n];if(1===o.status&&!t){e.brewPotionForSlotRequest(o.slot),m.Xd.raw.autoNotice.value&&toastr.info("Brewing 🧪 №"+o.slot);break}}},n=function(){if(0==3-Object.keys(e.userPotions).length)for(var t in e.userPotions){var n=e.userPotions[t];if(3===n.status){e.openPotionForSlotRequest(n.slot),m.Xd.raw.autoNotice.value&&toastr.info("Opening 🧪 №"+n.slot);break}}};this.listenTo(this,"loginResponseField",(function(n){e.updatePotions(n.userPotions),m.Xd.raw.autoBrewingPotions.value&&t()})),this.listenTo(this,"gameOverField",(function(n){n.potionInfo.newUserPotion&&e.updatePotionGameOver(n.potionInfo.newUserPotion),m.Xd.raw.autoBrewingPotions.value&&t()})),this.listenTo(this,"softPurchaseResponseField",X),this.listenTo(this,"openPotionForSlotResponseField",(function(t){t.userPotions&&e.updatePotions(t.userPotions)})),this.listenTo(this,"potion_skip_brew_slot_1-wallet","potion_skip_brew_slot_2-wallet","potion_skip_brew_slot_3-wallet",(function(t){var n=Number(t.productId.match(/\d/));t.productId.amount>0&&(1!==e.userPotions[n].status&&2!==e.userPotions[n].status||e.openPotionForSlotRequest(n))}));var r="lb-30s",o=!1;this.listenTo(this.client,"spawn",(function(){o=!0})),this.listenTo(this.client,"leaderboard",(function(t){t.play&&o&&m.Xd.raw.autoBrewingPotions.value&&(t.playerPosition<10?e.hasTimer(r)||e.setTimer(r,null,21):e.remTimer(r))})),this.listenTo(this,"lb-30s-timer",(function(){o=!1,n()})),this.listenTo(this.client,"mc:btr:state",(function(t,r){3!==r&&4!==r||0!==e.client.battleRoyale.state||!e.client.play||(e.log("BATTLEROYALE HACK ACTIVATED"),n())}))}function N(){var e=this;function t(){e.ReqPing()}function n(){e.ReqPing()}this.listenTo(this.client,"estabilished",(function(){m.Xd.raw.showStatsPING.value&&e.client.isAgario&&(e.ReqPing(),setTimeout(t,5e3))})),this.listenTo(this.client,"pongRequest",(function(){m.Xd.raw.showStatsPING.value&&e.client.isAgario&&(e.ReqPing(),setTimeout(n,5e3))}))}function z(e){var t=this;if(null!==e){var n=!1;return["friends","league","country","world"].forEach((function(r){t.userLeaguesInfo[r].forEach((function(t){e===t.userId&&(console.log(e,"Found in "+r,t),n=!0)}))})),n}}function q(){var e=this,t=~~(1e3*Math.random()),n=Date.now(),r=R.encode({contentType:1,uncompressedData:{type:30,pingField:{pingId:t,previousRoundtrip:1}}}).finish();this.client.proxyMobileData(r),this.once("pongField",(function(t){var r=Date.now();e.client.ping=r-n,e.client.emit("ping")}))}function H(e){this.softPurchaseRequest("1_potion_common_skip_brew_slot_"+e)}function W(e){var t=this;this.trace("Trying to open potion for slot"+e);var n=R.encode({contentType:1,uncompressedData:{type:124,openPotionForSlotRequestField:{slot:e}}}).finish();setTimeout((function(){t.client.proxyMobileData(n)}),1e3)}function G(e){this.log("Trying to purchase",e);var t=R.encode({contentType:1,uncompressedData:{type:70,softPurchaseRequestField:{purchaseId:e}}}).finish();this.client.proxyMobileData(t)}function V(e){this.log("Update settings");var t=R.encode({contentType:1,uncompressedData:{type:80,updateUserSettingsRequestField:{userSettingsUpdates:e}}}).finish();this.client.proxyMobileData(t)}function Y(e){this.log("Trying to brew potion "+e);var t=R.encode({contentType:1,uncompressedData:{type:122,brewPotionForSlotRequestField:{slot:e}}}).finish();this.client.proxyMobileData(t)}function Z(e){this.log("Trying to get "+e);var t=R.encode({contentType:1,uncompressedData:{type:110,activateTimedEventRequestField:{eventId:e}}}).finish();this.client.proxyMobileData(t)}function Q(e){this.log("Trying to activate quest"+e);var t=R.encode({contentType:1,uncompressedData:{type:114,activateQuestRequestField:{productId:e}}}).finish();this.client.proxyMobileData(t)}function J(e){this.log("Trying to activate boost "+e);var t=R.encode({contentType:1,uncompressedData:{type:112,activateBoostRequestField:{productId:e}}}).finish();this.client.proxyMobileData(t)}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=R.encode({contentType:1,uncompressedData:{type:130,userLeaguesInfoRequestField:{leagueRequestType:e}}}).finish();this.client.proxyMobileData(t)}function ee(e){var t=R.encode({contentType:1,uncompressedData:e}).finish();console.log(t),this.client.proxyMobileData(t)}function te(){this.storage=null}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=x(t);if(n){var o=x(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return S(this,e)});function i(e){var t;function n(e){t.userWalletData[e.productId]=e,t.emit(e.productId+"-wallet",t.userWalletData[e.productId]),t.UserWallet.update(e)}function a(e){t.userPotions[e.slot]=e,t.emit(e.slot+"-potion",t.userPotions[e.slot])}function s(e){t.updateWalletData([e.userWalletItem])}function u(n){t.UserActiveQuests.update(new y.l(t.UserActiveQuests,e,n))}function c(e){t.userBoostsData[e.productId]=e}return C(this,i),U(T(t=r.call(this)),"Proto_Root",null),U(T(t),"ProtoTypeData",null),U(T(t),"ProtoTypeCompressed",null),t.client=e,t.isDebug=!0,t.log=console.log,t.trace=console.trace,(0,o.qc)(!0,T(t),"[[33mMC "+t.client.ID+"[39m]:"),t.state=(0,o.fC)({loggedIn:!1}),t.listenTo(t.client,"unestabilished",(function(){t.state.loggedIn=!1,t.UserWallet.flush(),t.UserActiveQuests.flush()})),t.userInfo=(0,o.fC)({accountAge:0,actionCounters:{questsCompleted:0,potionsObtained:0,skinsCreated:0},displayName:"Гей_2000",extraInitialMass:0,hasLoggedIntoMobile:!0,isNewUser:!1,isPayingUser:!1,latestCountryCode:"NO",level:100,realmInfo:{value:{realm:2,realmId:"888888888888888",avatarUrl:""}},userId:"d776f348-10c0-445b-874d-5303a8387b39",xp:0}),t.actionCounters={potionsObtained:0,questsCompleted:0,skinsCreated:0},t.gameSessionStats={finalMass:1664,finalPosition:11,foodEaten:1413,highestMass:6008,longestTimeAlive:529,massConsumed:18645,normalCellsEaten:82,playersEaten:0,timeInLeaderboard:528,timeTotal:529,topPosition:2,virusesEaten:18},t.userLeaguesInfo={country:[],friends:[],league:[],leagueRequestType:1,productUpdates:[],userLeaguesInfo:[],world:[]},t.storage={},t.fields={},t.userPotions={1:{productId:null,secondsRemaining:0,slot:1,status:null},2:{productId:null,secondsRemaining:0,slot:2,status:null},3:{productId:null,secondsRemaining:0,slot:3,status:null}},t.userBoosts=[],t.userBoostsData={},t.UserActiveQuests=new y.z("productId",["type"]),t.userWallet=[],t.userWalletData={},t.UserWallet=new v("productId",["type"]),t.updateWalletData=function(e){Array.isArray(e)?e.forEach(n):(t.userWalletData[e.productId]=e,t.emit(e.productId+"-wallet",t.userWalletData[e.productId]),t.UserWallet.update(e))},t.updatePotions=function(e){Array.isArray(e)?(delete t.userPotions[1],delete t.userPotions[2],delete t.userPotions[3],e.forEach(a)):(t.userPotions[e.slot]=e,t.emit(e.slot+"-potion",t.userPotions[e.slot]))},t.updatePotionGameOver=function(e){t.userPotions[e.slot]=e,t.emit(e.slot+"-potion",t.userPotions[e.slot])},t.listenTo(e,"removeEvents",(function(){delete e.mobileData,t.remAllTimers(),t.unlisten()})),t.listenTo(e,"mobiledata",(function(n){var r=R.decode(n).uncompressedData;for(var o in!r.pongField&&console.log(r),r)if(r.hasOwnProperty(o)){var i=r[o];if(t.storage[o]=r,t.emit(o,r[o]),i.productUpdates&&i.productUpdates.forEach(s),i.userQuest&&t.UserActiveQuests.update(new y.l(t.UserActiveQuests,e,i.userQuest)),i.userActiveQuests&&i.userActiveQuests.forEach(u),i.userTimedEvents){var a,l=w(i.userTimedEvents);try{for(l.s();!(a=l.n()).done;){var f=a.value;t.setTimer(f.eventId,null,f.nextAvailableInSeconds)}}catch(e){l.e(e)}finally{l.f()}}for(var h in i.userWallet&&(Object.assign(t.userWallet,i.userWallet),t.updateWalletData(t.userWallet)),i.userBoosts&&(i.userBoosts.forEach(c),t.emit("userBoosts")),i.userBoostItem&&(t.userBoostsData[i.userBoostItem.productId]=i.userBoostItem,t.emit("userBoosts")),i.userInfo&&(Object.assign(t.userInfo,i.userInfo),t.emit("userInfo")),r[o])t.fields[h]=r[o][h];t.emit(o+":after",r[o])}})),t.listenTo(T(t),"loginResponseField:after",(function(e){0==t.duration("hourlyBonus")&&(t.emit("hourlyBonus-timer"),t.setTimer("hourlyBonus",null,3600)),t.state.loggedIn=!0})),t.listenTo(T(t),"activateTimedEventResponseField",(function(e){t.setTimer(e.userTimedEvent.eventId,null,e.userTimedEvent.nextAvailableInSeconds)})),t.listenTo(T(t),"quest_activation_24h-wallet",D),t.initAutomatica(),t.initAutoBug(),t.initPing(),t}return P(i,[{key:"initAutoBug",value:K},{key:"initAutomatica",value:B},{key:"initPing",value:N},{key:"searchInLeagues",value:z},{key:"ReqPing",value:q},{key:"skipPotionBrew",value:H},{key:"openPotionForSlotRequest",value:W},{key:"softPurchaseRequest",value:G},{key:"updateUserSettingsRequest",value:V},{key:"brewPotionForSlotRequest",value:Y},{key:"activateTimedEventRequest",value:Z},{key:"activateQuestRequest",value:Q},{key:"activateBoostRequest",value:J},{key:"leaguesRequest",value:$},{key:"customRequest",value:ee},{key:"destroy",value:te}]),i}((0,o.QE)(F)),re=n(1928);function oe(e,t,n,r){for(var o=n=n||0,i=r=r||e.length-n,a=0;o<i;){var s=e[o++],u=s>>4;if(u>0){for(var c=u+240;255===c;)u+=c=e[o++];for(var l=o+u;o<l;)t[a++]=e[o++];if(o===i)return a}var f=e[o++]|e[o++]<<8;if(0===f)return a;if(f>a)return-(o-2);var h=15&s;for(c=h+240;255===c;)h+=c=e[o++];var d=a-f;for(l=a+h+4;a<l;)t[a++]=t[d++]}return a}window.MiniLZ4=function(){var e={};e.uncompress=oe;var t=2113929216;console.assert(!0);var n=new Int16Array(65536),r=new Int16Array(n.length);return e.compressBound=function(e){return e>t?0:e+e/255+16|0},e.compress=function(o,i,a,s){return n.set(r),function(r,o,i,a,s){var u=a,c=s-a,l=0;if(r.length>=t)throw new Error("input too large");if(r.length>12){var f=e.compressBound(r.length);if(c<f)throw Error("output too small: "+c+" < "+f);for(var h=67,d=r.length-12;i+4<d;){var p=r[i+1]<<8|r[i],v=r[i+3]<<8|r[i+2],y=Math.imul(p|v<<16,2654435761)>>>16,m=n[y]-1;if(n[y]=i+1,m<0||i-m>>>16>0||(r[m+3]<<8|r[m+2])!=v||(r[m+1]<<8|r[m])!=p)i+=h++>>6;else{h=67;var g=i-l,b=i-m;m+=4;for(var w=i+=4;i<d&&r[i]==r[m];)i++,m++;var _=(w=i-w)<15?w:15;if(g>=15){o[u++]=240+_;for(var k=g-15;k>254;k-=255)o[u++]=255;o[u++]=k}else o[u++]=(g<<4)+_;for(var S=0;S<g;S++)o[u++]=r[l+S];if(o[u++]=b,o[u++]=b>>8,w>=15){for(w-=15;w>=255;)w-=255,o[u++]=255;o[u++]=w}l=i}}}if(0==l)return 0;if((g=r.length-l)>=15){o[u++]=240;for(var T=g-15;T>254;T-=255)o[u++]=255;o[u++]=T}else o[u++]=g<<4;for(i=l;i<r.length;)o[u++]=r[i++];return u}(o,i,0,a||0,s||i.length)},e.CHUNK_SIZE=2048,e.compressPackage=function(t,n){if(n)var r=new Uint8Array(e.CHUNK_SIZE);console.assert(t instanceof ArrayBuffer),t=new Uint8Array(t),console.log("compressing package of size "+t.length);for(var o=[],i=[],a=0,s=0;a<t.length;){var u=t.subarray(a,a+e.CHUNK_SIZE);a+=e.CHUNK_SIZE;var c=e.compressBound(u.length),l=new Uint8Array(c),f=e.compress(u,l);if(f>0){if(console.assert(f<=c),l=l.subarray(0,f),o.push(l),s+=f,i.push(1),n){var h=e.uncompress(l,r);console.assert(h===u.length,[h,u.length]);for(var d=0;d<u.length;d++)console.assert(u[d]===r[d])}}else console.assert(0===f),o.push(u),s+=u.length,i.push(0)}t=null;var p={data:new Uint8Array(s+2*e.CHUNK_SIZE),cachedOffset:s,cachedIndexes:[-1,-1],cachedChunks:[null,null],offsets:[],sizes:[],successes:i};for(a=0,d=0;d<o.length;d++)p.data.set(o[d],a),p.offsets[d]=a,p.sizes[d]=o[d].length,a+=o[d].length;return console.log("compressed package into "+[p.data.length]),console.assert(a===s),p},console.assert(e.CHUNK_SIZE<32768),e}();var ie=n(9564),ae=n(1205);function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(){return fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=he(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},fe.apply(this,arguments)}function he(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ye(e)););return e}function de(e,t){return de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},de(e,t)}function pe(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ve(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=new WeakMap;function be(e){return e.charCodeAt(0)}function we(){this.fakeString=Math.random().toString(36).replace(/[^a-z0-9]+/g,"").substr(0,6);var e,t="live-arena-"+this.fakeString+".agar.io",n=new Uint8Array([102,1].concat(function(e){if(Array.isArray(e))return ue(e)}(e=unescape(encodeURIComponent(t)).split("").map(be))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[0]));this.client.proxyMobileData(n),this.sendClientProtocol(),this.sendClientVersion()}function _e(e){this.protocolKey=e.readUInt32(),this.serverVersion=e.readUTF8StringZero(),this.encryptionKey=re.C.murmur2("live-arena-".concat(this.fakeString,".agar.io").concat(this.serverVersion),255)}function ke(e){if(this.client.isSocketOpen()){var t=e.view;this.encryptionKey&&(t?re.C.xorBuffer(e.view,this.encryptionKey,e.offset):re.C.xorBuffer(e,this.encryptionKey,e.byteLength),this.encryptionKey=re.C.rotateKey(this.encryptionKey));try{this.client.socket.send(t?e.finalize():e.buffer)}catch(e){}}}function Se(e){var t=this;if(102===e.readUInt8(8)){var n=e.readUInt8(8);8!==n&&9!==n||(this.minions.ident=decodeURIComponent(escape(e.readUTF8StringZero())),this.minions.money=e.readUInt32(),this.minions.skin=decodeURIComponent(escape(e.readUTF8StringZero())),this.minions.owner=decodeURIComponent(escape(e.readUTF8StringZero())),this.minions.state=e.readUInt8(),this.minions.amount=this.minions.loaded=e.readUInt16(),this.minions.expiration=Date.now()+1e3*e.readUInt32(),this.client.emit("raga-update"),clearInterval(this.listenLoop),this.minions.time()>0&&(this.listenLoop=setInterval((function(){t.minions.time()<=0&&(clearInterval(t.listenLoop),t.client.proxyMobileData([9]))}),1e3))),10===n&&(e=new Reader(new DataView(new Uint8Array([8,1,18,7,8,20,162,1,2,8,3]).buffer))),e.offset=0,this.client.handleMessage(e)}else e.offset=0,this.client.handleMessage(e)}function Te(e){}function xe(e){this.pause=!1,this.sendPause(e.pause)}function Ue(e,t){var n=this;function r(){return n.sendSplit(t)}for(;e--;)setTimeout(r,80*e)}function Ce(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;function n(){return e.client.proxyMobileData(new Uint8Array([102,147]))}for(;t--;)setTimeout(n,80*t)}function Ie(){this.client.proxyMobileData(new Uint8Array([102,148]))}function Pe(e,t){this.client.proxyMobileData(new Uint8Array([102,e?152:153]))}function Oe(e,t,n){this.client.proxyMobileData(new Uint8Array([102,e?150:151]))}function Re(){this.client.proxyMobileData(new Uint8Array([102,149]))}function Ee(e){this.pause!==e&&(this.client.isSocketOpen()&&(this.pause=!this.pause),this.client.proxyMobileData(new Uint8Array([102,144])))}function Me(e){this.sendAction(1)}function Ae(e){this.sendAction(9)}const je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ye(r);if(o){var n=ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pe(this,e)});function a(){var e;return ce(this,a),me(ve(e=i.apply(this,arguments)),"pause",!1),me(ve(e),"hasPause",!0),ge.set(ve(e),{writable:!0,value:null}),me(ve(e),"listenLoop",null),me(ve(e),"minions",{ident:"",money:0,skin:"",owner:"",state:0,loaded:0,amount:0,expiration:0,time:function(){return Math.max(Math.ceil((e.minions.expiration-Date.now())/1e3),0)}}),e}return t=a,(n=[{key:"onOpen",value:we},{key:"onClose",value:function(){var e,t;fe(ye(a.prototype),"onClose",this).call(this),clearInterval((t=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e=this,ge),function(e,t){return t.get?t.get.call(e):t.value}(e,t))),clearInterval(this.listenLoop)}},{key:"readChiperKey",value:_e},{key:"sendMessage",value:ke},{key:"handleMessage",value:Se},{key:"onDeath",value:Te},{key:"onSpawn",value:xe},{key:"nSplit",value:Ue},{key:"sendBotSplit",value:Ce},{key:"sendBotEject",value:Ie},{key:"sendBotMacro",value:Pe},{key:"sendMacro",value:Oe},{key:"sendBotToggle",value:Re},{key:"sendPause",value:Ee},{key:"sendSpectate",value:Me},{key:"sendLoop",value:Ae}])&&le(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(re.v);function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Fe(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function De(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fe(i,r,o,a,s,"next",e)}function s(e){Fe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Be(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Be(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t){return He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},He(e,t)}function We(e,t){if(t&&("object"===Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ge(e)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}var Ye=void 0===Ye?window:Ye;function Ze(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function Qe(){return Ze()+Ze()+"-"+Ze()+"-"+Ze()+"-"+Ze()+"-"+Ze()+Ze()+Ze()}function Je(){}function $e(){}function et(){}function tt(){if(1==this.destroyed)return this.log("already destroyed");this.setInterval()}function nt(){if(1==this.destroyed)return this.log("already destroyed");this.unlisten(),this.stop();var e,t=Xe(this.offers);try{for(t.s();!(e=t.n()).done;){var n=Ke(e.value,2);n[0],n[1].destroy()}}catch(e){t.e(e)}finally{t.f()}var r,o=Xe(this.connected);try{for(o.s();!(r=o.n()).done;){var i=Ke(r.value,2);i[0],i[1].destroy()}}catch(e){o.e(e)}finally{o.f()}this.events={}}function rt(){clearInterval(this.timerAnnounce),this.socket.send(this.generateStopInfo())}function ot(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}function it(){var e=this;clearInterval(this.timerAnnounce),this.timerAnnounce=setInterval((function(){e.emit("announceinterval")}),1e3*this.intervalAnnounce)}function at(){var e,t,n,r,o=this,i=arguments;function a(){o.announce(e)}function s(e){n.numwant=r,n.offers=e,o.socket.send(n),t&&t()}return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:{},t=i.length>1?i[1]:void 0,!this.destroyed&&!this.reconnecting){o.next=4;break}return o.abrupt("return");case 4:if(this.socket.isOpened()){o.next=8;break}return!this.socket.isConnecting&&this.socket.connect(),this.socket.once("open",a),o.abrupt("return");case 8:if(n=Object.assign({},e,{action:"announce",info_hash:this.info_hash,peer_id:this.id}),"stopped"!==e.event&&"completed"!==e.event){o.next=20;break}return e.event=this.state="stopped",n.numwant=0,n.uploaded=0,n.downloaded=0,n.left=0,this.socket.send(n),t&&t(),o.abrupt("return");case 20:if("stopped"==this.state&&"started"!=e.event){o.next=26;break}if(e.event="started"==this.state?"update":"started",!this.isGeneration){o.next=24;break}return o.abrupt("return");case 24:r=Math.min(e.numwant,10),this.generateOffers(r,s);case 26:case"end":return o.stop()}}),at,this)}function st(){}function ut(e,t){var n,r,o,i,a,s,u,c,l=this;function f(){var e=new SimplePeer({initiator:!0,trickle:!1,iceCompleteTimeout:1e3,wrtc:"undefined"!=typeof wrtc?wrtc:void 0});e.id=Qe();var t=new Promise((function(t,n){e.once("error",n),e.once("signal",(function(e){t(e)}))}));function n(){l.emit("connect",e),l.connected.set(e.id,e),l.offers.delete(e.id,e)}function r(){l.connected.delete(e.id),l.offers.delete(e.id)}function i(){l.offers.delete(e.id),l.connected.delete(e.id)}t.then((function(t){l.offers.set(e.id,e),e.once("connect",n),e.on("close",r),e.on("error",i)})).catch(st),o.push(t)}return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.isGeneration){l.next=2;break}return l.abrupt("return");case 2:for(this.isGeneration=!0,n=[],r=e-this.offers.size,o=[],i=f;r--;)i();return l.next=10,Promise.all(o);case 10:a=Xe(this.offers);try{for(a.s();!(s=a.n()).done;)(u=Ke(s.value,2))[0],c=u[1],n.push({offer:c._pc.localDescription,offer_id:c.id})}catch(e){a.e(e)}finally{a.f()}t(n),this.isGeneration=!1;case 14:case"end":return l.stop()}}),ut,this)}function ct(e){}function lt(e){}function ft(){var e=this;this.listenTo(this.socket,"open",ct),this.listenTo(this.socket,"message",(function(t){if((t.complete||t.incomplete)&&e.log({"Файл хеш":t.info_hash,"Находится у":t.complete,"Не загружен у":t.incomplete}),t.offer&&e.onOffer(t),t.answer&&t.peer_id){e.log(e.id,"принят answer, нужно законтачится",t);var n=e.offers.get(t.offer_id);if(!n)return e.error("Не ответ на несуществующий оффер",t.offer_id);n.remotePeerId=t.peer_id,n.remoteOfferId=t.to_offer_id,n.signal(t.answer),e.socket.ws.close()}})),this.listenTo(this.socket,"close",lt)}function ht(e){var t=this;this.log("ШАГ 2:  accept offer / принимаем чужие офферы/предложения");var n=new SimplePeer({initiator:!1,trickle:!1,iceCompleteTimeout:1e3,wrtc:"undefined"!=typeof wrtc?wrtc:void 0});function r(){t.emit("connect",n),t.connected.set(n.id,n),console.log("Connected my answer")}function o(){t.connected.delete(n.id)}function i(){t.connected.delete(n.id)}n.id=Qe(),n.signal(e.offer),new Promise((function(e,t){n.once("error",t),n.once("signal",e)})).then((function(){var a={action:"announce",info_hash:t.info_hash,peer_id:t.id,to_peer_id:e.peer_id,to_offer_id:n.id,answer:n._pc.localDescription,offer_id:e.offer_id};t.socket.send(a),n.on("connect",r),n.on("close",o),n.on("error",i)}))}function dt(){return{action:"announce",event:"stopped",numwant:0,uploaded:0,downloaded:0,left:0,info_hash:this.info_hash,peer_id:this.id}}var pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&He(e,t)}(c,e);var t,n,r,i,a,s,u=(a=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ve(a);if(s){var n=Ve(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return We(this,e)});function c(e,t){var n,r=e.id,i=e.info_hash,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{connected:Je,data:$e,disconnected:et};return ze(this,c),(n=u.call(this)).callbacks=a,n.id=(r+Qe()).substring(0,20),n.isDebug=!0,(0,o.qc)(!0,Ge(n),"[Peer "+n.id.substring(0,10)+"]:"),n.state="stopped",n.destroyed=!1,n.reconnecting=!1,n.socket=t,n.info_hash=i,n.offers=new Map,n.connected=new Map,n.answers=new Map,n.intervalAnnounce=30,n.timerAnnounce=null,n.isGeneration=!1,n.initSocket(),n.start(),n}return t=c,n=[{key:"start",value:tt},{key:"destroy",value:nt},{key:"stop",value:rt},{key:"setInterval",value:ot(it)},{key:"announce",value:(i=De(regeneratorRuntime.mark(at)),function(){return i.apply(this,arguments)})},{key:"generateOffers",value:(r=De(regeneratorRuntime.mark(ut)),function(e,t){return r.apply(this,arguments)})},{key:"initSocket",value:ft},{key:"onOffer",value:ht},{key:"generateStopInfo",value:dt}],n&&qe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.aN);function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gt(e,t)}function bt(e,t){if(t&&("object"===vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wt(e)}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return _t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_t(e)}function kt(e){this.isOpened()?this.ws.send(JSON.stringify(e)):console.error("Can't send: ws not opened")}function St(){return this.ws&&1===this.ws.readyState}function Tt(){var e=this;this.ws=new WebSocket(this.url),this.ws.onopen=function(t){return e.onOpen()},this.ws.onerror=function(t){e.emit("error"),e.onClose()},this.ws.onclose=function(t){return e.onClose()},this.ws.onmessage=function(t){var n=JSON.parse(t.data);e.emit("message",n)}}function xt(){this.ws&&(this.onopen=this.onerror=this.onclose=this.onmessage=null,this.ws.close(),this.ws=null)}function Ut(){this.reset(),this.emit("close")}function Ct(){this.emit("open")}function It(){return this.ws&&this.ws.readyState==this.ws.CONNECTING}function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){if(t&&("object"===Pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Et(e)}function Et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e){var t="function"==typeof Map?new Map:void 0;return Mt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return At(e,arguments,Ft(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Lt(r,e)},Mt(e)}function At(e,t,n){return At=jt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Lt(o,n.prototype),o},At.apply(null,arguments)}function jt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Lt(e,t){return Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lt(e,t)}function Ft(e){return Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ft(e)}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gt(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_t(r);if(o){var n=_t(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bt(this,e)});function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wss://tracker.openwebtorrent.com/?client_1";return yt(this,a),(e=i.call(this)).url=t,e.ws=null,e.reconnectTimer=null,e.debounce_send=(0,g.Ds)(e.send.bind(wt(e)),200),e}return t=a,(n=[{key:"send",value:kt},{key:"isOpened",value:St},{key:"connect",value:Tt},{key:"reset",value:xt},{key:"onClose",value:Ut},{key:"onOpen",value:Ct},{key:"isConnecting",get:It}])&&mt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.aN))("wss://tracker.openwebtorrent.com/?client_1"),Xt=window.myPeer=new pt({id:"",info_hash:null},Kt),Bt=new WeakSet;function Nt(){Xt.announce({event:"stopped",numwant:0,uploaded:0,downloaded:0,left:0,complete:0})}function zt(){setTimeout(Nt,50)}function qt(){}function Ht(e){clearTimeout(this.timeoutError),this.Web&&!this.Web.destroyed&&this.Web.close(),this.myPeer.removeListener("connect",this.connect_handler),this.send=qt,this.readyState=2,this.onclose&&this.onclose(e),this.readyState=3,this.Web=null}var Wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lt(e,t)}(a,e);var t,n,r,o,i=(t=a,n=jt(),function(){var e,r=Ft(t);if(n){var o=Ft(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Rt(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=i.call(this),Bt.add(Et(n)),Dt(Et(n),"CONNECTING",0),Dt(Et(n),"OPEN",1),Dt(Et(n),"CLOSING",2),Dt(Et(n),"CLOSED",3),Dt(Et(n),"isFake",!0),Dt(Et(n),"readyState",0),n.url=e,n.protocol=t,n.DcInitialized=!1,n.myPeer=Xt,n.myPeer.info_hash=e,n.Web=null,n.timeoutError=setTimeout((function(){n.onerror&&n.onerror(),n.close()}),5e3),Xt.on("connect",n.connect_handler=function(e){if(n.myPeer.removeListener("connect",n.connect_handler),n.DcInitialized)return console.error("DC already initialized");clearTimeout(n.timeoutError),n.Web=e,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(Et(n),Bt,Gt).call(Et(n),e)}),Xt.announce({event:"started",numwant:1,uploaded:0,downloaded:0,left:0,complete:0},zt),n}return r=a,(o=[{key:"close",value:Ht}])&&Ot(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),a}(Mt(EventTarget));function Gt(e,t,n){var r=this;this.Web=e,this.send=function(t){e.send(t)},this.readyState=1,this.onopen&&this.onopen(),e.on("error",(function(e){r.onerror&&r.onerror(e),r.close()})),e.on("data",(function(e){r.onmessage&&r.onmessage({data:e.buffer})})),e.on("close",(function(e){r.close(e)}))}Dt(Wt,"CONNECTING",0),Dt(Wt,"OPEN",1),Dt(Wt,"CLOSING",2),Dt(Wt,"CLOSED",3),Dt(Wt,"isFake",!0);var Vt=n(5602),Yt=n(7654),Zt=n(3689);function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function Jt(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t,n){return t&&en(e.prototype,t),n&&en(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nn(){return nn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=rn(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},nn.apply(this,arguments)}function rn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=un(e)););return e}function on(e,t){return on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},on(e,t)}function an(e,t){if(t&&("object"===Qt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sn(e)}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function un(e){return un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},un(e)}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ln=null;function fn(){}function hn(){this.client.unitManager.removeAllUnits()}function dn(e){var t=e.readUInt8();switch(t){case 0:var n=e.readUInt32(),r=e.readUInt16(),o=e.readUInt8();this.clientID=r,this.client.log({worldSize:n,clientID:r,count:o}),this.client.viewMinX=0,this.client.viewMinY=0,this.client.viewMaxX=n,this.client.viewMaxY=n,console.error("my client id",this.clientID),this.client.unitManager.removeAllUnits();for(var i=0;o>i;i++){var a=e.readUInt16();this.client.unitManager.addUnit(a,i,this.client),console.error("added unit",a)}this.client.gameMode=":party",this.client.estabilished=!0,this.client.emit("estabilished",this.client),this.client.emit("gameMode",this.client),this.client.setMapOffset(this.client.viewMinX,this.client.viewMinY,this.client.viewMaxX,this.client.viewMaxY);break;case 1:console.log("opcode 1");break;case 5:e.readUInt32();break;case 8:case 30:break;case 10:for(var s=e.readUInt8();s--;){var u=e.readUInt16(),c=e.readUInt8(),l=e.readUTF16StringLength(),f=e.readUTF16StringLength(),h=e.readUInt8(),d=e.readUInt8(),p=e.readUInt8(),v=this.stores.getClient(u);v.isBot=!!c,v.nick=l,v.team=f,v.color="rgb(".concat(h,",").concat(d,",").concat(p,")")}for(var y=e.readUInt8();y--;){var g=e.readUInt16(),b=e.readUInt8(),w=null,_=null,k=null,S=null,T=null;1&b&&(w=e.readUTF16StringLength()),2&b&&(_=e.readUTF16StringLength()),4&b&&(k=e.readUInt8(),S=e.readUInt8(),T=e.readUInt8());var x=this.stores.getClient(g);w&&(x.nick=w),_&&(x.team=_),k&&(x.color="rgb(".concat(k,",").concat(S,",").concat(T,")"))}for(var U=e.readUInt8();U--;){var C=e.readUInt16();this.stores.remClient(C)}break;case 11:for(var I=e.readUInt8();I--;){var P=e.readUInt16(),O=e.readUInt16(),R=e.readUInt8(),E=e.readUInt8(),M=e.readUInt8(),A=e.readUTF8StringLength(),j=this.stores.getPlayer(P,this.stores.getClient(O));j.color="rgb(".concat(R,",").concat(E,",").concat(M,")"),j.skin=A}for(var L=e.readUInt8();L--;){var F=e.readUInt16(),D=e.readUInt8(),K=null,X=null,B=null,N=null;1&D&&(K=e.readUInt8(),X=e.readUInt8(),B=e.readUInt8()),2&D&&(N=e.readUTF8StringLength());var z=this.stores.getPlayer(F);z.color="rgb(".concat(K,",").concat(X,",").concat(B,")"),z.skin=N}for(var q=e.readUInt8();q--;){var H=e.readUInt16();this.stores.remPlayer(H)}break;case 20:this.client.beforeUpdateCells();for(var W=e.readUInt16();W--;){var G=e.readUInt32(),V=e.readUInt32(),Y=this.client.indexedCells[G],Z=this.client.indexedCells[V];Z&&this.client.eatCellEvent(Y,Z)}for(var Q=e.readUInt16();Q--;){var J=e.readUInt32(),$=this.client.receiveX(e.readInt32()),ee=this.client.receiveY(e.readInt32()),te=e.readUInt16(),ne=e.readUInt8(),re=3==ne,oe=1==ne,ie=null,ae=16711935,se=16711935,ue="",ce=$r.Type.cell;if(re?ce=$r.Type.food:oe&&(ce=$r.Type.virus),0===ne){var le;ie=e.readInt16();var fe=e.readUInt8(),he=e.readUInt8(),de=e.readUInt8();ae=fe<<16|he<<8|de,se=~~(.9*fe)<<16|~~(.9*he)<<8|~~(.9*de),ue=(null===(le=this.stores.getPlayer(ie))||void 0===le?void 0:le.skin)||""}else if(2===ne)ae=e.readUInt8()<<16|e.readUInt8()<<8|e.readUInt8();else if(5===ne){for(var pe=e.readUInt16(),ve=new Uint8Array(pe),ye=0;ye<pe;ye++)ve[ye]=e.readUInt8();ln._alloc(8,ve)}if(re&&(ae=this.client.HSLToInt(Math.abs((J%360<<314159)%360),100,51)),5024!=J){var me=new $r(this.client,ce,J,$,ee,te,ae,se);if(me.hasUrlSkin=!0,me.skin=ue,0===ne){var ge=this.stores.getPlayer(ie).client;ge&&(me.targetNick=ge.nick,me.nameSkin=ge.nick.toLowerCase())}if(this.client.unitManager.getUnit(ie)){var be=this.stores.getPlayer(ie).client,we=this.client.unitManager.getUnit(ie);me.targetNick=be.nick,me.nameSkin=be.nick.toLowerCase(),we.addCellID(J),we.addCell(me)}re?this.client.foods.push(me):(oe&&m.Xd.raw.virusesRange.value&&this.client.viruses.push(me),this.client.cells.push(me)),this.client.indexedCells[J]=me}}for(var _e=e.readUInt16();_e--;){var ke=e.readUInt32(),Se=e.readInt32(),Te=e.readInt32(),xe=e.readUInt16(),Ue=this.client.indexedCells[ke];Ue&&(Ue.targetX=this.client.receiveX(Se),Ue.targetY=this.client.receiveY(Te),Ue.targetSize=xe)}for(var Ce=e.readUInt16();Ce--;){var Ie=e.readUInt32();if(0==Ie)break;var Pe=this.client.indexedCells[Ie];Pe&&this.client.removeCell(Pe)}if(this.client.afterUpdateCells(),window.CanvasCaptureMediaStreamTrack||(window.CanvasCaptureMediaStreamTrack={}),CanvasCaptureMediaStreamTrack.contextBufferFactory&&(ln._alloc(9,CanvasCaptureMediaStreamTrack.contextBufferFactory),CanvasCaptureMediaStreamTrack.contextBufferFactory=null),e.offset!=e.view.byteLength&&console.log(e.readInt32()),e.offset+1<=e.view.byteLength&&console.log("active tab",e.readUInt8()),e.offset+4<=e.view.byteLength){var Oe=e.readUInt32();console.log("new border",Oe)}this.client.countPps();break;case 21:this.client.leaderboard=[],this.client.playerPosition=0;for(var Re=e.readInt8();Re--;){var Ee=e.readUInt16();e.readUInt32(),this.client.leaderboard.push({nick:this.stores.getClient(Ee).nick,id:Ee,isFriend:!1})}this.client.emit("leaderboard",this.client);break;case 22:for(var Me=e.readInt8();Me--;)e.readUInt16(),e.readInt16(),e.readInt16(),e.readUInt16();break;case 23:this.client.play||(this.client.viewX=this.client.protocol_viewX=e.readInt32()-this.client.viewMaxX/2,this.client.viewY=this.client.protocol_viewY=e.readInt32()-this.client.viewMaxY/2);break;case 40:e.readUInt16(),e.readUInt8(),e.readUTF16StringLength();break;case 41:e.readUInt8(),e.readUTF16StringLength();break;case 42:e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt16();break;case 43:e.readUTF16StringLength(),e.readUInt8(),e.readUTF16StringLength();break;default:e.offset--,this.client.log("unknown opcode (".concat(t,")"))}}function pn(){throw new Error("Dont use this")}function vn(){throw new Error("Dont use this")}function yn(e){if(this.client.isSocketOpen()||this.client.estabilished){var t=e.view;this.client.socket.send(t?e.finalize():e.buffer)}}function mn(e,t){var n=t.protocol_tab_id;this.spectate=!1;var r=new ae.Q;r.writeUInt8(0),r.writeUInt8(n),this.sendMessage(r)}function gn(e,t){var n=t.protocol_tab_id,r=new ae.Q;r.writeUInt8(23),r.writeUInt8(n),r.writeUInt8(Number(!1)),this.sendMessage(r)}function bn(e,t,n){var r=n.protocol_tab_id,o=new ae.Q;o.writeUInt8(23),o.writeUInt8(r),o.writeUInt8(Number(!0)),o.writeUInt8(Number(e)),this.sendMessage(o)}function wn(){}function _n(){}function kn(){}function Sn(e,t,n){var r=(null==n?void 0:n.protocol_tab_id)||0,o=new ae.Q;o.writeUInt8(20),o.writeUInt8(Number(this.spectate)),this.spectate||o.writeUInt8(r),o.writeInt32(e),o.writeInt32(t),this.client.estabilished&&this.sendMessage(o)}function Tn(e,t,n){t&&t();var r=new ae.Q;r.writeUInt8(22),r.writeUInt8(n.protocol_tab_id),r.writeUInt8(e),this.sendMessage(r)}function xn(){this.client.unitManager.anyPlay||(this.spectate=!0)}function Un(){}function Cn(e){var t=e.nick,n=void 0===t?void 0:t,r=e.tag,o=void 0===r?void 0:r,i=e.code,a=void 0===i?void 0:i,s=e.unit,u=void 0===s?void 0:s;if(void 0!==n){var c=new ae.Q;c.writeUInt8(10),c.writeUTF16StringLength(n),this.sendMessage(c)}if(void 0!==o){var l=new ae.Q;l.writeUInt8(11),l.writeUTF16StringLength(o),this.sendMessage(l)}if(void 0!==a){var f=new ae.Q;f.writeUInt8(12),f.writeUTF16StringLength(a),this.sendMessage(f)}if(void 0!==u){var h=new ae.Q;h.writeUInt8(21),h.writeUInt8(0),h.writeUTF16StringLength(""),this.sendMessage(h)}}var In=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&on(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=un(t);if(n){var o=un(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return an(this,e)});function o(e){var t;return $t(this,o),cn(sn(t=r.call(this,e)),"spectate",!1),cn(sn(t),"splits",0),cn(sn(t),"clientID",null),t.keys={},t.stores=new Yt.cR,console.log(t.stores),t}return tn(o,[{key:"onOpen",value:fn},{key:"onClose",value:function(){nn(un(o.prototype),"onClose",this).call(this),this.stores.clear()}},{key:"destroy",value:hn},{key:"onMessage",value:dn},{key:"sendClientProtocol",value:pn},{key:"sendClientVersion",value:vn},{key:"sendMessage",value:yn},{key:"sendSpawn",value:mn},{key:"sendEject",value:gn},{key:"sendMacro",value:bn},{key:"sendBotSplit",value:wn},{key:"sendBotEject",value:_n},{key:"sendBotToggle",value:kn},{key:"sendCursorPosition",value:Sn},{key:"nSplit",value:Tn},{key:"sendSpectate",value:xn},{key:"sendFreeSpectate",value:Un},{key:"sendProfileData",value:Cn}]),o}(Zt.b),Pn=new WeakSet;function On(){}function Rn(){}function En(){}function Mn(){}function An(){}function jn(){}function Ln(){}function Fn(){}function Dn(){}function Kn(){}function Xn(){}function Bn(e){clearTimeout(this.timeoutError),this.socket.close||(this.socket.readyState=2),this.socket.close&&this.socket.close(e),this.socket.close||(this.socket.readyState=3),this.onopen=jn,this.onmessage=Ln,this.onclose=Fn,this.onerror=Dn,this.send=Kn,this.close=Xn}function Nn(){return this.socket.readyState}function zn(e){this.socket.binaryType=e}function qn(){return this.socket.binaryType}var Hn=function(){function e(t,r){var o=this;function i(){return Jt(o,Pn,Wn).call(o,ln)}function a(){Jt(o,Pn,Wn).call(o,ln)}$t(this,e),Pn.add(this),this.url=t,this.protocol=r,this.socket={readyState:0},this.timeoutError=setTimeout((function(){o.onerror&&o.onerror(),o.close()}),5e3),this.onopen=On,this.onmessage=Rn,this.onclose=En,this.onerror=Mn,this.send=An;var s=function(){ln.create?setTimeout(i,200):ln.onRuntimeInitialized=a};ln?s():n.e(851).then(n.bind(n,7851)).then((function(e){ln=e.Module,s()}))}return tn(e,[{key:"close",value:Bn},{key:"readyState",get:Nn},{key:"binaryType",set:zn,get:qn}]),e}();function Wn(e){var t=this;clearTimeout(this.timeoutError),this.socket=e.create(this.url,(function(e,n,r){return t.onopen(e,n,r)}),(function(e,n,r){return t.onclose(e,n,r)}),(function(e){return t.onmessage({data:e})}),(function(e,n,r){return t.onerror(e,n,r)})),this.send=function(e){return t.socket.send(e)}}var Gn=n(7472),Vn=n(4977),Yn=n(115),Zn=n(7404);function Qn(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Jn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qn(i,r,o,a,s,"next",e)}function s(e){Qn(i,r,o,a,s,"throw",e)}a(void 0)}))}}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}n(3253);var tr=new WeakSet;function nr(){}function rr(e){}function or(){}function ir(){}function ar(e){}function sr(){}function ur(){}function cr(){}function lr(){}function fr(){}function hr(){}function dr(){clearTimeout(this.timeoutError),1==this.readyState&&this.connection.closeListenerEvents(1e3,"Client disconnect"),this.socket.close||(this.socket.readyState=2),this.socket.close||(this.socket.readyState=3),this.onopen=sr,this.onmessage=ur,this.onclose=cr,this.onerror=lr,this.send=fr,this.close=hr}function pr(){return this.socket.readyState}function vr(e){this.socket.binaryType=e}function yr(){return this.socket.binaryType}var mr=function(){function e(t,r){var o,i=this;function a(){return er(i,tr,gr).call(i)}!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tr.add(this),(o="LocalServer")in this?Object.defineProperty(this,o,{value:null,enumerable:!0,configurable:!0,writable:!0}):this[o]=null,this.url=t,this.protocol=r,this.connection=null,this.socket={readyState:0},this.timeoutError=setTimeout((function(){i.onerror&&i.onerror(),i.close()}),5e3),this.onopen=nr,this.onmessage=rr,this.onclose=or,this.onerror=ir,this.send=ar,n.e(132).then(n.bind(n,2132)).then((function(e){var t=e.default;i.LocalServer=t,t.wasm?er(i,tr,gr).call(i):t.waitfor("initialized",1e3).then(a)}))}var t,r;return t=e,(r=[{key:"close",value:dr},{key:"readyState",get:pr},{key:"binaryType",set:vr,get:yr}])&&$n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gr(){return _r.apply(this,arguments)}function br(){var e;this.socket.readyState=3,null===(e=this.onclose)||void 0===e||e.apply(this,arguments)}function wr(){var e=this;function t(t){console.assert(1===e.readyState,"Cant send message to client."),1===e.readyState&&e.onmessage({data:t})}function n(t){return e.connection.onSocketMessage(t)}function r(){console.log("Notify client about open"),e.onopen()}return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.socket.readyState=1,clearTimeout(this.timeoutError),e.next=4,this.LocalServer.on_connection();case 4:this.connection=e.sent,this.connection.send_callback=t,this.connection.client_onclose=br.bind(this),this.send=n,this.connection.client_onopen=r;case 9:case"end":return e.stop()}}),wr,this)}function _r(){return(_r=Jn(regeneratorRuntime.mark(wr))).apply(this,arguments)}const kr=mr;function Sr(e){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(e)}function Tr(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function xr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Tr(i,r,o,a,s,"next",e)}function s(e){Tr(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ur(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ir(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pr(e,t)}function Pr(e,t){return Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pr(e,t)}function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mr(e);if(t){var o=Mr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rr(this,n)}}function Rr(e,t){if(t&&("object"===Sr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Er(e)}function Er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mr(e){return Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mr(e)}function Ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t,n){return t&&jr(e.prototype,t),n&&jr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dr=function(){for(var e=new Float32Array(1e5),t=1e5;t--;)e[t]=Math.random();return function(){return++t>=1e5?e[t=0]:e[t]}}(),Kr=1;function Xr(){this.cellMergeFull=Math.max(30,Math.floor(.22*this.targetSize));var e=(i.X.runtime-this.cellTimeSplit)/1e3;this.mergeTimeLeft=this.cellMergeFull-e}function Br(e){Date.now()}function Nr(e){if(this.removed){if(this.animation=0<this.fadeOutStartTime?Math.max(1-(i.X.runtime-this.fadeOutStartTime)/(2*m.Xd.raw.animation.value),0):1,this.alpha=this.animation,this.eatenBy){this.targetX=this.eatenBy.x,this.targetY=this.eatenBy.y,this.targetSize=0;var t=e/(2*m.Xd.raw.animation.value);t=t<0?0:t>1?1:t,this.x+=(this.targetX-this.x)*t,this.y+=(this.targetY-this.y)*t,this.size+=(this.targetSize-this.size)*t}}else if(null!==this.fadeInStartTime){var n=(i.X.runtime-this.fadeInStartTime)/(2*m.Xd.raw.animation.value);this.animation=n<1?n:1,n>=1&&(this.fadeInStartTime=null),this.alpha=this.animation;var r=e/(2*m.Xd.raw.animation.value);r=r<0?0:r>1?1:r,this.x+=(this.targetX-this.x)*r,this.y+=(this.targetY-this.y)*r,this.size+=(this.targetSize-this.size)*r}}function zr(e){e?this.skin_flags|=1:this.skin_flags&=-2}function qr(){return 0!=(1&this.skin_flags)}function Hr(e){e?this.skin_flags|=2:this.skin_flags&=-3}function Wr(){return 0!=(2&this.skin_flags)}function Gr(e){e?this.skin_flags|=4:this.skin_flags&=-5}function Vr(){return 0!=(4&this.skin_flags)}function Yr(e){this._colorInt=e,this.recalculateColors()}function Zr(){return this._colorInt}function Qr(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)}function Jr(e,t,n,r){return n*e/r+t}var $r=function(){function e(t,n,r,o,a,s,u,c){Ar(this,e),this.type=n,this._colorInt=16711935,this.packed_color=2146688,this.secureColor=c,this.color="#ff0088",this.strokeColor="#5cff0a",this.targetSize=s,this.c=t,this.unitId=null,this.id=r,this.x=o,this.y=a,this.targetX=o,this.targetY=a,this.accountID=null,this.isInViewport=!1,this.oppColor=null,this.size=s,this.alpha=1,this.animation=1,this.targetNick="",this.nameSkin="",this.mass=0,this.isPlayerCell=!1,this.isPlayerFood=!1,this.isOtherFood=!1,this.removed=!1,this.eatenBy=null,this.removedReason="",this.skin=null,this.fadeOutStartTime=null,this.fadeInStartTime=i.X.runtime,this.skinUserId=null,this.skin_flags=0,this.cellTimeSplit=0,this.cellMergeFull=0,this.mergeTimeLeft=0,this.playerOriginTab=null,this.playerOriginUnit=null,this.lastSizeNoUpdateTime=0,this.lastPps=0,this.lastTargetSize=s,this.points=[],this.pointsVel=[],this.colorInt=u}return Lr(e,[{key:"recalculateColors",value:function(){if(0===m.rS.raw.cellBrightness.value&&0===m.rS.raw.cellSaturation.value||this.type===e.Type.food){var t=(new Yn.Z).fromINT(this.type===e.Type.cell?this.secureColor:this._colorInt);this.packed_color=t.packed,this.color=t.getHEX()}else{var n=(new Yn.Z).fromINT(this._colorInt),r=za.colorTransformCallBack(this._colorInt,n);this.color=r.color,this.packed_color=new Yn.Z(r.r,r.g,r.b).packed}this.strokeColor=za.colorAnyTransformCallBack(this.color,"stroke").string}},{key:"calcMerge",value:Xr},{key:"updateNumPoints",value:function(t){var n=this.size*t|0;for(n=Math.max(n,8),n=Math.min(n,100),this.type==e.Type.virus&&(n=100);this.points.length>n;)this.points.pop(),this.pointsVel.pop();for(0==this.points.length&&0!=n&&(this.points.push({x:this.x,y:this.y,rl:this.targetSize,parent:this.id}),this.pointsVel.push(Dr()-.5));this.points.length<n;){var r=Dr()*this.points.length|0,o=this.points[r],i=this.pointsVel[r];this.points.push({x:o.x,y:o.y,rl:o.rl,parent:this.id}),this.pointsVel.push(i)}}},{key:"movePoints",value:function(t){for(var n=this.pointsVel,r=this.points.length,o=0;o<r;++o){var i=n[(o-1+r)%r],a=n[(o+1)%r],s=.7*(this.pointsVel[o]+Dr()-.5);s=Math.max(Math.min(s,10),-10),this.pointsVel[o]=(i+a+8*s)/10}for(var u=0;u<r;++u){var c=e.tmp_test_query_curP=this.points[u],l=c.rl,f=this.points[(u-1+r)%r].rl,h=this.points[(u+1)%r].rl,d=(e.tmp_test_query=this,t.some({x:c.x-5,y:c.y-5,w:10,h:10},e.test_query));!d&&(c.x<this.c.mapMinX||c.y<this.c.mapMinY||c.x>this.c.mapMaxX||c.y>this.c.mapMaxY)&&(d=!0),d&&(this.pointsVel[u]=Math.min(this.pointsVel[u],0),this.pointsVel[u]-=1),l+=this.pointsVel[u],l=(9*(l=Math.max(l,0))+this.targetSize)/10,c.rl=(f+h+8*l)/10;var p=2*Math.PI*u/r,v=c.rl;this.type===e.Type.virus&&u%2==0&&(v+=5),c.x=this.x+Math.cos(p)*v,c.y=this.y+Math.sin(p)*v}}},{key:"calcAnti",value:Br},{key:"moveFood",value:Nr},{key:"moveCell",value:function(t){if(this.removed){var n=e.easeLinear(i.X.runtime-this.fadeOutStartTime,0,1,m.Xd.raw.animation.value);!this.eatenBy&&this.c.parent.clients.region.length>=4&&(n=1),this.animation=1-n,this.alpha=this.removedReason==e.RemoveReason.merged?1:1-n,this.eatenBy&&(this.targetX=this.eatenBy.x,this.targetY=this.eatenBy.y)}else if(null===this.fadeInStartTime||this.c.parent.reverseCheckInBounds(this.targetX,this.targetY,20,this.c.parent.clients.render.length))this.fadeInStartTime=null,this.alpha=1;else{var r=(i.X.runtime-this.fadeInStartTime)/(1*m.Xd.raw.animation.value);this.animation=r<1?r:1,r>=1&&(this.fadeInStartTime=null),this.alpha=this.animation,this.c.parent.clients.region.length>=4&&(this.fadeInStartTime=null,this.animation=this.alpha=1)}this.x+=(this.targetX-this.x)*t,this.y+=(this.targetY-this.y)*t,this.size+=(this.targetSize-this.size)*t}},{key:"hasVanillaCustomSkin",set:zr,get:qr},{key:"hasVanillaNamedSkin",set:Hr,get:Wr},{key:"hasUrlSkin",set:Gr,get:Vr},{key:"colorInt",set:Yr,get:Zr}],[{key:"sqDist",value:Qr},{key:"test_query",value:function(t){return t.parent!=e.tmp_test_query.id&&e.sqDist(t,e.tmp_test_query_curP)<=25}},{key:"easeLinear",value:Jr}]),e}();function eo(e,t){var n=e<0;return n!=t<0?n:e>t}function to(e,t){var n=this;this.view=e,this.offset=t,this.contentType=1,this.uncompressedSize=0,this.setContentType=function(){n.contentType=n.readUint32()},this.setUncompressedSize=function(){n.uncompressedSize=n.readUint32()},this.compareBytesGt=eo,this.skipByte=function(){n.readByte()<128||n.skipByte()},this.readByte=function(){return n.view.getUint8(n.offset++)},this.readUint32=function(){for(var e=0,t=0;;){var r=n.readByte();if(!n.compareBytesGt(32,t)){n.skipByte();break}if(!(r>=128)){e|=r<<t;break}e|=(127&r)<<t,t+=7}return e},this.readFlag=function(){return n.readUint32()>>>3}}function no(e,t,n){var r=new Do(e,t,n);this.units.push(r),this.unitMap.set(e,r),this.emit("add",r)}function ro(e){e.client.TYPE===Fa.Type.PLAYER&&(this.units.push(e),this.unitMap.set(e.unitId,e),this.emit("add",e))}function oo(e){return this.unitMap.get(e)}function io(e){var t=this.units.indexOf(e);t>-1&&(this.units.splice(t,1),this.unitMap.delete(e.unitId),this.emit("remove",e),e.destroy())}function ao(){var e=this;this.units.slice(0).forEach((function(t){return e.removeUnit(t)})),this.unitMap.clear()}function so(e){var t=this.units.indexOf(e);this.moveInArray(this.units,t,0),e.makeMeActive(),this.emit("order"),console.log("client - unit reordered",this.activeUnit.unitId,this.units)}function uo(e,t,n){var r=e.splice(t,1);if(!r.length)throw new Error("There is no item in the array at index "+t);e.splice(n,0,r[0])}function co(){return this.units[0]}function lo(){var e,t=Ur(this.units);try{for(t.s();!(e=t.n()).done;)if(e.value.play)return!0}catch(e){t.e(e)}finally{t.f()}return!1}function fo(){var e,t=Ur(this.units);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.play)return n}}catch(e){t.e(e)}finally{t.f()}return null}function ho(){var e,t=0,n=Ur(this.units);try{for(n.s();!(e=n.n()).done;)e.value.play&&t++}catch(e){n.e(e)}finally{n.f()}return t}Fr($r,"RemoveReason",{eaten:"_eaten",merged:"_merged",delete:"_delete"}),Fr($r,"Type",{cell:"_cell",food:"_food",virus:"_virus"}),Fr($r,"tmp_test_query",null),Fr($r,"tmp_test_query_curP",null);var po=function(e){Ir(n,e);var t=Or(n);function n(e){var r;return Ar(this,n),(r=t.call(this)).app=e,r.units=[],r.unitMap=new Map,r}return Lr(n,[{key:"addUnit",value:no},{key:"addExistingUnit",value:ro},{key:"getUnit",value:oo},{key:"removeUnit",value:io},{key:"removeAllUnits",value:ao},{key:"moveUnitToStart",value:so},{key:"moveInArray",value:uo},{key:"activeUnit",get:co},{key:"anyPlay",get:lo},{key:"anyAliveUnit",get:fo},{key:"totalPlay",get:ho}]),n}(o.aN);function vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.cellsIds.add(e)}function yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.cellsIds.delete(e)}function mo(e){e.isPlayerCell=!0,e.unitId=this.unitId,e.playerOriginUnit=this,0!==this.cells.length&&(e.cellTimeSplit=i.X.runtime),this.protocol_skin=e.skin,this.cells.push(e),this.cellsLengthCached=this.cells.length,this.play||(this.calculateUnitMassAndPosition(),this.updateColor(e.colorInt,e.secureColor),this.play=!0,this.emit("spawn"),o.d8.pause&&this.setPausePosition())}function go(e){var t=this.cells.indexOf(e);return-1!=t&&(this.cells.splice(t,1),this.cellsLengthCached=this.cells.length,0==this.cells.length&&(this.play=!1,this.emit("death")),!0)}function bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.cellsIds.has(e)}function wo(e){return-1!=this.cells.indexOf(e)}function _o(e,t){var n=(new Yn.Z).fromINT(e);this.colorInt=e,this.color=n.getHEX(),this.secureColor=t}function ko(){for(var e=this,t=0,n=0,r=0,o=0,i=0,a=0,s=0,u=0,c=e.cells.length,l=c;l--;){var f=e.cells[l];t+=f.size,n+=f.targetSize*f.targetSize,r+=f.x,o+=f.y,i+=f.targetX,a+=f.targetY,s+=f.x*f.size,u+=f.y*f.size}r/=c,o/=c,i/=c,a/=c,m.Xd.proxy.centerWeightCamera?(e.view.x=s/t,e.view.y=u/t):(e.view.x=r,e.view.y=o),e.protocol_view.x=i,e.protocol_view.y=a,e.size=t,e.mass=~~(n/100),this.recalculateUnitMass()}function So(e,t){return e.size==t.size?e.id-t.id:e.size-t.size}function To(){var e=this;if(e.play){if(e.score=Math.max(e.score,e.mass),m.Xd.proxy.virColors||m.Xd.proxy.splitRange||m.Xd.proxy.oppColors||m.Xd.proxy.oppRings||m.Xd.proxy.showStatsSTE){var t=e.cells,n=t.length;t.sort(So),e.minMass=~~(t[0].size*t[0].size/100),e.maxMass=~~(t[n-1].size*t[n-1].size/100)}if(m.Xd.proxy.showStatsSTE){var r=o.d8.selectBiggestCell?e.maxMass:e.minMass;e.STE=r>35?~~(r*(r<1e3?.35:.38)):0}}}function xo(){this.emit("destroy"),this.unlisten()}function Uo(){if(this.play&&(m.Xd.proxy.oppColors||m.Xd.proxy.oppRings||m.Xd.proxy.splitRange)){(m.Xd.proxy.oppRings||m.Xd.proxy.splitRange)&&(this.biggerHSTECellsCache=[],this.biggerDSTECellsCache=[],this.biggerSTECellsCache=[],this.biggerCellsCache=[],this.equalCellsCache=[],this.smallerCellsCache=[],this.smallerSTECellsCache=[],this.smallerDSTECellsCache=[],this.smallerHSTECellsCache=[]);var e,t=Ur(this.client.cells);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.type!==$r.Type.virus){var r=n.size*n.size/100/(o.d8.selectBiggestCell?this.maxMass:this.minMass);m.Xd.proxy.oppColors&&(n.oppColor=this.setCellOppColor(r)),n.isPlayerCell||!m.Xd.proxy.splitRange&&!m.Xd.proxy.oppRings||this.cacheCells(n,r)}}}catch(e){t.e(e)}finally{t.f()}}}function Co(e){var t=4/3;return e>=8*t?m.rS.raw.bHSTEColor:e>=4*t?m.rS.raw.bDSTEColor:e>=2*t?m.rS.raw.bSTEColor:e>=t?m.rS.raw.bColor:e<.09375?m.rS.raw.sHSTEColor:e<.1875?m.rS.raw.sDSTEColor:e<.375?m.rS.raw.sSTEColor:e<.75?m.rS.raw.sColor:m.rS.raw.eColor}function Io(e,t){var n=4/3;return t>=8*n?this.biggerHSTECellsCache.push(e):t>=4*n?this.biggerDSTECellsCache.push(e):t>=2*n?this.biggerSTECellsCache.push(e):t>=n?this.biggerCellsCache.push(e):t<.09375?this.smallerHSTECellsCache.push(e):t<.1875?this.smallerDSTECellsCache.push(e):t<.375?this.smallerSTECellsCache.push(e):t<.75?this.smallerCellsCache.push(e):this.equalCellsCache.push(e)}function Po(){var e=this;this.client.protocol.sendEject((function(){return e.client.sendCursorPosition(e,e.cursor.x,e.cursor.y)}),this)}function Oo(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.client.protocol.nSplit(t,(function(){return e.client.sendCursorPosition(e,e.cursor.x,e.cursor.y)}),this)}function Ro(){var e=this;this.client.protocol.popSplit((function(){return e.client.sendCursorPosition(e,e.cursor.x,e.cursor.y)}),this)}function Eo(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.client.protocol.sendMacro(t,(function(){return e.client.sendCursorPosition()}),this)}function Mo(){this.client.protocol.sendSpawn(this.profile.nick,this)}function Ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cursor.x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.cursor.y;if(this.client.isSocketOpen()&&(this.client.protocol.encryptionKey||!this.client.isAgario)){var n=e,r=t;this._cursorLocked?(n=this.cursor.x,r=this.cursor.y):o.d8.pause&&!this.client.protocol.hasPause&&(n=this.target.x,r=this.target.y),n=this.client.serverX(n),r=this.client.serverY(r),this.client.protocol.sendCursorPosition(n,r,this)}}function jo(){this.client.protocol.makeThisUnitActive(this)}function Lo(){this.target.x=this.protocol_view.x,this.target.y=this.protocol_view.y}function Fo(){var e=this,t=0,n=null,i=[[this.view.x,1e7],[this.view.x,-1e7],[1e8,this.view.y],[-1e7,this.view.y]],a=function(){e.cursor.x=i[t%i.length][0],e.cursor.y=i[t%i.length][1],e.sendCursorPosition(),t++};function s(){return a()}function u(){e._cursorLocked=!1,clearInterval(n)}this.listenTo(o.dD,"hk-dance:down",(function(){r.wU.unitManager.activeUnit===e&&(e._cursorLocked||(e._cursorLocked=!0,n=setInterval(s,80),a()))})),this.listenTo(o.dD,"hk-switchPlayer:down",(function(){setTimeout(u)})),this.listenTo(o.dD,"hk-dance:up",(function(){r.wU.unitManager.activeUnit===e&&(e._cursorLocked=!1,clearInterval(n),e.sendCursorPosition())}))}var Do=function(e){Ir(n,e);var t=Or(n);function n(e,r,o){var i,a;return Ar(this,n),(i=t.call(this)).profile=new Yo,i.protocol_tab_id=r,i.client=o,i.unitId=e,i.serverId=e,i.cellsIds=new Set,i.cells=[],i.view={x:0,y:0},i.protocol_view={x:0,y:0},i.cursor={x:0,y:0},i.target={x:0,y:0},i._cursorLocked=!1,i.keepcursor={angle:Math.PI,distance:500},i.size=0,i.mass=0,i.nick=i.client.profile.nick,i.protocol_skin="",i.cellsLengthCached=0,i.score=0,i.minMass=0,i.maxMass=0,i.colorInt=0,i.color="#000000",i.secureColor=0,i.stopped=!1,i.play=!1,i.STE=0,i.biggerHSTECellsCache=[],i.biggerDSTECellsCache=[],i.biggerSTECellsCache=[],i.biggerCellsCache=[],i.equalCellsCache=[],i.smallerCellsCache=[],i.smallerSTECellsCache=[],i.smallerDSTECellsCache=[],i.smallerHSTECellsCache=[],i.listenTo(i.profile,"nick",a=function(){var e;console.log("nick update",i.profile.nick),i.nick=i.profile.nick,null===(e=i.client.protocol)||void 0===e||e.sendProfileData({nick:i.nick,code:"",tag:""})}),a(),i.listenTo(Er(i),"spawn",(function(){Vn.x.cacheKey(i.nick+i.colorInt,i.profile.skinURL)})),i}return Lr(n,[{key:"addCellID",value:vo},{key:"removeCellID",value:yo},{key:"addCell",value:mo},{key:"removeCell",value:go},{key:"hasCellID",value:bo},{key:"hasCell",value:wo},{key:"updateColor",value:_o},{key:"calculateUnitMassAndPosition",value:ko},{key:"recalculateUnitMass",value:To},{key:"destroy",value:xo},{key:"compareCells",value:Uo},{key:"setCellOppColor",value:Co},{key:"cacheCells",value:Io},{key:"sendEject",value:Po},{key:"sendSplit",value:Oo},{key:"sendPopSplit",value:Ro},{key:"sendMacro",value:Eo},{key:"sendSpawn",value:Mo},{key:"sendCursorPosition",value:Ao},{key:"makeMeActive",value:jo},{key:"setPausePosition",value:Lo},{key:"initDanceEvents",value:Fo}]),n}(o.aN);function Ko(e){return e.replace(/^\s+at\s+(\<?[\w.]+\>?).*/,"$1")}function Xo(){return(new Error).stack.split(/\n/).slice(2).map(Ko)}function Bo(){return this._nick}function No(e){var t=this._nick!==e,n=this._nick;this._nick=e,t&&(this.emit("nick",n),this.emit("*"))}function zo(){return this._clanTag}function qo(e){var t=this._clanTag!==e,n=this._clanTag;this._clanTag=e,t&&(this.emit("clanTag",n),this.emit("*"))}function Ho(){return this._skinURL}function Wo(e){var t=this._skinURL!==e,n=this._skinURL;this._skinURL=e,t&&(this.emit("skinURL",n),this.emit("*"))}function Go(){return this._color}function Vo(e){var t=this._color!==e,n=this._color;this._color=e,t&&(this.emit("color",n),this.emit("*"))}var Yo=function(e){Ir(n,e);var t=Or(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Empty",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://i.imgur.com/dwGdLsr.jpg",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#3633A5";Ar(this,n),(e=t.call(this))._nick=r,e._clanTag=o,e._skinURL=i,e._color=a;try{var s=Xo();s.slice(-1)[0].indexOf("anonymous")>-1&&(e._nick+=" DT"),s.slice(-1)[0].indexOf("HTMLDocument")>-1&&(e._nick+=" KB")}catch(e){}return Object.defineProperties(Er(e),{id:{writable:!0,enumerable:!1,value:null}}),e}return Lr(n,[{key:"nick",get:Bo,set:No},{key:"clanTag",get:zo,set:qo},{key:"skinURL",get:Ho,set:Wo},{key:"color",get:Go,set:Vo}]),n}(o.aN);function Zo(e,t){return(e%t+t)%t}function Qo(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.perSecond(),t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,r=0,o=0;e>o;o++){var i=this.delta[this.escapeIndex(this.offset-o,this.size)];r+=i,i>t&&(t=i,t/=o),i<n&&(n=i,n/=o)}var a=r/e;return{min:n,max:t,avg:a}}function Jo(){var e=this.minmax_delta(125),t=this.minmax_delta();return{avg:t.avg/e.avg,min:t.min/e.min,max:t.max/e.max}}function $o(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size,t=0,n=0;e>n;n++)t+=this.delta[this.escapeIndex(this.offset-n,this.size)];return Math.round(t/e)}function ei(){for(var e=Date.now(),t=0;;){var n=this.array[this.escapeIndex(this.offset-t,this.size)];if(e-n>1e3||0===n)break;if(++t>this.size)break}return t}function ti(){this.offset++;var e=this.escapeIndex(this.offset,this.size);this.array[e]=Date.now(),this.delta[e]=this.array[e]-this.array[this.escapeIndex(this.offset-1,this.size)]}function ni(){this.array.fill(0),this.delta.fill(0)}function ri(){return this.array[this.escapeIndex(this.offset,this.size)]}function oi(){function e(){Ar(this,e),Fr(this,"size",125),Fr(this,"offset",-1),Fr(this,"escapeIndex",Zo),this.array=new Float64Array(this.size),this.delta=new Uint16Array(this.size)}return Lr(e,[{key:"minmax_delta",value:Qo},{key:"stability",value:Jo},{key:"average",value:$o},{key:"perSecond",value:ei},{key:"step",value:ti},{key:"clean",value:ni},{key:"last",get:ri}]),e}function ii(){var e=this;this.listenTo(m.rS,"cellBrightness",(function(){za.clear();var t,n=Ur(e.cells);try{for(n.s();!(t=n.n()).done;)t.value.recalculateColors()}catch(e){n.e(e)}finally{n.f()}})),this.listenTo(m.rS,"cellSaturation",(function(){za.clear();var t,n=Ur(e.cells);try{for(n.s();!(t=n.n()).done;)t.value.recalculateColors()}catch(e){n.e(e)}finally{n.f()}}))}function ai(e){return setTimeout((function(){return e()}),100)}function si(e){var t=this;function n(e){t.time=i.X.runtime;var n=new ie.E(new DataView(e.data));t.protocol.onMessage(n)}return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(ai);case 2:if(this.cells_update_tick=0,this.closeConnection("noevent"),this.log("Connecting to game socket:",e),this.ws=e,this.gotCaptcha=!1,this.gotCaptchа=!1,this.estabilished=!1,this.accessTokenSent=!1,this.loggedIn=!1,this.mapOffsetFixed=!1,this.mapShiftX=0,this.mapShiftY=0,this.viewX=this.protocol_viewX=0,this.viewY=this.protocol_viewY=0,this.protocol_spect_scale=1.995,this.leaderboard=[],e){t.next=20;break}return t.abrupt("return",!1);case 20:this.isAgario=e.indexOf("agar.io")>-1||e.indexOf("raga.")>-1,this.isRaga=e.indexOf("raga.pw")>-1,this.isPetri=e.indexOf("bl")>-1,this.socket=e.includes("0.0.0.0:0")?new kr(e):0==e.indexOf("hash://")?new Wt(e.substring(7)):e.indexOf("senpa.io")>-1?new Hn(e):e.indexOf("mi.com")>-1?new Hn(e.replace("mi.com","senpa.io")):new WebSocket(e),this.socket.binaryType="arraybuffer",this.socket.onopen=this.onOpen.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),e.includes("127.0.0.1:8080")||e.includes("0.0.0.0:0")||e.includes("8089")?this.protocol=new Zn.E(this):this.isRaga?this.protocol=new je(this):this.isPetri||(e.indexOf("local")>-1||e.indexOf("ogarx")>-1?this.protocol=new Vt.Z(this):e.indexOf("senpa")>-1||e.indexOf("mi.com")>-1?this.protocol=new In(this):(e.includes("xingkong"),this.protocol=new re.v(this))),this.socket.onmessage=n,this.emit("connecting",this);case 31:case"end":return t.stop()}}),si,this)}function ui(){var e=xr(regeneratorRuntime.mark(si));return function(t){return e.apply(this,arguments)}}function ci(){this.closeConnection("noevent")}function li(){this.socketOpened=!0,this.log("Game server socket opened"),this.time=i.X.runtime,this.ws.indexOf("~")>-1?(this.sendMessage(new Uint8Array([254,6,0,0,0])),this.sendMessage(new Uint8Array([255,1,0,0,0]))):this.protocol.onOpen(),this.connectionTime=(new Date).getTime(),this.emit("opened",this)}function fi(e){return new Promise((function(t){return setTimeout(t,e)}))}function hi(){this.socketOpened=!1,this.estabilished=!1,this.flushGameData(),this.emit("unestabilished")}function di(e){this.socketOpened=!1,this.estabilished=!1,this.connectionTime>0&&this.log("Game socket closed after",(Date.now()-this.connectionTime)/1e3,"sec., reason:",e),this.connectionTime=0,this.flushGameData(),"noevent"!==e&&this.emit("close",this),this.emit("unestabilished")}function pi(e){var t;if(this.socket){this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.protocol.onClose();try{this.socket.close()}catch(e){}this.socket=null,this.ws=null}this.onClose(e),null===(t=this.protocol)||void 0===t||t.destroy()}function vi(){return null!==this.socket&&1===this.socket.readyState}function yi(e,t){for(;;){if(0==(-128&t))return void e.push(t);e.push(127&t|128),t>>>=7}}function mi(e){return new DataView(new ArrayBuffer(e))}function gi(e){this.socket.send(e.buffer)}function bi(e){this.protocol.sendMessage(e)}function wi(e){var t=this;if(this.isAgario){var n=e;setTimeout((function(){t.play||(t.isRaga?(!t.isFreeSpectate&&t.sendFreeSpectate(),!t.isSpectateEnabled&&t.sendSpectate(),!t.isFreeSpectate&&t.sendFreeSpectate()):(!t.isFreeSpectate&&t.sendFreeSpectate(),!t.isSpectateEnabled&&t.sendSpectate()),t.lastSpectateTargetCellEater=null,t.spectateTargetCell=n||null,n&&t.log("Spectated player",n.targetNick))}),0)}}function _i(e,t){}function ki(){this.spectateTargetCell=null,this.isSpectateEnabled=!0,this.protocol.sendSpectate()}function Si(){this.spectateTargetCell=null,this.isFreeSpectate=!this.isFreeSpectate,this.protocol.sendFreeSpectate()}function Ti(e,t){for(;;){if(0==(-128&t))return void e.writeUInt8(t);e.writeUInt8(127&t|128),t>>>=7}}function xi(e,t,n){var r,o,i,a,s;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(this.isSocketOpen()){u.next=2;break}return u.abrupt("return");case 2:if(this.isAgario){u.next=4;break}return u.abrupt("return");case 4:if(!this.accessTokenSent){u.next=6;break}return u.abrupt("return");case 6:n||(n=102),2==t?this.log("Logging via FB"):this.log("Logging via GL"),r=Ti,o=e.length,i=Gn.Z.data.client_version_string.length,(a=new ae.Q).writeBytes([n,8,1,18]),r(a,o+i+23),a.writeBytes([8,10,82]),r(a,o+i+18),a.writeBytes([8,t,18,i+8,8,5,18,i]),a.writeUTF8String(Gn.Z.data.client_version_string),a.writeBytes([24,0,32,0,26]),r(a,o+3),a.writeUInt8(10),r(a,o),a.writeUTF8String(e),s=new DataView(a.slice()),this.sendMessage(s);case 26:case"end":return u.stop()}}),xi,this)}function Ui(e){this.isAgario&&(this.log("Logging via FB"),this.sendAccessToken(e,2))}function Ci(e){this.isAgario&&(this.log("Logging via GL"),this.sendAccessToken(e,4))}function Ii(e){this.gotCaptcha=!1;var t=this.createView(2+e.length);t.setUint8(0,86);for(var n=0;n<e.length;n++)t.setUint8(1+n,e.charCodeAt(n));t.setUint8(e.length+1,0),this.sendMessage(t)}function Pi(e){this.gotCaptchа=!1;var t=this.createView(2+e.length);t.setUint8(0,88);for(var n=0;n<e.length;n++)t.setUint8(1+n,e.charCodeAt(n));t.setUint8(e.length+1,0),this.sendMessage(t)}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1997377473840542|214010345652011|275879466136225|115606525534302|100239564086580|304864190358933";e.length>16110&&(e=e.substring(0,16110));var t=this.createView(2+e.length);t.setUint8(0,5);for(var n=0;n<e.length;n++)t.setUint8(1+n,e.charCodeAt(n));t.setUint8(e.length+1,0),this.sendMessage(t)}function Ri(e){if(this.isSocketOpen()&&(this.isAgario||!this.estabilished||this.isRaga)){var t=new Uint8Array;Array.isArray(e)?(8==e[0]&&e.unshift(102),t=new Uint8Array(e)):8===e[0]?((t=new Uint8Array(e.length+1)).set([102]),t.set(e,1)):t=new Uint8Array(e),this.sendMessage(new DataView(t.buffer))}}function Ei(e){var t=e.readUInt32(),n=new Uint8Array(t),r=new Uint8Array(e.view.buffer.slice(5));re.C.uncompressMessage(r,n),e.offset=0,e.view=new DataView(n.buffer)}function Mi(e){return String.fromCharCode(e)}function Ai(e){return String.fromCharCode(e)}function ji(e){var t=this,n=e.readUInt8();switch(n){case 5:if(e.view.byteLength>1){var r=e.readUInt16(),o=e.readUTF8StringLength();console.error(r,o)}break;case 17:this.protocol_viewX=this.viewX=this.receiveX(e.readFloat32()),this.protocol_viewY=this.viewY=this.receiveY(e.readFloat32()),this.protocol_spect_scale=e.readFloat32();break;case 18:this.protocol.readRotateProtocolKey();break;case 32:var i=e.readUInt32();this.isSpectateEnabled=!1,this.unitManager.activeUnit.addCellID(i);break;case 49:this.leaderboard=[],this.playerPosition=0;for(var a=0,s=e.readUInt32();s>a;a++){var u,c=0;1==(c=e.readUInt32())&&(c="isPlayer",this.playerPosition=a),u=decodeURIComponent(escape(e.readUTF8StringZero())),this.leaderboard.push({nick:u,id:c,isFriend:!1})}this.emit("leaderboard",this);break;case 50:this.pieChart=[];for(var l=e.readUInt32(),f=0;f<l;f++){var h=e.readFloat32(),d=e.readUInt8(),p=e.readUInt8(),v=e.readUInt8(),y=(new Yn.Z).fromINT(d<<16|p<<8|v).getHEX();this.pieChart.push([h,y])}this.emit("piechart",this);break;case 54:case 53:this.leaderboard=[],this.playerPosition=0,54==n&&e.readUInt16();for(var m=0;e.offset<e.view.byteLength;){var g="",b=0,w=!1;m++,2&(U=e.readUInt8())&&(g=window.decodeURIComponent(window.escape(e.readUTF8StringZero()))),4&U&&(b=e.readUInt32()),8&U&&(g=this.unitManager.activeUnit.nick,b="isPlayer",this.playerPosition=m),16&U&&(w=!0),this.isRaga&&g.indexOf("raga")>-1&&(g="www.raga.pw"),this.leaderboard.push({nick:g,id:b,isFriend:w})}this.emit("leaderboard",this),1===this.playerPosition&&(this.ghostCellsStep++,this.quadrant=this.calcQuadrant(this.protocol_viewX,this.protocol_viewY),this.realQuadrant=this.calcQuadrant(this.flipX(this.protocol_viewX),this.flipY(this.protocol_viewY)),this.emit("quadrant",this.quadrant),1==this.ghostCellsStep&&3!==this.modeInt&&this.emit("requestQuadrant",this));break;case 69:var _=e.readUInt16();for(this.ghostCells=[],this.ghostCellsStep++,f=0;f<_;f++){var k=e.readInt32(),S=e.readInt32(),T=e.readUInt32();e.readUInt8(),this.ghostCells.push({x:this.receiveX(k),y:this.receiveY(S),rx:this.shiftX(this.shrinkX(k)),ry:this.shiftY(this.shrinkY(S)),name:this.leaderboard[f]?this.leaderboard[f].nick:"",size:~~Math.sqrt(100*T),mass:T,inView:!1})}if(1==this.ghostCellsStep&&this.ghostCells[0]&&(this.log("Ready for reflection"),this.quadrant=this.calcQuadrant(this.ghostCells[0].x,this.ghostCells[0].y),this.realQuadrant=this.calcQuadrant(this.ghostCells[0].rx,this.ghostCells[0].ry)),this.ghostCells[0]){this.quadrant=this.calcQuadrant(this.ghostCells[0].x,this.ghostCells[0].y);var x=this.calcQuadrant(this.ghostCells[0].rx,this.ghostCells[0].ry);x!==this.realQuadrant&&4!==x&&(this.realQuadrant=x,this.emit("quadrant",this.quadrant))}else this.quadrant=null;1==this.ghostCellsStep&&this.ghostCells[0]&&3!==this.modeInt&&this.emit("requestQuadrant",this),this.emit("ghostCells",this);break;case 85:this.gotCaptcha=!0,this.log("Captcha requested"),this.emit("requestV2",this,(function(e){t.sendRecaptcha(e)}));break;case 87:this.gotCaptchа=!0,this.log("Captcha requested"),this.emit("requestV3",this,(function(e){t.sendRecaptchа(e)}));break;case 99:this.log("got 99");var U=e.readUInt8(),C=((new Yn.Z).fromRGB(e.readUInt8()<<16|e.readUInt8()<<8|e.readUInt8()).getHEX(),decodeURIComponent(escape(e.readUTF8StringZero()))),I=decodeURIComponent(escape(e.readUTF8StringZero())),P=!!(128&U),O=!!(64&U),R=!!(32&U);this.log(P,O,R,C,I);break;case 102:if(this.isRaga)break;this.emit("mobiledata",new Uint8Array(e.view.buffer.slice(1)));var E=new to(e.view,e.offset);if(1==(U=E.readFlag())&&E.setContentType(),2==(U=E.readFlag())&&E.setUncompressedSize(),1==(U=E.readFlag())){var M=E.readUint32();switch(E.readFlag(),E.readUint32(),M){case 20:var A=Array.from(new Uint8Array(e.view.buffer)).map(Mi).join(""),j=e.view.getUint8(e.view.byteLength-1);console.log("Disconnected by server"),this.disconnectMessage(j),this.loggedIn=!1,this.emit("logout",j);break;case 11:this.loggedIn=!0,this.emit("loggedIn",this);break;case 62:A=Array.from(new Uint8Array(e.view.buffer)).map(Ai).join(""),this.log(A)}}break;case 103:this.accessTokenSent=!0;break;case 104:case 160:case 161:break;case 112:this.error("The Agar.io is cannot to authorize you. Timeout");break;case 113:this.log("113, 2 and disconnect",e);break;case 114:this.isFreeSpectate=!1,this.isSpectateEnabled=!1,"crasher"!=this.tabName&&(toastr.error(this.tabName+": Spectate mode is full"),this.error("[Agario] Spectate mode is full"));break;case 128:this.error("Outdated client (miniclip)");break;case 176:this.battleRoyale.startTime=e.readUInt32(),this.emit("mc:btr:startTime",this),this.log("this.battleRoyale.startTime",this.battleRoyale.startTime);break;case 177:this.battleRoyale.joined=!0,this.emit("mc:btr:joined",this),this.log("this.battleRoyale.joined",this.battleRoyale.joined);break;case 178:var L=this.battleRoyale.state;this.battleRoyale.players=e.readUInt16(),(U=e.readUInt16())||(this.battleRoyale.state=0,this.battleRoyale.joined=!1),3&U&&(this.battleRoyale.state=e.readUInt8(),this.battleRoyale.x=this.receiveX(e.readInt32()),this.battleRoyale.y=this.receiveY(e.readInt32()),this.battleRoyale.radius=e.readUInt32(),this.battleRoyale.shrinkTime=1e3*e.readUInt32(),this.battleRoyale.shrinkTime&&(this.battleRoyale.timeLeft=~~((this.battleRoyale.shrinkTime-Date.now()+this.serverTimeDiff)/1e3),this.battleRoyale.timeLeft<0&&(this.battleRoyale.timeLeft=0))),2&U&&(this.battleRoyale.targetX=this.receiveX(e.readInt32()),this.battleRoyale.targetY=this.receiveY(e.readInt32()),this.battleRoyale.targetRadius=e.readUInt32(),this.emit("mc:btr:target",this.battleRoyale.targetX,this.battleRoyale.targetY,this.battleRoyale.targetRadius)),L!==this.battleRoyale.state&&(console.log("BTR state",this.battleRoyale.state,"prev:",L),this.emit("mc:btr:state",this,L));break;case 179:e.readUInt8();e.readUInt8(),decodeURIComponent(escape(e.readUTF8StringZero())),e.readBytes(6),decodeURIComponent(escape(e.readUTF8StringZero()));break;case 180:this.battleRoyale.joined=!1,this.battleRoyale.rank=[],this.battleRoyale.playerRank=e.readUInt32(),e.readUInt32();var F=e.readUInt16();for(_=0;_<F;_++){var D=window.decodeURIComponent(window.escape(e.readUTF8StringZero())),K=e.readUInt32();this.battleRoyale.rank.push({place:K,name:D})}e.offset=0,this.emit("mc:btr:results"),this.log("Battleroyale results",this.battleRoyale.rank,e);break;case 226:var X=e.readUInt16(),B=this.createView(3);B.setUint8(0,227),B.setUint16(1,X),this.sendMessage(B),this.emit("pongRequest");break;case 240:this.log("240: Maybe server closing",e);break;case 196:this.log("Opcode 196. Freeze cell and disconnect",e);break;case 241:this.protocol.readChiperKey&&this.protocol.readChiperKey(e),this.emit("chiper"),this.estabilished=!0,this.emit("estabilished",this),this.log("Received protocol key:",this.protocol.protocolKey," Server version:",this.protocol.serverVersion);break;case 242:this.serverTime=1e3*e.readUInt32(),this.serverTimeDiff=Date.now()-this.serverTime;break;case 254:this.log("254 BTR сервер рестарт?");break;case 255:this.handleCompressedMessage(e);break;case 16:this.updateCells(e),this.countPps();break;case 64:this.viewMinX=e.readFloat64(),this.viewMinY=e.readFloat64(),this.viewMaxX=e.readFloat64(),this.viewMaxY=e.readFloat64();try{e.offset+=4;var N=e.readUTF8StringZero();N&&(this.estabilished=!0,this.emit("estabilished",this),this.log("Server version:",N))}catch(e){this.log("We can'n read text")}this.gameMode=":party",this.emit("gameMode",this),this.setMapOffset(this.viewMinX,this.viewMinY,this.viewMaxX,this.viewMaxY);break;default:this.log("Unknown opcode:",n,e)}}function Li(e){var t="";switch(e){case 1:t="User disconnected. Incompatible client";break;case 2:t="User disconnected. Packet not authorized";break;case 3:t="User disconnected. Login elsewhere";break;case 4:t="User disconnected. Server offline";break;case 5:t="User disconnected. User banned";break;case 6:t="User disconnected. Ping error";break;case 7:t="User disconnected. Unknown game type";break;case 8:t="User disconnected. Too many operations";break;case 9:t="User disconnected. Unreachable realm";break;case 10:t="User disconnected. User deleted";break;case 11:t="User disconnected. Not authorized by realm";break;case 12:t="User disconnected. Bad request";break;case 13:t="User disconnected. Reset by peer";break;case 14:t="User disconnected. Invalid token";break;case 15:t="User disconnected. Expired token";break;case 16:t="User disconnected. State transfer error";break;default:t="User disconnected. Unknown error: "+e}toastr.error(this.tabName+": "+t),this.error("Agario:",t)}function Fi(){if(this.ppsSampler.step(),m.Xd.proxy.showStatsPPS){var e=Date.now();this.ppsLastRequest||(this.ppsLastRequest=e),e-this.ppsLastRequest>=1e3&&(this.pps=this.totalPps,this.totalPps=0,this.ppsLastRequest=e),this.totalPps++}}function Di(e){this.decompressMessage(e);var t=e.readUInt8();switch(t){case 16:e.offset=0,this.handleMessage(e);break;case 64:if(this.viewMinX=e.readFloat64(),this.viewMinY=e.readFloat64(),this.viewMaxX=e.readFloat64(),this.viewMaxY=e.readFloat64(),e.view.byteLength>e.offset){var n=e.readUInt8();switch(this.modeInt=n,n){case 1:this.gameMode=":ffa";break;case 6:this.gameMode=":battleroyale";break;case 3:this.gameMode=":party";break;case 4:this.gameMode=":experimental";break;case 5:this.gameMode=":teams";break;default:this.log("Unknown gameMode",this.modeInt),this.gameMode=":party"}}this.emit("gameMode",this),this.setMapOffset(this.viewMinX,this.viewMinY,this.viewMaxX,this.viewMaxY);break;default:this.log("[Connection] Unknown sub opcode:",t,e)}}function Ki(e){return e/this.mapShrinkW}function Xi(e){return e/this.mapShrinkH}function Bi(e){return e*this.mapShrinkW}function Ni(e){return e*this.mapShrinkH}function zi(e){return e- -this.mapShiftX}function qi(e){return e- -this.mapShiftY}function Hi(e,t){return t?e:e-this.mapShiftX}function Wi(e,t){return t?e:e-this.mapShiftY}function Gi(e){return this.mirrorH?e:this.mapMaxX-(e-this.mapMinX)}function Vi(e){return this.mirrorV?e:this.mapMaxY-(e-this.mapMinY)}function Yi(e){return this.mirrorH?this.mapMaxX-(e-this.mapMinX):e}function Zi(e){return this.mirrorV?this.mapMaxY-(e-this.mapMinY):e}function Qi(e){return e=this.shrinkX(e),e=this.shiftX(e),this.flipX(e)}function Ji(e){return e=this.shrinkY(e),e=this.shiftY(e),this.flipY(e)}function $i(e){return e=this.flipX(e),e=this.unshiftX(e),this.unshrinkX(e)}function ea(e){return e=this.flipY(e),e=this.unshiftY(e),this.unshrinkY(e)}function ta(e,t){if(0==this.ghostCellsStep)return this.error("Can't set quadrant","Connected",this.socketOpened,"estabilished",this.estabilished),!1;if(e!==this.quadrant){var n=!1,r=!1,o=this.realQuadrant;return 0==e&&(n=!1,r=!1),0==o?(n=2==e||3==e,r=1==e||2==e):1==o?(n=2==e||3==e,r=0==e||3==e):2==o?(n=1==e||0==e,r=0==e||3==e):3==o&&(n=1==e||0==e,r=1==e||2==e),this.flipCells(n,r),this.mirrorV=n,this.mirrorH=r,this.quadrant=e,!0}}function na(e,t){for(var n in this.indexedCells){var r=this.indexedCells[n];r.x=t?this.invflipX(r.x):this.flipX(r.x),r.y=e?this.invflipY(r.y):this.flipY(r.y),r.targetX=t?this.invflipX(r.targetX):this.flipX(r.targetX),r.targetY=e?this.invflipY(r.targetY):this.flipY(r.targetY)}}function ra(e,t){return void 0===e&&null==t&&(e=this.protocol_viewX,t=this.protocol_viewY),e<this.mapMidX+5&&e>this.mapMidX-5||t<this.mapMidY+5&&t>this.mapMidY-5?4:e>=this.mapMidX&&t<this.mapMidY?0:e<this.mapMidX&&t<this.mapMidY?1:e<this.mapMidX&&t>=this.mapMidY?2:3}function oa(){this.playerMass=0,this.playerScore=0}function ia(){Object.assign(this.counter,{eatenSize:0,eatVirus:0,eatPellet:0,counterAll:0,counterShit:0,counterShit2:0,playerSpawnTime:0,counterScore:0})}function aa(){for(var e in this.ping=0,this.playerAID=0,this.player_protocol_skin="",this.estabilished=!1,this.isFreeSpectate=!1,this.isSpectateEnabled=!1,this.spectateTargetCell=null,this.quadrant=null,this.realQuadrant=null,this.mirrorH=!1,this.mirrorV=!1,this.ghostCellsStep=0,this.mapShrinkW=1,this.mapShrinkH=1,this.bound={left:0,right:0,top:0,bottom:0},this.gameMode=":party",this.modeInt=3,this.ghostCells=[],this.indexedCells){var t=this.indexedCells[e];this.removeCell(t)}}function sa(){for(var e in this.indexedCells){var t=this.indexedCells[e];this.removeCell(t)}}function ua(e,t,n,r){if(n-e>14e3&&r-t>14e3||!this.isAgario){if(this.mapOffsetFixed)return;this.isAgario&&!this.isRaga&&(this.mapShrinkW=14142/(n-e),this.mapShrinkH=14142/(r-t),e=this.shrinkX(e),t=this.shrinkY(t),n=this.shrinkX(n),r=this.shrinkY(r)),this.mapShiftY=0,this.mapShiftX=0;var o=-(n-e)/2-e,i=-(r-t)/2-t;this.mapShiftX=-o,this.mapShiftY=-i,e=this.shiftX(e),t=this.shiftY(t),n=this.shiftX(n),r=this.shiftY(r),this.mapOffsetX=(n-e)/2-n,this.mapOffsetY=(r-t)/2-r,this.mapMinX=e,this.mapMinY=t,this.mapMaxX=n,this.mapMaxY=r,this.mapMidX=(this.mapMaxX+this.mapMinX)/2,this.mapMidY=(this.mapMaxY+this.mapMinY)/2,this.mapSizeH=this.mapMaxX-this.mapMinX,this.mapSizeV=this.mapMaxY-this.mapMinY,this.mapOffsetFixed||(this.viewX=(n+e)/2,this.viewY=(r+t)/2),this.mapOffsetFixed=!0,this.log("World size:",~~this.mapSizeH,"x",~~this.mapSizeV),this.emit("offset",this,this.gameMode,this.mapSizeH,this.mapSizeV,this.mapOffset,this.mapMinX,this.mapMinY,this.mapMaxX,this.mapMaxY,this.mapMidX,this.mapMidY)}else this.viewportMinX=this.receiveX(e),this.viewportMinY=this.receiveY(t),this.viewportMaxX=this.receiveX(n),this.viewportMaxY=this.receiveY(r)}function ca(){this.bound.left=Number.MAX_SAFE_INTEGER,this.bound.right=Number.MIN_SAFE_INTEGER,this.bound.top=Number.MAX_SAFE_INTEGER,this.bound.bottom=Number.MIN_SAFE_INTEGER}function la(e){this.bound.left>e.targetX+e.size&&(this.bound.left=e.targetX+e.size),this.bound.right<e.targetX-e.size&&(this.bound.right=e.targetX-e.size),this.bound.top>e.targetY+e.size&&(this.bound.top=e.targetY+e.size),this.bound.bottom<e.targetY-e.size&&(this.bound.bottom=e.targetY-e.size)}function fa(e){var t=e.targetX,n=e.targetY,r=this.bound;return!(t+e.size<r.left||t-e.size>r.right||n+e.size<r.top||n-e.size>r.bottom)}function ha(e){var t=e.x,n=e.y,r=this.bound;return!(t+e.size<r.left||t-e.size>r.right||n+e.size<r.top||n-e.size>r.bottom)}function da(e){var t,n=0,r=1,o=.4000000059604645,i=this.isAgario?.98:1;if((null===(t=this.unitManager.activeUnit)||void 0===t?void 0:t.cells.length)>0){for(var a,s=null===(a=this.unitManager.activeUnit)||void 0===a?void 0:a.cells.length;s--;){var u;n+=null===(u=this.unitManager.activeUnit)||void 0===u?void 0:u.cells[s].size}r=Math.pow(Math.min(64/(n*i),1),o),this.protocol_spect_scale=r}else{var c=64/Math.pow(this.protocol_spect_scale,1/o);r=Math.pow(Math.min(64/(c*i),1),o)}this.viewportW2s=1024/r/2*1.995,this.viewportH2s=600/r/2*1.995,e&&(this.bound.left=this.protocol_viewX-this.viewportW2s,this.bound.top=this.protocol_viewY-this.viewportH2s,this.bound.right=this.protocol_viewX+this.viewportW2s,this.bound.bottom=this.protocol_viewY+this.viewportH2s)}function pa(e,t,n){return!(e+n<this.protocol_viewX-this.viewportW2s||t+n<this.protocol_viewY-this.viewportH2s||e-n>this.protocol_viewX+this.viewportW2s||t-n>this.protocol_viewY+this.viewportH2s)}function va(e){var t=e.targetX,n=e.targetY,r=e.targetSize;return!(t+r<this.bound.left||n+r<this.bound.top||t-r>this.bound.right||n-r>this.bound.bottom)}function ya(e,t,n){return!(e+n<this.bound.left||t+n<this.bound.top||e-n>this.bound.right||t-n>this.bound.bottom)}function ma(e,t,n){var o=r.wU.stage.canvasWidth/2/this.scale,i=r.wU.stage.canvasHeight/2/this.scale;return!(e+n<this.viewX-o||t+n<this.viewY-i||e-n>this.viewX+o||t-n>this.viewY+i)}function ga(e){var t=e.match(/.{8}-.{4}-.{4}-.{4}-.{12}/);return t?t[0]:null}function ba(e,t){e&&t?(this.isAgario&&this.unitManager.activeUnit.hasCellID(e.id)&&(t.isPlayerFood||this.unitManager.activeUnit.hasCellID(t.id)||(this.counter.eatenMass+=~~(t.targetSize*t.targetSize/100)),t.type===$r.Type.virus&&this.counter.eatVirus++,t.type===$r.Type.food&&this.counter.eatPellet++,t.type===$r.Type.food||t.type===$r.Type.virus||t.isPlayerFood||this.counter.counterAll++,t.isPlayerCell||t.type===$r.Type.virus||t.isPlayerFood||this.counter.counterShit++),t.eatenBy=e,this.removeCell(t,e._colorInt===t._colorInt?$r.RemoveReason.merged:$r.RemoveReason.eaten),this.isAgario&&t.isPlayerCell&&0===this.unitManager.activeUnit.cells.length&&this.spectateTo(e),this.spectateTargetCell&&this.calcCellHash(this.spectateTargetCell)===this.calcCellHash(t)&&(this.lastSpectateTargetCellEater=e),t.type===$r.Type.virus&&(this.playerCellsLengthBeforeVirusEat>=16?this.emit("sfx","virusEat",t,this):e.isPlayerCell&&this.emit("sfx","virusPop",t,this))):this.removeCell(t)}function wa(){}function _a(){var e;if(this.cells_update_tick++,this.calculateViewPoint(),this.isAgario&&!this.isRaga)this.calcViewport(!0);else{this.resetBound();for(var t=this.foods.length;t--;)this.updateStaticBound(this.foods[t]);for(var n=this.cells.length;n--;)this.updateStaticBound(this.cells[n])}null===(e=this.unitManager.activeUnit)||void 0===e||e.compareCells(),0==this.play&&null!==this.spectateTargetCell&&this.calculateSpectateTarget()}function ka(e){this.beforeUpdateCells();for(var t=e.readUInt16();t--;){var n=this.indexedCells[e.readUInt32()],r=this.indexedCells[e.readUInt32()];this.eatCellEvent(n,r)}for(;;){var o=e.readUInt32();if(0==o)break;var i=!1,a=null,s=255,u=255,c=null,l="",f=!1,h=!1,d=null,p=null,v=null,y=this.receiveX(e.readInt32()),g=this.receiveY(e.readInt32()),b=e.readUInt16(),w=e.readUInt8(),_=128&w?e.readUInt8():0;if(1&w&&(f=!0),2&w){var k=e.readUInt8(),S=e.readUInt8(),T=e.readUInt8();32&w&&!(64&w)&&this.isAgario&&!this.isRaga?(s=this.unitManager.activeUnit.colorInt,u=this.unitManager.activeUnit.secureColor):1&_?(s=this.HSLToInt(Math.abs((y%360<<314159)%360),100,51),u=this.HSLToInt(Math.abs((y%360<<314159)%360),95,46)):(s=k<<16|S<<8|T,u=new Yn.Z(~~(.9*k),~~(.9*S),~~(.9*T)).getInt())}4&w&&(c=e.readUTF8StringZero()),8&w&&(l=decodeURIComponent(escape(e.readUTF8StringZero()))),32&w&&(d=!0),64&w&&(p=!0),1&_&&(h=!0),4&_&&(v=e.readUInt32(),3!==this.modeInt&&5!==this.modeInt&&(s=this.HSLToInt(Math.abs((v%360<<314159)%360),100,51),u=this.HSLToInt(Math.abs((v%360<<314159)%360),95,46)));var x,U=h?$r.Type.food:f?$r.Type.virus:$r.Type.cell;if(this.isRaga&&l.indexOf("raga")>-1&&(l="www.raga.pw"),this.indexedCells[o]?a=this.indexedCells[o]:(i=!0,(a=new $r(this,U,o,y,g,b,s,u)).isPlayerFood=d||!this.isAgario&&(null===(x=this.unitManager.activeUnit)||void 0===x?void 0:x.colorInt)===a._colorInt,a.isOtherFood=p,h?this.foods.push(a):f?(m.Xd.proxy.virusesRange&&this.viruses.push(a),this.cells.push(a)):(d&&!p&&this.emit("sfx","myEject",a),this.cells.push(a)),this.indexedCells[o]=a),c&&(a.hasVanillaCustomSkin=c.indexOf("%custom")>-1,c.includes("%rm_")&&(a.hasUrlSkin=!0,c="https://minions.raga.pw/ragamode/skins/normal/"+c.slice(1)),a.skin=c.replace(/level_\d/,"level_1"),a.skinUserId=this.getCustomSkinId(c)),this.unitManager.activeUnit&&this.unitManager.activeUnit.hasCellID(o)&&!this.unitManager.activeUnit.hasCell(a)){var C=this.unitManager.activeUnit;l=C.profile.nick,C.play||(this.resetCounter(),this.counter.playerSpawnTime=this.time),C.addCell(a)}if(a.type!==$r.Type.food&&a.type!==$r.Type.virus&&null===a.playerOriginUnit){var I=null!==v?this.parent.findUnitOrigin(this,v,null):this.parent.findUnitOrigin(this,null,o);null!==I&&(a.playerOriginUnit=I)}v&&(a.accountID=v,a.isPlayerCell&&(c&&(this.player_protocol_skin=c),this.playerAID=v),this.cellAID.hasOwnProperty(v)?this.cellAID[v].push(o):this.cellAID[v]=[o]),a.targetX=y,a.targetY=g,a.targetSize=b,a.isPlayerCell&&a.calcAnti(b),l&&(a.targetNick=l,a.nameSkin=l.toLowerCase(),a.hasVanillaNamedSkin=!!Vn.x.vanillaSkinMap.get(a.nameSkin)),a.type!==$r.Type.virus&&a.targetSize!=b&&a.size<148&&this.emit("sfx","virusFeed",a,this),i&&this.emit("newCell",a)}for(var P=e.readUInt16();P--;){var O=e.readUInt32(),R=this.indexedCells[O];R&&this.removeCell(R)}this.afterUpdateCells()}function Sa(){}function Ta(){}function xa(){}function Ua(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$r.RemoveReason.delete;if(e.removed=!0,e.removedReason=t,e.fadeOutStartTime=i.X.runtime,i.X.runtime,null!==e.unitId){var n=this.unitManager.getUnit(e.unitId);n&&(n.removeCell(e),n.removeCellID(e.id))}var r=this.cells.indexOf(e);if(-1!=r){if(this.cells.splice(r,1),this.cellAID.hasOwnProperty(e.accountID)){var o=this.cellAID[e.accountID].indexOf(e.id);-1!=o&&(this.cellAID[e.accountID].splice(o,1),0==this.cellAID[e.accountID].length&&delete this.cellAID[e.accountID])}~(r=this.viruses.indexOf(e))&&this.viruses.splice(r,1)}else(r=this.foods.indexOf(e))>-1&&qa(this.foods,r);this.emit("removeCell",e),delete this.indexedCells[e.id]}function Ca(e,t,n){t/=100,n/=100;var r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e/60%2-1)),i=n-r/2,a=0,s=0,u=0;return 0<=e&&e<60?(a=r,s=o,u=0):60<=e&&e<120?(a=o,s=r,u=0):120<=e&&e<180?(a=0,s=r,u=o):180<=e&&e<240?(a=0,s=o,u=r):240<=e&&e<300?(a=o,s=0,u=r):300<=e&&e<360&&(a=r,s=0,u=o),(a=Math.round(255*(a+i)))<<16|(s=Math.round(255*(s+i)))<<8|Math.round(255*(u+i))}function Ia(e,t,n){t/=100,n/=100;var r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e/60%2-1)),i=n-r/2,a=0,s=0,u=0;return 0<=e&&e<60?(a=r,s=o,u=0):60<=e&&e<120?(a=o,s=r,u=0):120<=e&&e<180?(a=0,s=r,u=o):180<=e&&e<240?(a=0,s=o,u=r):240<=e&&e<300?(a=o,s=0,u=r):300<=e&&e<360&&(a=r,s=0,u=o),a=Math.round(255*(a+i)).toString(16),s=Math.round(255*(s+i)).toString(16),u=Math.round(255*(u+i)).toString(16),1==a.length&&(a="0"+a),1==s.length&&(s="0"+s),1==u.length&&(u="0"+u),"#"+a+s+u}function Pa(e,t){return e.size==t.size?e.id-t.id:e.size-t.size}function Oa(){this.cells.sort(Pa)}function Ra(e){return e.type===$r.Type.virus||e.type===$r.Type.food?e._colorInt:this.isAgario?e.accountID:e.targetNick+e._colorInt}function Ea(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.spectateTargetCell,t=this.calcCellHash(e),n=0,r=0,o=0,i=0,a=0,s=0,u=this.cells.length;u--;){var c=this.cells[u];t===this.calcCellHash(c)&&(s++,c.size,n+=c.targetSize,c.x,c.y,r+=c.targetX,o+=c.targetY,c.x,c.size,c.y,c.size,i+=c.targetX*c.targetSize,a+=c.targetY*c.targetSize)}s>0?(r/=s,o/=s,m.Xd.proxy.centerWeightCamera?(this.targetX=i/n,this.targetY=a/n):(this.targetX=r,this.targetY=o)):this.lastSpectateTargetCellEater&&this.spectateTo(this.lastSpectateTargetCellEater)}function Ma(){var e,t=Ur(this.unitManager.units);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.play&&(n.calculateUnitMassAndPosition(),this.viewX=n.view.x,this.viewY=n.view.y,this.protocol_viewX=n.protocol_view.x,this.protocol_viewY=n.protocol_view.y)}}catch(e){t.e(e)}finally{t.f()}}function Aa(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.cells.length;r--;){var o=this.cells[r],i=n?o.x:o.targetX,a=n?o.y:o.targetY,s=n?o.size:o.targetSize,u=(e-i)*(e-i)+(t-a)*(t-a);if(u<=s*s)return o}}function ja(){if(this.protocol.hasPause)return this.protocol.sendPause(!0);this.targetX=this.protocol_viewX,this.targetY=this.protocol_viewY}function La(){this.emit("removeEvents"),this.unlisten()}var Fa=function(e){Ir(a,e);var t,n=Or(a);function a(e,t,s){var u;Ar(this,a),(u=n.call(this)).realm_events=new o.aN,u.unitManager=new po(r.wU),u.once("removeEvents",u.unitManager.removeAllUnits.bind(u.unitManager)),u.tabName=s,u.ID=Kr++,u.TYPE=t,u.indexPosition=null,u.parent=e,u.log=console.log,u.error=console.error,u.trace=console.trace,u.isDebug=!0,(0,o.qc)(!0,Er(u),"[[35mClient "+u.ID+"[39m]:"),u.profile=new Yo,u.mobileData=new ne(Er(u)),u.protocol=null,u.socket=null,u.socketOpened=!1,u.connectionTime=(new Date).getTime(),u.ws=null,u.time=i.X.runtime,u.isAgario=!0,u.isFreeSpectate=!1,u.isSpectateEnabled=!1,u.spectateTargetCell=null,u.lastSpectateTargetCellEater=null;var c=oi();function l(){var e,t=0,n=Ur(u.unitManager.units);try{for(n.s();!(e=n.n()).done;)e.value.play&&t++}catch(e){n.e(e)}finally{n.f()}t>0&&0==u.play&&(u.play=!0,u.emit("spawn"))}return u.bandwidthSampler=new Array(25).fill(0),u.ppsSampler=new c,u.totalPps=0,u.ppsLastRequest=null,u.pps=0,u.ping=0,u.gameMode=null,u.modeInt=3,u.gotCaptcha=!1,u.gotCaptchа=!1,u.estabilished=!1,u.accessTokenSent=!1,u.loggedIn=!1,u.serverTime=0,u.serverTimeDiff=0,u.loggedInTime=0,u.quadrant=null,u.realQuadrant=null,u.quadrantPriorityFix=0,u.mirrorV=!1,u.mirrorH=!1,u.ghostCellsStep=0,u.mapSizeH=14142,u.mapSizeV=14142,u.mapOffset=7071,u.mapOffsetX=0,u.mapOffsetY=0,u.mapShiftX=0,u.mapShiftY=0,u.mapOffsetFixed=!1,u.mapMinX=-7071,u.mapMinY=-7071,u.mapMaxX=7071,u.mapMaxY=7071,u.mapShrinkW=1,u.mapShrinkH=1,u.mapMidX=0,u.mapMidY=0,u.viewMinX=0,u.viewMinY=0,u.viewMaxX=0,u.viewMaxY=0,u.bound={left:0,right:0,top:0,bottom:0},u.viewportW2s=0,u.viewportH2s=0,u.cellAID={},u.indexedCells={},u.cells=[],u.removedCells=[],u.foods=[],u.viruses=[],u.ghostCells=[],u.playerAID=0,u.playerPosition=0,u.stores=new Yt.cR,u.leaderboard=[],u.scale=1,u.viewX=0,u.viewY=0,u.protocol_spect_scale=1.995,u.protocol_viewX=0,u.protocol_viewY=0,u._danceTimer=null,u._danceStep=0,u._cursorLocked=!1,u.cursorX=0,u.cursorY=0,u.targeting=!1,u.targetX=0,u.targetY=0,u.targetDistance=0,u.battleRoyale={state:0,players:0,startTime:0,shrinkTime:0,timeLeft:0,x:0,y:0,radius:0,targetX:0,targetY:0,targetRadius:0,maxRadius:11313,rank:[],playerRank:0,joined:!1},u.play=!1,u.pause=!1,u.playerCellsLengthBeforeVirusEat=0,u.splitCount=0,u.counter=(0,o.fC)({eatenMass:0,eatVirus:0,eatPellet:0,counterAll:0,counterShit:0,counterShit2:0,playerSpawnTime:0,counterScore:0}),u.resetCounter(),u.on("death",(function(){u.resetPlayerStats()})),u.initMainEvents(),u.on("removeEvents",(function(){u.unlisten(),clearInterval(u._danceTimer)})),u.unitManager.on("add",(function(e){e.on("spawn",l),e.on("death",(function(){var t,n=0,r=Ur(u.unitManager.units);try{for(r.s();!(t=r.n()).done;)t.value.play&&n++}catch(e){r.e(e)}finally{r.f()}n>1&&console.log("need to switch unit"),0==n&&1==u.play&&(u.play=!1,u.emit("death")),u.emit("death:any",e)}))})),u}return Lr(a,[{key:"initMainEvents",value:ii},{key:"connect",value:ui()},{key:"disconnect",value:ci},{key:"onOpen",value:li},{key:"sleep",value:fi},{key:"onError",value:hi},{key:"onClose",value:di},{key:"closeConnection",value:pi},{key:"isSocketOpen",value:vi},{key:"writeUint32",value:yi},{key:"createView",value:mi},{key:"sendBuffer",value:gi},{key:"sendMessage",value:bi},{key:"spectateTo",value:wi},{key:"spectatePoint",value:_i},{key:"sendSpectate",value:ki},{key:"sendFreeSpectate",value:Si},{key:"sendCursorPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.unitManager.activeUnit,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.cursorX,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cursorY;if(this.isSocketOpen()&&(this.protocol.encryptionKey||!this.isAgario)){var r=t,i=n;(this.TYPE===a.Type.REGION||!this.play&&null!==this.spectateTargetCell&&this.isFreeSpectate&&this.isSpectateEnabled||o.d8.pause&&!this.protocol.hasPause||this._cursorLocked)&&(r=this.targetX,i=this.targetY),r=this.serverX(r),i=this.serverY(i),this.protocol.sendCursorPosition(r,i,e)}}},{key:"sendAccessToken",value:(t=xr(regeneratorRuntime.mark(xi)),function(e,n,r){return t.apply(this,arguments)})},{key:"sendFbToken",value:Ui},{key:"sendGplusToken",value:Ci},{key:"sendRecaptcha",value:Ii},{key:"sendRecaptchа",value:Pi},{key:"sendFacebookData",value:Oi},{key:"proxyMobileData",value:Ri},{key:"decompressMessage",value:Ei},{key:"handleMessage",value:ji},{key:"disconnectMessage",value:Li},{key:"countPps",value:Fi},{key:"handleCompressedMessage",value:Di},{key:"unshrinkX",value:Ki},{key:"unshrinkY",value:Xi},{key:"shrinkX",value:Bi},{key:"shrinkY",value:Ni},{key:"unshiftX",value:zi},{key:"unshiftY",value:qi},{key:"shiftX",value:Hi},{key:"shiftY",value:Wi},{key:"invflipX",value:Gi},{key:"invflipY",value:Vi},{key:"flipX",value:Yi},{key:"flipY",value:Zi},{key:"receiveX",value:Qi},{key:"receiveY",value:Ji},{key:"serverX",value:$i},{key:"serverY",value:ea},{key:"setQuadrant",value:ta},{key:"flipCells",value:na},{key:"calcQuadrant",value:ra},{key:"resetPlayerStats",value:oa},{key:"resetCounter",value:ia},{key:"flushGameData",value:aa},{key:"flushCells",value:sa},{key:"setMapOffset",value:ua},{key:"resetBound",value:ca},{key:"updateStaticBound",value:la},{key:"isInViewHSLO",value:fa},{key:"isInViewGhost",value:ha},{key:"calcViewport",value:da},{key:"isInViewport",value:pa},{key:"isInViewport2",value:va},{key:"isInBounds",value:ya},{key:"isInView",value:ma},{key:"getCustomSkinId",value:ga},{key:"eatCellEvent",value:ba},{key:"beforeUpdateCells",value:wa},{key:"afterUpdateCells",value:_a},{key:"updateCells",value:ka},{key:"cell_added",value:Sa},{key:"cell_updated",value:Ta},{key:"cell_deleted",value:xa},{key:"removeCell",value:Ua},{key:"HSLToInt",value:Ca},{key:"HSLToHex",value:Ia},{key:"sortCellsBySize",value:Oa},{key:"calcCellHash",value:Ra},{key:"calculateSpectateTarget",value:Ea},{key:"calculateViewPoint",value:Ma},{key:"findCell",value:Aa},{key:"resetTargetPosition",value:ja},{key:"removeEvents",value:La}]),a}(o.aN);function Da(e,t){if(0===m.rS.raw.cellBrightness.value&&0===m.rS.raw.cellSaturation.value)return t;if(this.cache.has(e))return(r=this.cache.get(e)).lastused=i.X.runtime,r.color;var n=tinycolor(t);n.brighten(m.rS.raw.cellBrightness.value),n.saturate(m.rS.raw.cellSaturation.value);var r={color:n.toHexString(),r:n._r,g:n._g,b:n._b,lastused:i.X.runtime};return this.cache.set(t,r),r}function Ka(e,t){var n=null;if(this.cache.has(e+t))return(n=this.cache.get(e+t)).lastused=i.X.runtime,n.color;var r=tinycolor(e);switch(t){case"cellcolor":n={color:{r:r._r,g:r._g,b:r._b,alpha:r._a},lastused:i.X.runtime};break;case"cursor":n={color:{decimal:this.rgba2int(r._r,r._g,r._b,r._a),alpha:r._a},lastused:i.X.runtime};break;case"stroke":r.darken(6),n={color:{string:r.toHexString(),r:r._r,g:r._g,b:r._b},lastused:i.X.runtime}}return this.cache.set(e+t,n),n.color}function Xa(e,t,n,r){return(e<<16)+(t<<8)+n}function Ba(){this.cache.clear()}function Na(){var e=this;this.cache.forEach((function(t,n){i.X.runtime-t.lastused>e.cacheLife&&e.cache.delete(n)}))}Fr(Fa,"Type",{DEFAULT:9,PLAYER:0,BOT:1,SPECTATE:2,REGION:3,9:"DEFAULT",0:"PLAYER",1:"BOT",2:"SPECTATE",3:"REGION"});var za=window.colorCache=new(function(){function e(){var t=this;Ar(this,e),this.cacheLife=3e4,this.cache=new Map,setInterval((function(){t.cleaner()}),5e3)}return Lr(e,[{key:"colorTransformCallBack",value:Da},{key:"colorAnyTransformCallBack",value:Ka},{key:"rgba2int",value:Xa},{key:"clear",value:Ba},{key:"cleaner",value:Na}]),e}());function qa(e,t){e[t]=e[e.length-1],e.pop()}Array.prototype.myShiftDelete=function(e){for(var t=this.length-1;e<t;)this[e]=this[++e];this.pop()},Array.prototype.mySwapDelete=function(e){this[e]=this[this.length-1],this.pop()}},5537:(e,t,n)=>{"use strict";n.d(t,{kr:()=>i,rl:()=>o,yK:()=>r});var r=window.preact,o=window.preactHooks,i=(window.htm.bind(r.h),r.Component,r.render,r.h,r.createRef,r.createContext);o.useState,o.useEffect,o.useContext,o.useRef},3804:(e,t,n)=>{"use strict";var r=n(5537),o=n(4977),i=n(1148),a=n(6511),s=n(9879),u=n(2840),c=n(3061),l=n(8967),f=n(2267);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var w=r.yK.Component,_=(r.yK.render,r.yK.h,r.yK.createRef,r.rl.useState,r.rl.useEffect,r.rl.useRef);function k(e){var t={version:1,deltaHotkeys:{},ogarioPlayerProfiles:{},settings:{},ogarioThemeSettings:{}};return e.settings.checked&&(t.settings=f.Xd.export()),e.theme.checked&&(t.ogarioThemeSettings=f.rS.export()),e.profiles.checked&&(t.ogarioPlayerProfiles=s.eH.export()),t.deltaHotkeys=a.$1.export(!e.hotkeys.checked,!e.commands.checked),this.saveJSONFile(t),t}function S(e){var t,n=(t=document.createElement("a"),document.body.appendChild(t),t.style.display="none",function(e,n){var r=new Blob([e],{type:"octet/stream"}),o=window.URL.createObjectURL(r);t.href=o,t.download=n,t.click(),window.URL.revokeObjectURL(o),document.body.removeChild(t)}),r=new Date,o="delta-settings_".concat(r.getDate(),"-").concat(r.getMonth()+1,"-").concat(r.getFullYear(),"_").concat(r.getHours(),"-").concat(r.getMinutes(),".json");n(JSON.stringify(e,null,"\t"),o)}function T(e,t){"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof e&&(e=JSON.parse(e)),e.ogarioSettings&&(e.settings=e.ogarioSettings),t.settings.checked&&f.Xd.import(e.settings),t.theme.checked&&f.rS.import(e.ogarioThemeSettings),t.profiles.checked&&s.eH.import(e.ogarioPlayerProfiles),t.hotkeys.checked&&a.$1.import(e.deltaHotkeys),i.Zr.saveSettings(),i.Zr.saveTheme(),s.eH.saveToMemory(),a.$1.saveToMemory()}function x(e){e.settings.checked&&f.Xd.restore(),e.theme.checked&&f.rS.restore(),e.profiles.checked&&s.eH.restore(),e.hotkeys.checked&&a.$1.restoreHotkeys(),e.commands.checked&&a.$1.restoreCommands(),i.Zr.saveSettings(),i.Zr.saveTheme()}var U=new(function(){function e(){m(this,e)}return b(e,[{key:"export",value:k},{key:"saveJSONFile",value:S},{key:"import",value:T},{key:"reset",value:x}]),e}());function C(e){var t=this,n=new FileReader;n.onload=function(e){U.import(e.target.result,t.state)},n.readAsText(e.current.files[0]),e.current.value=null}function I(){var e=this,t=_(null);return r.yK.h("form",{class:"container-fluid"},r.yK.h("div",{class:""},(0,l.dz)("exportImport")),r.yK.h("div",{class:"row"},r.yK.h("div",{class:"col"},r.yK.h(u.B,{click:function(){return U.export(e.state)},icon:"fas fa-upload"},"EXPORT")),r.yK.h("input",{ref:t,onChange:function(){return e.onFile(t)},type:"file",style:"display: none;"}),r.yK.h("div",{class:"col"},r.yK.h(u.B,{icon:"fas fa-download",click:function(){return t.current.click()}},"IMPORT")),r.yK.h("div",{class:"col"},r.yK.h(u.B,{click:function(){U.reset(e.state)},icon:"fas fa-trash"},"RESET"))),Object.entries(this.state).map((function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),r=n[0],o=n[1];return(0,c.ns)((0,l.dz)(o.name),o.checked,(function(t){e.state[r].checked=t,e.setState(e.state)}))})))}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=y(t);if(n){var o=y(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return v(this,e)});function o(){var e;return m(this,o),(e=r.call(this)).state={settings:{checked:!0,default:!0,id:"",name:"settings"},theme:{checked:!0,default:!0,id:"",name:"theme"},profiles:{checked:!0,default:!0,id:"",name:"profiles"},hotkeys:{checked:!0,default:!0,id:"",name:"hotkeys"},commands:{checked:!0,default:!0,id:"",name:"commands"}},e}return b(o,[{key:"onFile",value:C},{key:"render",value:I}]),o}(w),O=n(2504);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){for(var n=0;n<t.length-2;n+=3){var r=t.charAt(n+2);r="a"<=r?r.charCodeAt(0)-87:Number(r),r="+"==t.charAt(n+1)?e>>>r:e<<r,e="+"==t.charAt(n)?e+r&4294967295:e^r}return e}function M(e,t){var n=t.split(".");t=Number(n[0])||0;for(var r=[],o=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);128>a?r[o++]=a:(2048>a?r[o++]=a>>6|192:(55296==(64512&a)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[o++]=a>>18|240,r[o++]=a>>12&63|128):r[o++]=a>>12|224,r[o++]=a>>6&63|128),r[o++]=63&a|128)}for(e=t,o=0;o<r.length;o++)e=E(e+=r[o],"+-a^+6");return e=E(e,"+-3^+b+-f"),0>(e^=Number(n[1])||0)&&(e=2147483648+(2147483647&e)),(n=e%1e6).toString()+"."+(n^t)}function A(e){return"&q="+encodeURIComponent(e)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["Hello","мир","world"];return new Promise((function(r,o){var i=M(n.join(""),"448196.4202325414"),a=new XMLHttpRequest;a.open("POST","https://translate.googleapis.com/translate_a/t?anno=3&client=te&format=html&v=1.0&key&logld=vTE_20201130_00&sl=".concat(e,"&tl=").concat(t,"&tc=1&sr=1&tk=").concat(i,"&mode=1"),!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(n.map(A).join("")),a.onload=function(){200!=a.status||r(JSON.parse(a.responseText))},a.onerror=function(){o(a,a.status,a.statusText)}}))}var L=window.translatorApi=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"translate",value:j}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),F=n(4602);function D(e){return e*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}function K(e){return e*Math.max(document.documentElement.clientWidth,window.innerWidth||0)/100}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight;return 0==t?e:X(t,e%t)}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var o=te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=r.yK.Component,oe=(r.yK.render,r.yK.h,r.rl.useState,r.rl.useEffect),ie=(r.rl.useRef,{":)":"1f642.svg",";)":"1f609.svg","=)":"1f60f.svg",":D":"1f600.svg","X-D":"1f606.svg","=D":"1f602.svg",":(":"2639.svg",";(":"1f62d.svg",":P":"1f61b.svg",";P":"1f61c.svg",":*":"1f618.svg","$)":"1f60d.svg","<3":"2764.svg","8=)":"1f60e.svg",":o":"1f632.svg","(:|":"1f613.svg",":|":"1f610.svg",":\\":"1f612.svg",":@":"1f621.svg","|-)":"1f634.svg","^_^":"1f60a.svg","-_-":"1f611.svg",$_$:"1f911.svg","O:)":"1f607.svg","3:)":"1f608.svg","(poop)":"1f4a9.svg","(fuck)":"1f595.svg","(clap)":"1f44f.svg","(ok)":"1f44c.svg","(victory)":"270c.svg","(y)":"1f44d.svg","(n)":"1f44e.svg","(angry)":"1f479.svg","(clown)":"1f921.svg","(crazy)":"1f61c.svg","(devil)":"1f47a.svg","(devil2)":"1f47e.svg","(fb)":"1f1eb.svg","(google)":"1f1ec.svg","(ghost)":"1f47b.svg","(heel)":"1f460.svg","(kiss)":"1f48b.svg","(lipstick)":"1f484.svg","(teacher)":"1f440.svg","(together)":"1f491.svg","(toothy)":"1f913.svg","(baby)":"1f476.svg","(wow)":"1f631.svg"});function ae(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function se(e){return e.stopPropagation()}function ue(){var e=this;this.save_history(),window.addEventListener("beforeunload",(function(t){return e.save_history()}))}function ce(){this.listenTo(l.dD,"hk-chatMessage:down",this.enterChatMessage.bind(this))}function le(){this.setState({r:Date.now()})}function fe(e){var t=z(e,2),n=t[0],o=t[1];return r.yK.h("img",{src:"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/"+o,data:n,class:"emoticon chat-smile"})}function he(){return f.Xd.proxy.chatSounds=!f.Xd.proxy.chatSounds}function de(){return ze.displayUserList(!0)}function pe(){return ze.displayUserList(!1)}function ve(){return f.Xd.proxy.showMessageSenderId=!f.Xd.proxy.showMessageSenderId}function ye(){return ze.sendRandomShit()}function me(){var e=this;function t(){e.setState({showMessageSenderId:f.Xd.proxy.showMessageSenderId})}function n(){e.setState({chatSounds:f.Xd.proxy.chatSounds})}function o(){e.unlisten()}return oe((function(){return e.toggle_box(!1),e.listenTo(f.Xd,"showMessageSenderId",t)(),e.listenTo(f.Xd,"chatSounds",n)(),o}),[1]),r.yK.h("div",{id:"message-box",ref:this.ref_box,style:"display: block"},r.yK.h("div",{id:"chat-emoticons",class:"nodrag",ref:this.ref_emojis},Object.entries(ie).map(fe)),r.yK.h("div",{id:"message-menu",class:"nodrag"},r.yK.h("div",{onclick:he,class:"chat-sound-notifications fas "+(this.state.chatSounds?"fa-volume-up":"fa-volume-mute")}),r.yK.h("div",{onclick:de,class:"fas fa-user-check"}),r.yK.h("div",{onclick:pe,class:"fas fa-user-times"}),r.yK.h("div",{onclick:ve,class:"fas "+(this.state.showMessageSenderId?"fa-eye":"fa-low-vision")}),r.yK.h("div",{onclick:this.onclick_chat_tag,data:"[img]|[/img]",class:"fas fa-file-image"}),r.yK.h("div",{onclick:ye,class:"fas fa-exclamation-triangle"})),r.yK.h("div",{class:"message-input"},r.yK.h("div",{class:"message-input-cell input-box mr0",style:"z-index: 1;"},r.yK.h("input",{ref:this.ref_input,type:"text",autocomplete:"off",id:"message",class:"form-control",placeholder:"Enter to send...",maxlength:"80"})),r.yK.h("div",{class:"message-input-btn grow0 btn grow0 mr0 show-chat-emoticons",onclick:this.toggle_emoji},r.yK.h("div",{class:"btn-layer"},r.yK.h("div",{class:"fas fa-smile-beam"})))))}var ge=function(e){Y(n,e);var t=Q(n);function n(){var e;function r(t){var n=e.$input;n.selectionStart,27===t.keyCode&&(e.$input.blur(),e.toggle_box(!1)),38!==t.keyCode&&40!==t.keyCode||0==e.inputHistory.length||(38===t.keyCode&&(t.preventDefault(),e.inputHistory.length-e.inputHistoryIndex>0&&e.inputHistoryIndex++,n.value=e.inputHistory[e.inputHistory.length-e.inputHistoryIndex],n.selectionStart=n.value.length),40===t.keyCode&&(t.preventDefault(),e.inputHistory.length-e.inputHistoryIndex<e.inputHistory.length&&e.inputHistoryIndex--,e.inputHistory.length-e.inputHistoryIndex===e.inputHistory.length?n.value=e.inputTemporaryValue:n.value=e.inputHistory[e.inputHistory.length-e.inputHistoryIndex],n.selectionStart=n.value.length))}function o(t){var n=t.target;if(n&&"IMG"==n.tagName){var r=n.getAttribute("data");String(e.$input.value).length+r.length<=80&&Ge(e.$input,r,""),e.$input.focus()}}W(this,n),ne(ee(e=t.call(this)),"emojis",!1),ne(ee(e),"box_visible",!1),ne(ee(e),"state",{showMessageSenderId:!1,chatSounds:!0}),ne(ee(e),"localStorageHistoryKey","deltaInputHistory"),ne(ee(e),"inputHistory",[]),ne(ee(e),"inputTemporaryValue",""),ne(ee(e),"inputHistoryIndex",0),ne(ee(e),"save_history",(function(){return l.tO.set(e.localStorageHistoryKey,e.inputHistory)})),ne(ee(e),"visible",ae),ne(ee(e),"ref_input",(function(t){e.$input=t,t.oninput=function(){return e.inputTemporaryValue=t.value},t.onkeydown=r})),ne(ee(e),"ref_box",(function(t){e.$box=t,t.onmousedown=se})),ne(ee(e),"ref_emojis",(function(t){e.$emojis=t,e.toggle_emoji(!1),e.$emojis.onclick=o})),ne(ee(e),"onclick_chat_tag",(function(t){t.preventDefault();var n=t.target.getAttribute("data").split("|"),r=[n[0],n[1]||""];e.$input.value.length+n.length<=80&&Ge.apply(void 0,[e.$input].concat(r)),e.$input.focus()})),ne(ee(e),"toggle_emoji",(function(t){e.emojis=1==t||0==t?t:!e.emojis,e.$emojis.style.display=e.emojis?"":"none",e.$input.focus()})),ne(ee(e),"toggle_box",(function(t){e.box_visible=1==t||0==t?t:!e.box_visible,e.$box.style.display=e.box_visible?"block":"none"})),ne(ee(e),"enterChatMessage",(function(){if(e.visible(e.$box)){var t=e.$input.value;if(t.length){var n=t.match(/\/(.{2,2}) ([\s\S]+)/);n?ze.sendTranslateMessage(n[1],n[2]):ze.emit("sendChatMessage","msg",t),(e.inputHistory.length>0&&e.inputHistory[e.inputHistory.length-1]!==t||0===e.inputHistory.length)&&e.inputHistory.push(t),e.inputHistoryIndex=0,e.inputTemporaryValue="",e.inputHistory.length>100&&e.inputHistory.shift(),s.wU.play&&(e.$input.blur(),e.toggle_box(!1))}else e.$input.blur(),e.toggle_box(!1);e.$input.value=""}else e.toggle_box(!0),e.$input.focus()}));try{var i;e.inputHistory=null===(i=l.tO.get(e.localStorageHistoryKey))||void 0===i?void 0:i.slice(0)}catch(e){}return window.addEventListener("beforeunload",(function(t){return e.save_history()})),e}return V(n,[{key:"componentWillUnmount",value:ue},{key:"componentDidMount",value:ce},{key:"rerender",value:le},{key:"render",value:me}]),n}(F.l);function be(){this.commReplacements;for(var e=0;14>e;e++){var t=l.Xy.i18n_english.keys["comm"+e],n=l.Xy.i18n_userlang.keys["comm"+e],r=null,o=null;function i(){r=new RegExp(t.replace(/%(.+?)%/,"(.+?)"),"gi");var e=1;o=n.replace(/%(.+?)%/,(function(){return"$"+e++}))}t.indexOf("%")>-1?i():(r=t,o=n),this.commReplacements.push([r,o])}}function we(e){var t,n=N(this.commReplacements);try{for(n.s();!(t=n.n()).done;){var r=z(t.value,2),o=r[0],i=r[1];if(o instanceof RegExp&&o.test(e))return e.replace(o,i);if(e===o)return e.replace(o,i)}}catch(e){n.e(e)}finally{n.f()}return e}function _e(){var e=this;f.Xd.on("messageSound_",this.setMessageSound.bind(this)),f.Xd.on("commandSound_",this.setCommandSound.bind(this)),this.setMessageSound(),this.setCommandSound(),l.dD.on("comm:down",(function(t){t.data===t.ddata?e.sendCommand(l.Xy.i18n_english(t.dict)):e.sendCommand(t.data)}))}function ke(e){if(e){var t=li.userManager.getUser(e);t&&(t.isChatUserMuted=!0,toastr.error((0,l.dz)("userMuted").replace("%user%","<strong>".concat(this.escapeHTML(t.nick),"</strong>"))+' <button data-user-id="'.concat(e,'" class="btn btn-xs btn-green btn-unmute-user">').concat((0,l.dz)("unmute"),"</button>")))}}function Se(e){if(e){var t=li.userManager.getUser(e);t&&(t.isChatUserMuted=!1,toastr.info((0,l.dz)("userUnmuted").replace("%user%","<strong>".concat(this.escapeHTML(t.nick),"</strong>"))))}}function Te(e){var t,n="",r=!1,o=N(li.userManager.users);try{for(o.s();!(t=o.n()).done;){var i=t.value;(e?i.isChatUser:i.isChatUserMuted)&&(r=!0,n+="<li><strong>".concat(this.escapeHTML(i.nick),'</strong> <button data-user-id="').concat(i.id,'" class="btn btn-xs ').concat(e?"btn-red btn-mute-user":"btn-green btn-unmute-user",'">').concat((0,l.dz)(e?"mute":"unmute"),"</button></li>"))}}catch(e){o.e(e)}finally{o.f()}toastr[e?"info":"error"](r?'<ol class="user-list">'+n+"</ol>":(0,l.dz)("none"),e?(0,l.dz)("activeUsers"):(0,l.dz)("mutedUsers"),{closeButton:!0,tapToDismiss:!1})}function xe(e,t){var n=new XMLHttpRequest;n.open("GET","https://api.allorigins.win/get?url="+encodeURIComponent("https://gaychik.art/latest-updates/?mode=async&function=get_block&block_id=list_videos_latest_videos_list&sort_by=post_date&from="+Math.floor(182*Math.random())),!0),n.onerror=function(){return t()},n.send(),n.onload=function(){200===n.status&&e(JSON.parse(n.responseText))}}function Ue(){return console.error("Request failed")}function Ce(){var e=this;new Promise(xe).then((function(t){var n=[];t.contents.replace(/title="(.+?)" data/g,(function(e,t){n.push(t)}));var r=n[Math.floor(Math.random()*n.length)];e.emit("sendChatMessage","msg",r)})).catch(Ue)}function Ie(e){if("cmd"==e.type&&(e.text=this.replaceIfNeed(e.text)),e.name||(e.name=li.userManager.getUser(e.userId).nick||"Unnamed#".concat(e.playerId)),!f.Xd.raw.disableChat.value&&!li.userManager.getUser(e.userId).isChatUserMuted&&0!=e.name.length&&!(0==e.name.length||this.getfancyLength(e.name)>15||0==e.text.length)){var t=this.parseMessage(e.text),n=e.text!==t;e.text=t,e.hasHTML=n,this.chatMessages.push(e),this.chatMessages.length>100&&this.chatMessages.shift(),this.emit("chatmessage",e),"msg"==e.type&&!f.Xd.raw.disableChat.value&&f.Xd.raw.chatSounds.value&&O.g.play("messageSound"),"cmd"==e.type&&!f.Xd.raw.disableChat.value&&f.Xd.raw.chatSounds.value&&O.g.play("commandSound")}}function Pe(e){var t,n=e.split("‍"),r=0,o=N(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;r+=Array.from(i.split(/[\ufe00-\ufe0f]/).join("")).length}}catch(e){o.e(e)}finally{o.f()}return r/n.length}function Oe(e,t){var n=this;L.translate("auto",e,[t]).then((function(e){e[0][0].indexOf(">")>-1||n.emit("sendChatMessage","msg",e[0][0])})).catch((function(){n.emit("sendChatMessage","msg",t)}))}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.currentSector=this.calculateMapSector(s.wU.getActiveTab().protocol_viewX,s.wU.getActiveTab().protocol_viewY);var t=e.replace("%currentSector%",this.currentSector);return t}function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.prepareCommand(e);this.emit("sendChatMessage","cmd",t)}function Me(e,t,n){return t+(/["'=\[\]]/.test(t)?n:'<a href="'.concat(n,'" target="_blank"><img src="https://www.google.com/s2/favicons?sz=16&domain_url=').concat(encodeURIComponent(n),'" alt="').concat(n,'" class="emoticon">').concat(n,"</a>"))}function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/\[img\]([\w\:\/\.\?]+)\[\/img\]/i;if(t.test(e)){var n=e.match(t)[1];return f.Xd.raw.showChatImages.value&&this.checkImgURL(n)?'<br/><img src="'.concat(n,'" style="height: 150px;border:none;">'):""}var r=/\[yt\]([\w-]{11})\[\/yt\]/i;if(r.test(e)){if(f.Xd.raw.showChatVideos.value){var o=e.match(r);return'<iframe type="text/html" width="100%" height="auto" src="https://www.youtube.com/embed/'.concat(o[1],'?autoplay=1&vq=tiny" frameborder="0" />')}return""}var i=this.escapeHTML(e);return i=i.replace(/(.?)((?:https?:\/\/)(?:[^\s"]+))/gim,Me),f.Xd.raw.chatEmoticons.value&&(i=this.parseEmoticons(i)),i}function je(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object.entries(ie),n=0,r=t;n<r.length;n++){var o=z(r[n],2),i=o[0],a=o[1];e=e.replace(i,'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/'.concat(a,'" alt="').concat(a,'" class="emoticon">'))}return e}function Le(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=N(l.V$);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=t.match(r.regexp);if(o)return o[0]}}catch(e){n.e(e)}finally{n.f()}return!1}function Fe(e){return l.yf[e]}function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[&<>"']/g,Fe)}function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!s.wU.getActiveTab().estabilished)return"";var n=s.wU.getActiveTab().mapSizeH/2,r=s.wU.getActiveTab().mapSizeV/2,o=Math.floor((e+n)/(s.wU.getActiveTab().mapSizeH/f.rS.raw.sectorsY.value)),i=Math.floor((t+r)/(s.wU.getActiveTab().mapSizeV/f.rS.raw.sectorsX.value));return o=o<0?0:o>=f.rS.raw.sectorsY.value?f.rS.raw.sectorsY.value-1:o,i=i<0?0:i>=f.rS.raw.sectorsX.value?f.rS.raw.sectorsX.value-1:i,String.fromCharCode(i+65)+(o+1)}function Xe(){O.g.load("messageSound",f.Xd.raw.messageSound_.value)}function Be(){O.g.load("commandSound",f.Xd.raw.commandSound_.value)}function Ne(e){return e.replace(/[0-9]/g,e.charAt.bind("0123456789"))}var ze=new(function(e){Y(n,e);var t=Q(n);function n(){var e;W(this,n),(e=t.call(this)).chatMessages=[];var r=ee(e);return e.commReplacements=[],e.initReplacements(),$(document).on("click",".mute-user",(function(e){e.preventDefault(),r.muteChatUser(parseInt($(this).attr("data-user-id")))})),$(document).on("click",".btn-mute-user",(function(){var e=$(this);r.muteChatUser(parseInt(e.attr("data-user-id"))),e.removeClass("btn-red btn-mute-user").addClass("btn-green btn-unmute-user").text((0,l.dz)("unmute"))})),$(document).on("click",".btn-unmute-user",(function(){var e=$(this);r.unmuteChatUser(parseInt(e.attr("data-user-id"))),e.removeClass("btn-green btn-unmute-user").addClass("btn-red btn-mute-user").text((0,l.dz)("mute"))})),e}return V(n,[{key:"initReplacements",value:be},{key:"replaceIfNeed",value:we},{key:"init",value:_e},{key:"muteChatUser",value:ke},{key:"unmuteChatUser",value:Se},{key:"displayUserList",value:Te},{key:"sendRandomShit",value:Ce},{key:"displayChatMessage",value:Ie},{key:"getfancyLength",value:Pe},{key:"sendTranslateMessage",value:Oe},{key:"prepareCommand",value:Re},{key:"sendCommand",value:Ee},{key:"parseMessage",value:Ae},{key:"parseEmoticons",value:je},{key:"checkImgURL",value:Le},{key:"escapeHTML",value:De},{key:"calculateMapSector",value:Ke},{key:"setMessageSound",value:Xe},{key:"setCommandSound",value:Be},{key:"replaceSupers",value:Ne}]),n}(l.aN));function qe(){this.pullTab.removeEventListener("mousedown",this.mousedownFn)}function He(e){this.dx=e.screenX-this.x,this.dy=e.screenY-this.y,this.x=e.screenX,this.y=e.screenY,this.wd+=this.dx,this.ht-=this.dy,this.target.style.width=this.wd+"px",this.target.style.height=this.ht+"px",this.resizeCalback&&this.resizeCalback()}window.chatUi=ze;var We=function(){function e(t,n,r){var o=this;W(this,e),ne(this,"mousedownFn",null),this.resizeCalback=r;var i=document;this.pullTab=n,this.target=t,this.ht=this.target.clientHeight,this.wd=this.target.clientWidth,this.x=0,this.y=0,this.dx=0,this.dy=0;var a=this.resize.bind(this);this.pullTab.addEventListener("mousedown",this.mousedownFn=function(e){var t=getComputedStyle(o.target);o.target.classList.add("hover"),o.ht=parseInt(t.height),o.wd=parseInt(t.width),o.x=e.screenX,o.y=e.screenY;var n=null;i.body.addEventListener("mousemove",a),i.body.addEventListener("mouseup",n=function(){i.body.removeEventListener("mouseup",n),i.body.removeEventListener("mousemove",a),o.target.classList.remove("hover")})})}return V(e,[{key:"destroy",value:qe},{key:"resize",value:He}]),e}();function Ge(e,t,n){if(e.focus(),document.selection)return(i=document.selection.createRange()).text=i.text?""!=n?t+i.text+n:t:t+i.text+n,i.select(),!0;if("number"==typeof e.selectionStart){if(e.selectionStart!=e.selectionEnd){var r=e.selectionStart,o=e.selectionEnd,i=e.value.substr(r,o-r),a=e.value.substr(o);e.value=""!=n?e.value.substr(0,r)+t+i+n:e.value.substr(0,r)+t;var s=e.value.length-n.length,u=e.scrollHeight,c=e.value.split(/[\r\n]/g).length;e.value+=a,e.selectionStart=e.selectionEnd=s,c>e.rows&&(e.scrollTop=u-12)}else r=e.selectionStart,a=e.value.substr(r),e.value=e.value.substr(0,r)+t+n,s=e.value.length-n.length,u=e.scrollHeight,c=e.value.split(/[\r\n]/g).length,e.value+=a,e.selectionStart=e.selectionEnd=s,c>e.rows&&(e.scrollTop=u);return!0}return!1}function Ve(e){}function Ye(){}function Ze(e){this.followMessages&&(this.$cmCon.current.scrollTop=-e.__P.clientHeight,this.setTopGap(0,!0,this.$cmCon.current))}function Qe(){this.setTopGap(0,!0,this.$cmCon.current)}function Je(e){var t,n;""==(null===(t=(n=window).getSelection)||void 0===t?void 0:t.call(n).toString())&&e.preventDefault()}function $e(){var e=this;this.$root.current.addEventListener("contextmenu",Je),l.dD.on("hk-clearChat:down",(function(t){e.scrollEnabled=!0,f.Xd.raw.showChatBox.value||e.$root.current.classList.add("history-expanded");var n=function t(){f.Xd.raw.showChatBox.value||(e.scrollEnabled=!1,e.$root.current.classList.remove("history-expanded"),e.setTopGap(0,!0,e.$cmCon.current)),window.removeEventListener("blur",t)};l.dD.once("hk-clearChat:up",n),window.addEventListener("blur",n)}))}function et(){this.$root.current.style.display=f.Xd.raw.disableChat.value||this.state.hidden?"none":""}function tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.Xd.raw.showChatBox.value;e?(this.$root.current.classList.add("mode-box"),this.$root.current.classList.remove("mode-popup")):(this.$root.current.classList.remove("mode-box"),this.$root.current.classList.add("mode-popup"))}function nt(){var e=X(),t=1;t=e*window.innerWidth/(e*window.innerHeight)>4/3?D(27)/200:3*K(27)/4/200,t=Math.min(1,t),this.$messages.current.style.fontSize=85*f.rS.raw.chatTextScale.value+"%",f.Xd.raw.showChatBox.value?(this.$root.current.style.height=this.chatboxHeight*t+"px",this.$root.current.style.width=Math.round(280*f.rS.raw.chatScale.value*t)+"px"):(this.$root.current.style.height=D(87)+"vh",this.$root.current.style.width=Math.round(280*f.rS.raw.chatScale.value*t)+"px"),this.$root.current.style.fontSize=100*t+"%"}function rt(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>2?arguments[2]:void 0,r=Date.now(),o=n.scrollTop,i=t,a=function t(){var a=Math.min(1,(Date.now()-r)/500);o+=(i-o)*a,n.scrollTop=o,a<1?e.ticking=requestAnimationFrame(t):e.animation=!1};cancelAnimationFrame(this.scrollRaf),this.animation=!0,a()}function ot(){var e=this;function t(t){f.Xd.raw.showChatBox.value?t.stopPropagation():(e.scrollEnabled&&t.stopPropagation(),e.scrollEnabled||t.preventDefault())}function n(){e.state.hidden=!e.state.hidden,e.setVisibility()}function o(){e.state.hidden=f.Xd.raw.disableChat.value,e.setVisibility()}function i(){e.followMessages=!0}function a(){e.setStyles()}function s(){return e.setUiMode()}function u(t){t.wheelDelta<0||e.animation&&(console.log("this.followMessages = false"),e.followMessages=!1)}oe((function(){var t=new We(e.$root.current,e.$resizer.current,function(){e.$cmCon&&e.followMessages&&e.setTopGap(e.$cmCon.current.scrollHeight-e.$cmCon.current.offsetHeight,!0,e.$cmCon.current),e.chatboxWidth=t.wd,e.chatboxHeight=t.ht}.bind(e));return function(){t.destroy()}}),[]),oe((function(){e.scrollEnabled=f.Xd.raw.showChatBox.value;var r=t;e.listenTo(l.dD,"hk-hideChat:down",n),e.listenTo(f.Xd,"disableChat",o)(),e.setState({isChatBox:f.Xd.raw.showChatBox.value}),e.listenTo(ze,"sendChatMessage",i);var c,h,d=a;return e.listenTo(f.Xd,"showChatBox",s),e.listenTo(f.rS,"chatScale",d),e.listenTo(f.rS,"chatTextScale",d),e.listenTo(f.Xd,"showChatBox",d),window.addEventListener("resize",d),d(),e.$cmCon.current.addEventListener("scroll",c=function(t){r(t),e.$cmCon.current.offsetHeight;var n=e.$cmCon.current.offsetHeight+e.$cmCon.current.scrollTop;e.$cmCon.current.scrollHeight,e.$cmCon.current.offsetHeight,e.last.topGap=e.$cmCon.current.scrollTop,e.last.bottomGap=n,e.last.bottomGapMp=n/e.$cmCon.current.scrollHeight,e.followMessages=e.$cmCon.current.scrollTop>-15}),e.$cmCon.current.addEventListener("mousewheel",h=u),e.$root.current.addEventListener("mousewheel",r),e.$root.current.addEventListener("DOMMouseScroll",r),e.$messages.current.addEventListener("mousewheel",r),e.setUiMode(),function(){e.$cmCon.current.removeEventListener("scroll",c),e.$cmCon.current.removeEventListener("mousewheel",h),e.unlisten(),e.$root.current.removeEventListener("mousewheel",r),e.$root.current.removeEventListener("DOMMouseScroll",r),e.$messages.current.removeEventListener("mousewheel",r),window.removeEventListener("resize",d)}}),[]);var c={width:this.chatboxWidth+"px",height:this.chatboxHeight+"px"};return r.yK.h("div",{class:"chatbox mode-popup",ref:this.$root,style:c},r.yK.h("div",{ref:this.$resizer,class:"rsz"}),r.yK.h("div",{ref:this.$cmCon,class:"chat-messages-container"},r.yK.h("ul",{ref:this.$messages,class:"chatmessages"},r.yK.h("div",{class:"resistance",style:"flex: 1 1 auto;",ref:this.testRef}),r.yK.h(ct,{beforeChildAppend:this.beforeChildAppend.bind(this),afterChildAppend:this.afterChildAppend.bind(this)}))))}var it=function(e){Y(n,e);var t=Q(n);function n(){var e;return W(this,n),ne(ee(e=t.call(this)),"last",{topGap:0,bottomGap:0,bottomGapMp:0}),ne(ee(e),"chatboxWidth",280),ne(ee(e),"chatboxHeight",300),ne(ee(e),"popupWidth",280),ne(ee(e),"state",{msgs:[],isChatBox:f.Xd.raw.showChatBox.value,hidden:!1}),ne(ee(e),"scrollEnabled",f.Xd.raw.showChatBox.value),ne(ee(e),"followMessages",!0),ne(ee(e),"animation",!1),ne(ee(e),"ticking",null),ne(ee(e),"$root",r.yK.createRef()),ne(ee(e),"$cmCon",r.yK.createRef()),ne(ee(e),"$messages",r.yK.createRef()),ne(ee(e),"$resizer",r.yK.createRef()),ne(ee(e),"scrollRaf",null),e}return V(n,[{key:"testRef",value:Ve},{key:"beforeChildAppend",value:Ye},{key:"afterChildAppend",value:Ze},{key:"expandPopupMessagesHistory",value:Qe},{key:"componentDidMount",value:$e},{key:"setVisibility",value:et},{key:"setUiMode",value:tt},{key:"setStyles",value:nt},{key:"setTopGap",value:rt},{key:"render",value:ot}]),n}(F.l);function at(){this.setState({nocache:Math.random()})}function st(){}function ut(e){var t=this,n=e.beforeChildAppend,o=e.afterChildAppend;function i(){f.Xd.raw.showChatBox.value&&(ze.chatMessages=[],t.redraw())}function a(){t.setState({nocache:Math.random()})}function s(){t.setState({nocache:Math.random()})}function u(){t.setState({nocache:Math.random()})}function c(){return t.unlisten()}oe((function(){return t.listenTo(l.dD,"hk-clearChat:down",i),t.listenTo(f.Xd,"showMessageSenderId",a),t.listenTo(ze,"chatmessage",s),t.listenTo(f.Xd,"hideChat",u),c}),[f.Xd.raw.showMessageSenderId.value,f.Xd.raw.showChatBox.value]);for(var h=[],d=Math.max(ze.chatMessages.length-50,0);ze.chatMessages.length>d;d++){var p=ze.chatMessages[d];h.push(r.yK.h("li",{key:p.text+p.name+p.id,class:"cmd"===p.type?"command":"message"},r.yK.h(dt,{entry:p,afterChildAppend:o,beforeChildAppend:n})))}return h}var ct=function(e){Y(n,e);var t=Q(n);function n(){var e;W(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ne(ee(e=t.call.apply(t,[this].concat(o))),"state",{uiMode:!0,msgs:[]}),e}return V(n,[{key:"redraw",value:at},{key:"componentDidMount",value:st},{key:"render",value:ut}]),n}(F.l);function lt(){this.props.beforeChildAppend(this)}function ft(){this.props.afterChildAppend(this)}function ht(e){var t=e.entry;return[r.yK.h("span",{class:"time"},f.Xd.raw.showChatBox.value?t.time:null),r.yK.h("span",{class:"user-id"},f.Xd.raw.showMessageSenderId.value?t.playerId:null),r.yK.h("span",{class:"nick"},t.name,": "),r.yK.h("span",{class:"text",dangerouslySetInnerHTML:t.hasHTML?{__html:t.text}:null},t.text),r.yK.h("span",{"data-user-id":t.userId,class:"mute-user fas fa-user-times"})]}var dt=function(e){Y(n,e);var t=Q(n);function n(){return W(this,n),t.apply(this,arguments)}return V(n,[{key:"componentWillMount",value:lt},{key:"componentDidMount",value:ft},{key:"render",value:ht}]),n}(re);function pt(){return this.array}function vt(e){this.writeOffset=0,this.readOffset=0,this.array=[],this.writeUInt8(e)}function yt(){return this.readOffset===this.arrayBuffer.byteLength||(this.readOffset>this.arrayBuffer.byteLength?(this.array.length,this.readOffset,!0):!!this.error&&(this.arrayBuffer.toString(),!0))}function mt(e){return!(this.readOffset+e>this.arrayBuffer.byteLength&&(this.error=!0,this.readOffset,this.arrayBuffer.byteLength,1))}function gt(e){var t,n=[255&e,e>>8&255,e>>16&255,e>>24&255];for(t=0;t<this.array.length;t+=1)this.array[t]^=n[t%4]}function bt(e){var t,n=[255&e,e>>8&255,e>>16&255,e>>24&255];for(t=0;t<this.arrayBuffer.byteLength;t+=1)this.dataView.setUint8(t,this.dataView.getUint8(t)^n[t%4])}function wt(){return this.readBytes(this.arrayBuffer.byteLength-this.readOffset)}function _t(){if(!this.canRead(1))return!1;var e=this.readUInt8();return!(e<0||e>1)&&0!=e}function kt(){if(!this.canRead(1))return 0;var e=this.dataView.getInt8(this.readOffset);return this.readOffset+=1,e}function St(){if(!this.canRead(1))return 0;var e=this.dataView.getUint8(this.readOffset);return this.readOffset+=1,e}function Tt(){if(!this.canRead(2))return 0;var e=this.dataView.getInt16(this.readOffset,this.littleEndian);return this.readOffset+=2,e}function xt(){if(!this.canRead(2))return 0;var e=this.dataView.getUint16(this.readOffset,this.littleEndian);return this.readOffset+=2,e}function Ut(){if(!this.canRead(4))return 0;var e=this.dataView.getInt32(this.readOffset,this.littleEndian);return this.readOffset+=4,e}function Ct(){if(!this.canRead(4))return 0;var e=this.dataView.getUint32(this.readOffset,this.littleEndian);return this.readOffset+=4,e}function It(){for(var e=[],t=0;;){if(!this.canRead(1))return null;if(0===this.dataView.getUint8(this.readOffset)){this.readOffset+=1;break}e[t]=this.dataView.getUint8(this.readOffset),this.readOffset+=1,t+=1}return function(e){var t,n,r,o="";for(t=0;t<e.length;t+=1)(n=e[t])<128?o+=window.String.fromCharCode(n):n>191&&n<224?(o+=window.String.fromCharCode((31&n)<<6|63&e[t+1]),t+=1):n>223&&n<240?(o+=window.String.fromCharCode((15&n)<<12|(63&e[t+1])<<6|63&e[t+2]),t+=2):(r=((7&n)<<18|(63&e[t+1])<<12|(63&e[t+2])<<6|63&e[t+3])-65536,o+=window.String.fromCharCode(r>>10|55296,1023&r|56320),t+=3);return o}(e)}function Pt(e){if(!this.canRead(e))return null;for(var t=[],n=0;n<e;n+=1)t[n]=this.dataView.getUint8(this.readOffset),this.readOffset+=1;return t}function Ot(){if(!this.canRead(4))return 0;var e=this.dataView.getFloat32(this.readOffset,this.littleEndian);return this.readOffset+=4,e}function Rt(){if(!this.canRead(8))return 0;var e=this.dataView.getFloat64(this.readOffset,this.littleEndian);return this.readOffset+=8,e}function Et(e){var t;for(t=0;t<e.length;t+=1)this.writeUInt8(e[t])}function Mt(e){this.array[this.writeOffset]=255&e,this.writeOffset+=1}function At(e){this.array[this.writeOffset]=e,this.writeOffset+=1}function jt(e){this.array[this.writeOffset]=255&e,this.array[this.writeOffset+1]=e>>8&255,this.writeOffset+=2}function Lt(e){this.array[this.writeOffset]=e,this.array[this.writeOffset+1]=e>>8,this.writeOffset+=2}function Ft(e){this.array[this.writeOffset]=255&e,this.array[this.writeOffset+1]=e>>8&255,this.array[this.writeOffset+2]=e>>16&255,this.array[this.writeOffset+3]=e>>24&255,this.writeOffset+=4}function Dt(e){this.array[this.writeOffset]=e,this.array[this.writeOffset+1]=e>>8,this.array[this.writeOffset+2]=e>>16,this.array[this.writeOffset+3]=e>>24,this.writeOffset+=4}function Kt(e){this.writeBytes(function(e){var t,n,r=[],o=0;for(t=0;t<e.length;t+=1)(n=e.charCodeAt(t))<128?(r[o]=n,o+=1):n<2048?(r[o]=n>>6|192,r[o+=1]=63&n|128,o+=1):55296==(64512&n)&&t+1<e.length&&56320==(64512&e.charCodeAt(t+1))?(t+=1,n=65536+((1023&n)<<10)+(1023&e.charCodeAt(t)),r[o]=n>>18|240,r[o+=1]=n>>12&63|128,r[o+=1]=n>>6&63|128,r[o+=1]=63&n|128,o+=1):(r[o]=n>>12|224,r[o+=1]=n>>6&63|128,r[o+=1]=63&n|128,o+=1);return r}(e)),this.writeUInt8(0)}function Xt(e){this.writeUInt8(e?1:0)}window.Packet=function(e){this.writeOffset=0,this.readOffset=0,e&&(this.arrayBuffer=e,this.dataView=new DataView(this.arrayBuffer)),this.error=!1,this.littleEndian=!0,this.array=[],this.get=pt,this.setCommandID=vt,this.readComplete=yt,this.canRead=mt,this.xorCryptSend=gt,this.xorCryptRecv=bt,this.readRemainingData=wt,this.readBoolean=_t,this.readInt8=kt,this.readUInt8=St,this.readInt16=Tt,this.readUInt16=xt,this.readInt32=Ut,this.readUInt32=Ct,this.readUTF8String=It,this.readBytes=Pt,this.readFloat=Ot,this.readFloat64=Rt,this.writeBytes=Et,this.writeUInt8=Mt,this.writeInt8=At,this.writeUInt16=jt,this.writeInt16=Lt,this.writeUInt32=Ft,this.writeInt32=Dt,this.writeUTF8String=Kt,this.writeBoolean=Xt};var Bt=n(9564),Nt=n(1205);function zt(e){}var qt={create:{auth:function(e){var t=new Nt.Q;return t.writeUInt8(0),t.writeUInt16(e),t.toBuffer()},clientRegisterTab:function(e){var t=new Nt.Q;return t.writeUInt8(1),t.writeUInt32(e),t.toBuffer()},clientRemoveTab:function(e){var t=new Nt.Q;return t.writeUInt8(2),t.writeUInt16(e),t.toBuffer()},serverRegisteredTab:function(e,t){var n=new Nt.Q;return n.writeUInt8(1),n.writeUInt32(e),n.writeUInt16(t),n.toBuffer()},serverRemovedTab:function(e){var t=new Nt.Q;return t.writeUInt8(1),t.writeUInt16(e),t.toBuffer()},clientTokenTag:function(e,t,n,r,o){var i=0,a=new Nt.Q;return a.writeUInt8(9),a.writeUInt8(0),"string"==typeof e&&(i|=1)&&a.writeUTF16StringZero(e),"string"==typeof t&&(i|=2)&&a.writeUTF16StringZero(t),"string"==typeof n&&(i|=4)&&a.writeUTF16StringZero(n),"string"==typeof r&&(i|=8)&&a.writeUTF16StringZero(r),"string"==typeof o&&(i|=16)&&a.writeUTF16StringZero(o),a.view.setUint8(1,i),a.toBuffer()},playerUpdate:function(e){var t=e.updates,n=void 0===t?[]:t,r=new Nt.Q;r.writeUInt8(10);for(var o=n.length;o--;){var i=n[o].data,a=i.flags,s=n[o].playerID;0!==a&&(r.writeUInt16(s),r.writeUInt8(a),1&a&&r.writeUTF16StringLength(i.nick||""),2&a&&r.writeUTF8StringLength(i.protocolColor||""),4&a&&r.writeUTF16StringLength(i.protocolSkin||""),8&a&&r.writeUTF8StringLength(i.customColor||""),16&a&&r.writeUTF16StringLength(i.customSkin||""),32&a&&r.writeUInt8(i.isAlive),64&a&&(r.writeInt16(i.x),r.writeInt16(i.y),r.writeUInt32(i.mass)))}return r.writeUInt16(0),r.toBuffer()},playerRemove:function(e){var t=e.ids,n=new Nt.Q;n.writeUInt8(12);for(var r=t.length;r--;){var o=t[r];n.writeUInt16(o)}return n.writeUInt16(0),n.toBuffer()},message:function(e){var t=e.type,n=e.userID,r=e.playerID,o=e.targetID,i=e.nick,a=void 0===i?"noname":i,s=e.text,u=new Nt.Q;return u.writeUInt8(25),u.writeUInt8("msg"===t?1:"cmd"===t?2:t),u.writeUInt16(n),u.writeUInt16(r),u.writeUInt16(o),u.writeUTF16StringLength(a),u.writeUTF16StringLength(s),u.toBuffer()},commander:function(e,t,n,r,o){var i=new Nt.Q;return i.writeUInt8(45),i.writeUInt16(e),i.writeUInt16(t),i.writeUInt8(n),i.writeInt32(r),i.writeInt32(o),i.toBuffer()},clientQuadrantRequest:function(e){var t=new Nt.Q;return t.writeUInt8(41),t.writeUInt16(e),t.toBuffer()},clientQuadrantResponse:function(e,t,n){var r=new Nt.Q;return r.writeUInt8(42),r.writeUInt16(e),r.writeUInt16(t),r.writeUInt8(n),r.toBuffer()}},parse:{auth:function(e){return{playerID:e.readUInt16()}},clientRegisterTab:function(e){return{callbackID:e.readUInt32()}},clientRemoveTab:function(e){return{playerID:e.readUInt16()}},serverRegisteredTab:function(e){return{callbackID:e.readUInt32(),playerID:e.readUInt16()}},serverRemovedTab:function(e){return{playerID:e.readUInt16()}},clientTokenTag:function(e){var t=e.readUInt8();return{serverToken:1&t?e.readUTF16StringZero():void 0,clanTag:2&t?e.readUTF16StringZero():void 0,region:4&t?e.readUTF16StringZero():void 0,gameMode:8&t?e.readUTF16StringZero():void 0,partyToken:16&t?e.readUTF16StringZero():void 0,flags:t}},playerUpdate:function(e){for(var t=[];;){var n=e.readUInt16();if(0===n)break;var r=e.readUInt8(),o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,h=void 0;1&r&&(o=e.readUTF16StringLength()),2&r&&(i=e.readUTF8StringLength()),4&r&&(a=e.readUTF16StringLength()),8&r&&(s=e.readUTF8StringLength()),16&r&&(u=e.readUTF16StringLength()),32&r&&(c=e.readUInt8()),64&r&&(l=e.readInt16(l),f=e.readInt16(f),h=e.readUInt32(h)),t.push({playerID:n,nick:o,protocolColor:i,protocolSkin:a,customColor:s,customSkin:u,isAlive:c,x:l,y:f,mass:h,flags:r})}return t},playerRemove:function(e){for(var t=[];;){var n=e.readUInt16();if(0===n)break;t.push(n)}return t},message:function(e){var t=e.readUInt8();return{type:t=1===t?"msg":2===t?"cmd":t,userID:e.readUInt16(),playerID:e.readUInt16(),targetID:e.readUInt16(),nick:e.readUTF16StringLength(),text:e.readUTF16StringLength()}},commander:function(e){return[e.readUInt16(),e.readUInt16(),e.readUInt8(),e.readInt32(),e.readInt32()]},clientQuadrantRequest:function(e){return e.readUInt16()},clientQuadrantResponse:function(e){return[e.readUInt16(1),e.readUInt16(5),e.readUInt8(9)]}},pp:{write:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.writeUInt8(11);for(var n=Ht,r=t.length,o=0;r--;){var i=t[r],a=e.offset;e.writeUInt16(i.playerID);var s=n.writeMask(e,n.maskOffet(e),0|((!i.mask1||1&i.mask1||i.mask2>0)&&n.writeMask(e,n.maskOffet(e),0|(void 0!==i.clientID&&(!i.mask2||1&i.mask2)&&(e.writeUInt16(i.clientID),1))|(void 0!==i.nick&&(!i.mask2||2&i.mask2)&&(e.writeUTF16StringLength(i.nick||""),2))|(void 0!==i.customSkin&&(!i.mask2||4&i.mask2)&&(e.writeUTF16StringLength(i.customSkin||""),4))|(void 0!==i.customColor&&(!i.mask2||8&i.mask2)&&(e.writeUTF8StringLength(i.customColor||""),8))|(void 0!==i.accountID&&(!i.mask2||16&i.mask2)&&(e.writeUInt32(i.accountID),16))|(void 0!==i.pSkin&&(!i.mask2||32&i.mask2)&&(e.writeUTF16StringLength(i.pSkin||""),32))|(void 0!==i.pColor&&(!i.mask2||64&i.mask2)&&(e.writeUTF8StringLength(i.pColor||""),64)))&&1)|(void 0!==i.position&&(!i.mask1||2&i.mask1)&&(n.position.write(e,i.position.x,i.position.y,i.position.mass),2))|(void 0!==i.isAlive&&(!i.mask1||4&i.mask1)&&(n.aliveState.write(e,i.isAlive),4))|(void 0!==i.quadrant&&(!i.mask1||8&i.mask1)&&(n.quadrant.write(e,i.quadrant),8))|(void 0!==i.protocol&&(!i.mask1||16&i.mask1)&&(e.writeUTF16StringLength(i.protocol||""),16)));0==s&&(e.offset=a),o+=s}return e.writeUInt16(0),o},read:function(e){for(var t=Ht,n=[];;){var r=e.readUInt16();if(0===r)break;var o=t.readMask(e),i=null,a={mask:o,playerID:r,player:1&o&&(i=t.readMask(e))?{mask:i,clientID:1&i?e.readUInt16():null,nick:2&i?e.readUTF16StringLength():null,customSkin:4&i?e.readUTF16StringLength():null,customColor:8&i?e.readUTF8StringLength():null,accountID:16&i?e.readUInt32():null,pSkin:32&i?e.readUTF16StringLength():null,pColor:64&i?e.readUTF8StringLength():null}:null,position:2&o?t.position.read(e):null,isAlive:4&o?t.aliveState.read(e):null,quadrant:8&o?t.quadrant.read(e):null,protocol:16&o?e.readUTF16StringLength():null};n.push(a)}return n}},ppv7:{write:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zt;e.writeUInt8(16);for(var r=Ht,o=t.length,i=0;o--;){var a=t[o],s=0|(a.flags.nick?2:0)|(a.flags.cskin?4:0)|(a.flags.ccolor?8:0)|(a.flags.skin?16:0)|(a.flags.color?32:0)|(a.flags.accountid?64:0);s>0&&(s|=1);var u=0|(s?1:0)|(a.flags.coordsmass?2:0)|(a.flags.isplay?4:0)|(a.flags.quadrant?8:0);n(a),0!==u&&(i++,e.writeUInt16(a.playerID),e.writeUInt8(u),1&u&&(e.writeUInt8(s),1&s&&e.writeUInt16(a.clientID||0),2&s&&e.writeUTF16StringLength(a.nick||""),4&s&&e.writeUTF16StringLength(a.customSkin||""),8&s&&e.writeUInt24(a.customColor||0),16&s&&e.writeUTF16StringLength(a.pSkin||""),32&s&&e.writeUInt24(a.pColor||0),64&s&&e.writeUInt32(a.accountID||0)),2&u&&r.position.write(e,a.position.x,a.position.y,a.position.mass),4&u&&r.aliveState.write(e,a.isAlive),8&u&&e.writeInt8(a.quadrant))}return e.writeUInt16(0),i},read:function(e){for(var t=Ht,n=[];;){var r=e.readUInt16();if(0===r)break;var o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,h=void 0,d=void 0,p=e.readUInt8();if(0!==p){if(1&p){var v=e.readUInt8();1&v&&(o=e.readUInt16()),2&v&&(i=e.readUTF16StringLength()),4&v&&(a=e.readUTF16StringLength()),8&v&&(s=e.readUInt24()),16&v&&(u=e.readUTF16StringLength()),32&v&&(c=e.readUInt24()),64&v&&(l=e.readUInt32())}2&p&&(f=t.position.read(e)),4&p&&(h=t.aliveState.read(e)),8&p&&(d=e.readInt8()),n.push({playerID:r,clientId:o,nick:i,customSkin:a,customColor:s,pSkin:u,pColor:c,accountId:l,position:f,isAlive:h,quadrant:d})}}return n}}},Ht={aliveState:{write:function(e,t){e.writeUInt8(t)},read:function(e){return e.readUInt8()}},position:{write:function(e,t,n,r){e.writeInt16(t),e.writeInt16(n),e.writeUInt32(r)},read:function(e){return{x:e.readInt16(),y:e.readInt16(),mass:e.readUInt32()}}},quadrant:{write:function(e,t){e.writeUInt8(t)},read:function(e){return e.readUInt8()}},maskOffet:function(e){var t=e.offset;return e.writeUInt8(0),t},writeMask:function(e,t,n){if(0==n)return e.offset=t,n;var r=e.offset;return e.offset=t,e.writeUInt8(n),e.offset=r,n},readMask:function(e){return e.readUInt8()}};function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(){this.flags=0}function Vt(){this.flags=2047}function Yt(){return 1&this.flags}function Zt(e){e?this.flags|=1:this.flags&=-2}function Qt(){return 2&this.flags}function Jt(e){e?this.flags|=2:this.flags&=-3}function $t(){return 4&this.flags}function en(e){e?this.flags|=4:this.flags&=-5}function tn(){return 8&this.flags}function nn(e){e?this.flags|=8:this.flags&=-9}function rn(){return 16&this.flags}function on(e){e?this.flags|=16:this.flags&=-17}function an(){return 32&this.flags}function sn(e){e?this.flags|=32:this.flags&=-33}function un(){return 64&this.flags}function cn(e){e?this.flags|=64:this.flags&=-65}function ln(){return 128&this.flags}function fn(e){e?this.flags|=128:this.flags&=-129}function hn(){return 256&this.flags}function dn(e){e?this.flags|=256:this.flags&=-257}function pn(){return 512&this.flags}function vn(e){e?this.flags|=512:this.flags&=-513}function yn(){return 1024&this.flags}function mn(e){e?this.flags|=1024:this.flags&=-1025}window.delta_packet=qt;const gn=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t="flags")in this?Object.defineProperty(this,t,{value:0,enumerable:!0,configurable:!0,writable:!0}):this[t]=0}var t,n;return t=e,(n=[{key:"reset",value:Gt},{key:"all",value:Vt},{key:"join",get:Yt,set:Zt},{key:"coordsmass",get:Qt,set:Jt},{key:"color",get:$t,set:en},{key:"ccolor",get:tn,set:nn},{key:"skin",get:rn,set:on},{key:"cskin",get:an,set:sn},{key:"isplay",get:un,set:cn},{key:"accountid",get:ln,set:fn},{key:"nick",get:hn,set:dn},{key:"quadrant",get:pn,set:vn},{key:"protocol",get:yn,set:mn}])&&Wt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var bn=n(115);function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e){this.dropCacheSkin(),this.protocolColorInt=e,this.protocolColorString=(new bn.Z).fromINT(e).getHEX(),this.cacheSkin()}function Tn(e){this.customColorInt=e,this.customColorString=(new bn.Z).fromINT(e).getHEX()}function xn(e){this.dropCacheSkin(),this.accountID=e,this.cacheSkin()}function Un(e,t){this.targetX=e,this.targetY=t,this.alive||(this.animX=e,this.animY=t)}function Cn(e){this.mass=e}function In(e){if(!("string"==typeof(t=e)||t instanceof String))return console.error(e,"is not a string");var t;this.dropCacheSkin();var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(l.V$);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.match(o.regexp)&&(this.skinURL=e,this.cacheSkin())}}catch(e){r.e(e)}finally{r.f()}}function Pn(){}function On(){this.cacheSkin(!0)}function Rn(e){s.wU.server.gameMode,e?o.x.customSkinMap.delete(this.nick+this.protocolColorInt):o.x.cacheKey(this.nick+this.protocolColorInt,this.skinURL)}function En(){this.dropCacheSkin()}function Mn(){return this.hasIsPlayEventsOnServer?this._alive:!(Date.now()-this.updateTime>=2500||0==this.mass)}function An(e){this._alive=e,"og"==this.protocol&&(e?this.cacheSkin():this.dropCacheSkin())}function jn(e){this.dropCacheSkin(),this._nick=e,this.cacheSkin()}function Ln(){return this._nick}const Fn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1337;_n(this,e),this.protocol="na",this.deltaPlayerID=0,this.id=t,this.quadrant=-1,this._nick="",this.skinID="",this.accountID=null,this.skinURL="",this.targetX=0,this.targetY=0,this.mass=0,this.animX=0,this.animY=0,this.clanTag="",this.serverToken="",this.tokenTag="",this.protocolColorInt=0,this.protocolColorString="#0000FF",this.customColorInt=0,this.customColorString="#FF00FF",this._alive=!1,this.hasIsPlayEventsOnServer=!1,this.updateTime=null,this.isPlayer=!1,this.isChatUser=!1,this.isChatUserMuted=!1,this.isMuted=!1,this.nickCanvas=null,this.noIndex="none"}var t,n;return t=e,(n=[{key:"setColor",value:Sn},{key:"setCustomColor",value:Tn},{key:"setAccountID",value:xn},{key:"setPosition",value:Un},{key:"setMass",value:Cn},{key:"setSkin",value:In},{key:"getUpdateStrategy",value:Pn},{key:"dropCacheSkin",value:On},{key:"cacheSkin",value:Rn},{key:"destroy",value:En},{key:"alive",get:Mn,set:An},{key:"nick",set:jn,get:Ln}])&&kn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Dn(e){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(e)}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e,t){return Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bn(e,t)}function Nn(e,t){if(t&&("object"===Dn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zn(e){return zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zn(e)}function qn(e){return"string"==typeof e||e instanceof String}function Hn(e){return null!=e||null!=e}function Wn(){var e=this;Object.entries(this.store.all).forEach((function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),r=n[0];n[1],e.remUser(r)}))}function Gn(e){var t=null;return this.store.has(e)?t=this.store.get(e):(t=new Fn(e),this.store.add(t)),t}function Vn(e){this.store.has(e)&&(this.getUser(e).destroy(),this.store.rem(e))}function Yn(e){var t=this.store.has(e.playerID),n=t?this.store.get(e.playerID):new Fn(e.playerID);if(n.isPlayer=e.isPlayer,"v7"===e.api.apiName&&(n.hasIsPlayEventsOnServer=!0),"at"===e.api.apiName&&(n.hasIsPlayEventsOnServer=!0),Hn(e.quadrant)&&(n.quadrant=e.quadrant),qn(e.protocol)&&(n.protocol=e.protocol),Hn(e.x)&&Hn(e.y)&&Hn(e.mass)&&(n.setPosition(e.x,e.y),n.setMass(e.mass)),e.json)try{var r=JSON.parse(e.json);r.deltaPlayerID>0&&(n.deltaPlayerID=r.deltaPlayerID)}catch(e){}qn(e.nick)&&(n.nick=e.nick),qn(e.skinID)&&(n.skinID=e.skinID),Hn(e.customColor)&&n.setCustomColor(e.customColor),Hn(e.accountID)&&(n.accountID=e.accountID),Hn(e.isAlive)&&(n.alive=e.isAlive,n.updateTime=Date.now()),this.store.set(n,"protocol",e.api.apiName),qn(e.skinURL)&&n.setSkin(e.skinURL),Hn(e.secureColor)&&n.setColor(e.secureColor),Hn(e.accountID)&&n.setAccountID(e.accountID),t||this.store.add(n)}const Zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bn(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zn(r);if(o){var n=zn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Nn(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).store=new l.FA("id",["tokenTag"],Fn.prototype),e}return t=a,(n=[{key:"clean",value:Wn},{key:"getUser",value:Gn},{key:"remUser",value:Vn},{key:"onPlayer",value:Yn}])&&Xn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l.aN);function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e){return e}function tr(){}function nr(){}function rr(){return this.freeElements++,this.poolArray.push(this.resetFunction(this.constructorFunction())),this.poolArray[this.poolArray.length-1]}function or(e){var t=this.poolArray.indexOf(e);t>-1?(this.poolArray.splice(t,1),this.freeElements--,this.freeIndex--):console.error("Removing error",e)}function ir(){for(var e=Math.round(20*this.poolArray.length/100),t=0;t<e;t++)this.createElement()}function ar(){this.freeElements<=0&&this.createElement(),this.freeElements/this.poolArray.length<=.1&&(console.log("need inc",this.freeElements/this.poolArray.length,"<=",.1),this.increasePoolSize()),this.freeElements--;var e=this.poolArray[this.freeIndex];return this.poolArray[this.freeIndex++]=null,e}function sr(e){this.freeElements++,this.poolArray[--this.freeIndex]=e,this.resetFunction(e)}function ur(){return this.poolArray.length}var cr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:er,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;Qn(this,e),$n(this,"poolArray",[]),$n(this,"freeElements",0),$n(this,"freeIndex",0),$n(this,"resetFunction",tr),$n(this,"constructorFunction",nr),this.resetFunction=n,this.constructorFunction=t;for(var o=0;o<r;o++)this.createElement()}var t,n;return t=e,(n=[{key:"createElement",value:rr},{key:"removeElement",value:or},{key:"increasePoolSize",value:ir},{key:"getElement",value:ar},{key:"releaseElement",value:sr},{key:"size",get:ur}])&&Jn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.ObjectPool=cr;var lr=n(7298);function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(){return this.date.toTimeString().replace(/^(\d{2}:\d{2}).*/,"$1")}var dr,pr,vr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=Date.now(),this.date=new Date,this.userId=0,this.playerId=0,this.type="msg",this.name="name",this.text="text",this.isMe=!1,this.hasHTML=!1,this.channel="main",this.api=void 0,t&&Object.assign(this,t)}var t,n;return t=e,(n=[{key:"time",get:hr}])&&fr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),yr=Ur;function mr(e){var t=Ur,n={FJTtz:function(e,t){return e==t},lZDxa:t(264),YeqLV:function(e,t){return e===t},TIRyL:function(e,t){return e!==t},TMzwv:t(515),MJGso:function(e,t){return e==t},JKsOz:function(e,t){return e(t)}};return mr=n[t(474)](n[t(260)],typeof Symbol)&&n[t(345)](n[t(567)],typeof Symbol[t(314)])?function(e){return typeof e}:function(e){var r=t;return e&&n[r(345)](n[r(260)],typeof Symbol)&&n[r(214)](e[r(630)+"r"],Symbol)&&n[r(207)](e,Symbol[r(599)])?n[r(567)]:typeof e},n[t(473)](mr,e)}function gr(e,t,n,r,o,i,a){var s=Ur,u={BkYYZ:function(e,t){return e(t)}};try{var c=e[i](a),l=c[s(405)]}catch(e){return void u[s(597)](n,e)}c[s(376)]?u[s(597)](t,l):Promise[s(402)](l)[s(201)](r,o)}function br(e){var t=Ur,n={KflCf:function(e,t,n,r,o,i,a,s){return e(t,n,r,o,i,a,s)},ZPcrd:t(589),oDWXD:function(e,t){return e(t)},OMDHs:function(e,t,n,r,o,i,a,s){return e(t,n,r,o,i,a,s)},MajSl:t(523)};return function(){var r=t,o={aQqyL:function(e,t,r,o,i,a,s,u){return n[Ur(598)](e,t,r,o,i,a,s,u)},kbkDi:n[r(550)]},i=this,a=arguments;return new Promise((function(t,s){var u=r,c={TYAhc:function(e,t,r,o,i,a,s,u){return n[Ur(399)](e,t,r,o,i,a,s,u)},ibcAH:n[u(499)]},l=e[u(555)](i,a);function f(e){var n=u;c[n(220)](gr,l,t,s,f,h,c[n(280)],e)}function h(e){var n=u;o[n(218)](gr,l,t,s,f,h,o[n(581)],e)}n[u(331)](f,void 0)}))}}function wr(e,t){var n=Ur,r={ncuMd:function(e,t){return e(t)},jWeeM:function(e,t,n){return e(t,n)},XRyTd:function(e,t,n){return e(t,n)},LCeNn:function(e){return e()}};return r[n(250)](Sr,e)||r[n(615)](kr,e,t)||r[n(136)](xr,e,t)||r[n(422)](_r)}function _r(){var e=Ur,t={vpjlh:e(606)+e(356)+e(543)+e(225)+e(237)+e(353)+e(199)+e(341)+e(142)+e(593)+e(492)+e(350)+e(601)+e(506)};throw new TypeError(t[e(120)])}function kr(e,t){var n=Ur,r={gaWUK:function(e,t){return e==t},pjiiQ:function(e,t){return e!==t},EzyjT:n(409),CZhjN:n(594),puzAe:function(e,t){return e===t},NeOKK:function(e,t){return e!=t},EpmVQ:n(141)},o=r[n(167)](e,null)?null:r[n(273)](typeof Symbol,r[n(272)])&&e[Symbol[n(314)]]||e[r[n(175)]];if(!r[n(167)](o,null)){var i,a,s=[],u=!0,c=!1;try{for(o=o[n(498)](e);!(u=(i=o[n(589)]())[n(376)])&&(s[n(229)](i[n(405)]),!t||!r[n(447)](s[n(484)],t));u=!0);}catch(e){c=!0,a=e}finally{try{!u&&r[n(155)](o[r[n(645)]],null)&&o[r[n(645)]]()}finally{if(c)throw a}}return s}}function Sr(e){if(Array[Ur(127)](e))return e}function Tr(e,t){for(var n=Ur,r={MylEk:n(299),nIXaP:function(e,t){return e>=t},JCnwm:function(e,t){return e!=t},IZnGN:n(141),JxJPE:function(e,t){return e!==t},mqYUk:n(409),uugTr:n(594),ISQai:function(e,t){return e(t)},SKNrq:function(e,t){return e&&t},SdoCm:function(e,t){return e===t},UXpri:n(565),gVmaT:n(606)+n(160)+n(259)+n(446)+n(662)+n(306)+n(349)+n(533)+n(287)+n(629)+n(465)+n(609)+n(183)+"d."},o=r[n(441)][n(538)]("|"),i=0;;){switch(o[i++]){case"0":var a={xUbXz:function(e,t){return r[n(300)](e,t)},HLkBa:function(e,t){return r[n(385)](e,t)},VEqRR:r[n(216)]};continue;case"1":var s=r[n(621)](typeof Symbol,r[n(516)])&&e[Symbol[n(314)]]||e[r[n(209)]];continue;case"2":var u,c=!0,l=!1;continue;case"3":if(!s){if(Array[n(127)](e)||(s=r[n(618)](xr,e))||r[n(256)](t,e)&&r[n(146)](typeof e[n(484)],r[n(185)])){s&&(e=s);var f=0,h=function(){};return{s:h,n:function(){var t=n;return a[t(590)](f,e[t(484)])?{done:!0}:{done:!1,value:e[f++]}},e:function(e){throw e},f:h}}throw new TypeError(r[n(517)])}continue;case"4":return{s:function(){s=s[n(498)](e)},n:function(){var e=n,t=s[e(589)]();return c=t[e(376)],t},e:function(e){l=!0,u=e},f:function(){var e=n;try{!c&&a[e(384)](s[a[e(205)]],null)&&s[a[e(205)]]()}finally{if(l)throw u}}}}break}}function xr(e,t){for(var n=Ur,r={dMsle:n(544)+"0",GWAwI:function(e,t){return e===t},dAACf:n(579),ONHAW:function(e,t,n){return e(t,n)},obAEN:function(e,t){return e===t},LWRfS:n(546),lExAx:function(e,t){return e===t},HtnbI:n(588),erQpa:function(e,t,n){return e(t,n)},yBPSv:function(e,t){return e===t},DIpKM:n(130),xxwXX:n(383)},o=r[n(404)][n(538)]("|"),i=0;;){switch(o[i++]){case"0":if(r[n(518)](a,r[n(545)])||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[n(307)](a))return r[n(245)](Cr,e,t);continue;case"1":r[n(529)](a,r[n(605)])&&e[n(630)+"r"]&&(a=e[n(630)+"r"][n(269)]);continue;case"2":if(r[n(377)](typeof e,r[n(204)]))return r[n(284)](Cr,e,t);continue;case"3":if(r[n(647)](a,r[n(508)])||r[n(647)](a,r[n(180)]))return Array[n(317)](e);continue;case"4":if(!e)return;continue;case"5":var a=Object[n(599)][n(133)][n(498)](e)[n(562)](8,-1);continue}break}}function Ur(e,t){var n=Kr();return(Ur=function(e,t){return n[e-=118]})(e,t)}function Cr(e,t){var n=Ur,r={IZIMk:function(e,t){return e==t},WXPMw:function(e,t){return e>t},yFHtv:function(e,t){return e<t}};(r[n(458)](t,null)||r[n(459)](t,e[n(484)]))&&(t=e[n(484)]);for(var o=0,i=new Array(t);r[n(466)](o,t);o++)i[o]=e[o];return i}function Ir(e,t){var n=Ur,r={uctas:function(e,t){return e!==t},eoaSj:n(264),RjuuA:n(472)+n(636)+n(154)+n(583)+n(421),PMmgX:n(599),iBzya:function(e,t,n){return e(t,n)}};if(r[n(228)](typeof t,r[n(525)])&&r[n(228)](t,null))throw new TypeError(r[n(558)]);e[n(599)]=Object[n(275)](t&&t[n(599)],{constructor:{value:e,writable:!0,configurable:!0}}),Object[n(140)+n(575)](e,r[n(261)],{writable:!1}),t&&r[n(640)](Pr,e,t)}function Pr(e,t){var n=Ur;return Pr=Object[n(577)+n(241)]||function(e,t){return e[n(548)]=t,e},{wIvhK:function(e,t,n){return e(t,n)}}[n(461)](Pr,e,t)}function Or(e){var t=Ur,n={yplyd:function(e,t){return e(t)},bFdSl:function(e,t){return e(t)},YIcSZ:function(e,t,n){return e(t,n)},gXhAN:function(e){return e()}},r=n[t(397)](Mr);return function(){var o,i=t,a=n[i(419)](Ar,e);if(r){var s=n[i(532)](Ar,this)[i(630)+"r"];o=Reflect[i(334)](a,arguments,s)}else o=a[i(555)](this,arguments);return n[i(340)](Rr,this,o)}}function Rr(e,t){var n=Ur,r={mKQgI:function(e,t){return e===t},KWNFL:function(e,t){return e(t)},wvgyJ:n(179),ZHkbC:n(264),zNPAt:function(e,t){return e!==t},XMCoV:n(423)+n(123)+n(470)+n(351)+n(415)+n(608)};if(t&&(r[n(463)](r[n(226)](mr,t),r[n(400)])||r[n(463)](typeof t,r[n(165)])))return t;if(r[n(617)](t,void 0))throw new TypeError(r[n(321)]);return r[n(226)](Er,e)}function Er(e){var t=Ur,n={VNTcF:function(e,t){return e===t},OCEGo:t(559)+t(301)+t(395)+t(358)+t(614)+t(157)};if(n[t(290)](e,void 0))throw new ReferenceError(n[t(134)]);return e}function Mr(){var e=Ur,t={JTfAH:function(e,t){return e===t},GjHsf:e(409),IjFhw:e(264)};if(t[e(224)](typeof Reflect,t[e(325)])||!Reflect[e(334)])return!1;if(Reflect[e(334)][e(366)])return!1;if(t[e(224)](typeof Proxy,t[e(392)]))return!0;try{return Boolean[e(599)][e(159)][e(498)](Reflect[e(334)](Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ar(e){var t=Ur;return Ar=Object[t(577)+t(241)]?Object[t(302)+t(241)]:function(e){var n=t;return e[n(548)]||Object[n(302)+n(241)](e)},{gVlnN:function(e,t){return e(t)}}[t(390)](Ar,e)}function jr(e,t,n){var r=Ur;return{OucxZ:function(e,t){return e in t}}[r(414)](t,e)?Object[r(140)+r(575)](e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lr(e,t){var n=Ur,r={XOlwS:function(e,t){return e instanceof t},pvZFh:n(322)+n(138)+n(527)+n(219)};if(!r[n(268)](e,t))throw new TypeError(r[n(186)])}function Fr(e,t){for(var n=Ur,r={uILjP:function(e,t){return e<t},fNcHu:n(276),SLaZW:function(e,t){return e in t},eLPHJ:n(405)},o=0;r[n(324)](o,t[n(484)]);o++)for(var i=r[n(476)][n(538)]("|"),a=0;;){switch(i[a++]){case"0":r[n(602)](r[n(557)],s)&&(s[n(231)]=!0);continue;case"1":s[n(132)]=s[n(132)]||!1;continue;case"2":s[n(519)+"le"]=!0;continue;case"3":Object[n(140)+n(575)](e,s[n(660)],s);continue;case"4":var s=t[o];continue}break}}function Dr(e,t,n){var r=Ur,o={YGsee:function(e,t,n){return e(t,n)},nbBUg:r(599)};return t&&o[r(286)](Fr,e[r(599)],t),n&&o[r(286)](Fr,e,n),Object[r(140)+r(575)](e,o[r(638)],{writable:!1}),e}function Kr(){var e=["function","finalize","DYAzF","1692tXSKEu","XOlwS","name","ErsMl","ondAo","EzyjT","pjiiQ","2|3|1|4|0|","create","4|1|2|0|3","s://","reconnect","FajZp","ibcAH","abrupt","PrJmZ","requestQua","erQpa","https://ra","YGsee","rray objec","color","NGvWb","VNTcF","default","onclose","text","delta7","Private","TMS","https://cd","nXDQZ","0|1|3|2|4","nIXaP","t been ini","getPrototy","player","tykpn","QtuCt","In order t","test","HhKyc","profile","ppv7","random","155JubnnT","ction","iterator","apiName","mass","from","Wtdnb","rantRespon","UMQSP","XMCoV","Cannot cal","oBiWi","uILjP","GjHsf","destroy","Connected","Etocb","dymXo","|3|6|11|5|","oDWXD","fxrgP","readUTF16S","construct","MhCNm","view","remUser","nbSSm","data","YIcSZ","terable, n","gIEtG","NFlzU","12587344GgCPsH","FJTtz","IenQi","uction.min","isActiveTa","o be itera","Symbol.ite","return obj","Disconnect","ce.\nIn ord","veTab","colorInt","tempt to d","meback"," super() h","m]:","BTR","kin","FHSVQ","connect"," my quadra","floor","sham","readMessag","OujFt","release_da","increaseCo",".dev:8080/",".js","initClient","serverRegi","oMEVr","done","lExAx","Connect er","ocjmd","qServer","vYEuO","sendPlayer","Set","HLkBa","JCnwm","play","ror","1|4|2|5|3|","kkaDr","gVlnN","fsazb","IjFhw","bYCwg",":battleroy","tialised -","0|9|1|7|12","gXhAN","8eNPecl","KflCf","wvgyJ","cExVD","resolve","clientRemo","dMsle","value","hELdf","wcdn.githa","tringZero","undefined","uadrantSil","Establishe","quadrant","emit","OucxZ","ect or und","send","connection","sendRoom","yplyd","ymalvinni/","a function","LCeNn","Derived co","assign","ThApy","end","sent","comebackTi","IgbEg","DOiTH","onPlayer","isDebug","clientToke","PlSnV","uadrant","YMtyj","OghAr","ck.com/joe","client","NQTnq","MylEk","MXUKF","ccolor","3|10|15","7011a85448","-iterable ","puzAe","isKrj","2|8|3|1|5|","accountId","stop","zxfzB","VNUps","qfobR","userID","sendBuffer","Qykmj","IZIMk","WXPMw","497033rvWPOX","wIvhK","onmessage","mKQgI","VqoIG","ve a [Symb","yFHtv","PXWdG","establishe","meout"," may only ","System","Super expr","JKsOz","MJGso","vNyVi","fNcHu","drant","Owkxh","162wrRpkq","LEIwT","accountID","customSkin","[[31mRoot","length","e2b0902816","events","Not connec","lMoYM","binaryType","3|0|4|1|5|","Sfyss","t have a [","8|14|4|2|1","EzRAo","lastData","write","XRFtM","call","ZPcrd","pSkin","PTY","prev","hpmap","unestablis","users","ethod.","skinURL","DIpKM","abs","JUeNY","ted","4iiuXck","includes","/dist/prod","symbol","mqYUk","gVmaT","GWAwI","configurab",":party","isplay","parse","throw","rcBJC","eoaSj","0|2|1|5|4|","as a funct","coordsmass","obAEN","cskin","EdDNg","bFdSl","ble, non-a","Can't tell","Ryrvu","@3.0.1/dis","accountid","split","sendRtcIp","ale","RNfRr","socket","estructure","4|2|5|1|3|","dAACf","Object","calcLocalQ","__proto__","error","MajSl","none","read","jQQKY","clientId","apply","onopen","eLPHJ","RjuuA","this hasn'","QUYDO","UNIT","slice","reset","t by","number","gduaz","TMzwv","red-","customColo","aHYeg","Ahgll","fwKhk","kkdDC","clean","erty","position","setPrototy","estabilish","Arguments","onerror","kbkDi","commander","e null or ","xaQAB",".net/gh/jo","cWBov","playerRemo","string","next","xUbXz","closeConne",":teams","bjects mus","@@iterator","ent","responseQu","BkYYZ","OMDHs","prototype","WzsLh","rator]() m","SLaZW","yjRXV","LXLAg","LWRfS","Invalid at","hed","efined","ol.iterato","gKKQr","find","oSjZg","eymalvinni","asn't been","jWeeM","WXnxO","zNPAt","ISQai","TrzcM","rantReques","JxJPE","dRfXw","FQitJ","RSeys","GttkB","hUwLW","listenTo","APBmA","ts must ha","constructo","TpzHw","break","offset","aBwrQ","continue","ession mus","dHGRS","nbBUg","OPEN","iBzya","rval","bearer","808873dd7a","readyState","EpmVQ","tabRegiste","yBPSv","VYQsD","209240WKTzLG","wave","msZiX","nhYcl","WQqLp","mark","MohLg","readUInt16","writeUInt8","4|0|2|3|1","aTcFo","key","import","instance.\n","adrant","wrap","vpjlh","close","wss://snez","nstructors","HNcsD","updateInte","clientQuad","isArray","message","zUGzk","Map","playerID","enumerable","toString","OCEGo","publicIP","XRyTd","/webrtc-ip","l a class ","FFA","defineProp","return","on-array o","Quadrant r","timeout","log","SdoCm","blocked","isSocketOp","type","webrtc-ip/","targetID","idvjJ","pbThe","t either b","NeOKK","9|0|4|6|7"," called","PBXOa","valueOf","tempt to i","LjSft","yyxUL","equest sen","in_use","ZHkbC","jlTNY","gaWUK","ohfrk","EKpSU","vEDJc","lWpoe","steredTab","DNQpD","ged","CZhjN","vWrLy","AhTYq","VpzMq","object","xxwXX","FWCtf","DzVFS","r]() metho","1867768rIzXiK","UXpri","pvZFh","iYdxR","arraybuffe","mBLim","skin","pzJSB","pColor","nick","xauTF","gUqst","apis","DxtRZ","n.jsdelivr","er to be i","OufxC","then","MyAcr","isAlive","HtnbI","VEqRR","on.min.js","TIRyL","uLeRy","uugTr","callbackID","jvNDR","nTag","tal","YeqLV","ImSxL","IZnGN","1925917xnkznF","aQqyL","ion","TYAhc","No apis","523299Spzdhw","qHSLC","JTfAH"," non-itera","KWNFL","Connecting","uctas","push","protocol_s","writable","mVxmc","use","writeUTF8S","EXP","ZbSuj","ble instan","RAoHz","readUInt8","Chnnp","peOf","Updates","1|3|2|4|0","d74573ff9a","ONHAW","onUpdateTi","destroyed","alive chan",":experimen","ncuMd","missed","Socket[39","release","GvBzq","t/producti","SKNrq","WxLqa","playerAID","terate non","lZDxa","PMmgX","bind","flags"];return(Kr=function(){return e})()}function Xr(){this[Ur(164)]=!0}function Br(){var e=Ur;this[e(164)]=!1,this[e(369)+"te"]=new Date}function Nr(){}function zr(){for(var e=Ur,t={oSjZg:e(449)+e(156),jlTNY:e(227),dHGRS:e(274)+"5",VYQsD:e(327),NQTnq:e(352)+"ed",OujFt:e(378)+e(387),PXWdG:e(642),Sfyss:e(188)+"r"},n=t[e(612)][e(538)]("|"),r=0;;){switch(n[r++]){case"0":this[e(542)][e(556)]=function(){for(var t=e,n=o[t(586)][t(538)]("|"),r=0;;){switch(n[r++]){case"0":i[t(456)](a[t(265)]());continue;case"1":var a=new Nt.Q;continue;case"2":i[t(428)+t(469)]=500;continue;case"3":i[t(145)](o[t(173)]);continue;case"4":a[t(657)](0);continue;case"5":i[t(539)]();continue}break}};continue;case"1":this[e(145)](t[e(166)]);continue;case"2":var o={cWBov:t[e(637)],DNQpD:t[e(648)],GvBzq:t[e(440)],ErsMl:t[e(368)]};continue;case"3":this[e(591)+e(313)]();continue;case"4":this[e(542)][e(462)]=function(t){var n=e,r=new Bt.E(new DataView(t[n(339)]));i[n(367)+"e"](r)};continue;case"5":this[e(542)]=new WebSocket(this[e(135)],t[e(467)]);continue;case"6":this[e(542)][e(292)]=function(t){var n=e;i[n(591)+n(313)](),i[n(145)](o[n(254)],t),i[n(278)]()};continue;case"7":this[e(542)][e(580)]=function(t){var n=e;return i[n(145)](o[n(270)],t)};continue;case"8":var i=this;continue;case"9":this[e(542)][e(489)]=t[e(491)];continue}break}}function qr(){for(var e=Ur,t={OufxC:e(658),idvjJ:e(388)+"0",oBiWi:e(352)+"ed",dRfXw:e(504)+e(607)},n=t[e(200)][e(538)]("|"),r=0;;){switch(n[r++]){case"0":this[e(417)+"ID"]=null;continue;case"1":if(this[e(542)]){try{for(var o=t[e(152)][e(538)]("|"),i=0;;){switch(o[i++]){case"0":this[e(145)](t[e(323)]);continue;case"1":this[e(542)][e(556)]=null;continue;case"2":this[e(542)][e(580)]=null;continue;case"3":this[e(542)][e(121)]();continue;case"4":this[e(542)][e(462)]=null;continue;case"5":this[e(542)][e(292)]=null;continue}break}}catch(e){}this[e(542)]=null}continue;case"2":this[e(468)+"d"]&&this[e(413)](t[e(622)]);continue;case"3":this[e(468)+"d"]=!1;continue;case"4":this[e(505)][e(574)]();continue}break}}function Hr(){var e=Ur,t={LXLAg:function(e,t){return e<t},TpzHw:function(e,t){return e*t}};this[e(428)+e(469)]=t[e(604)](this[e(428)+e(469)],4e4)?t[e(631)](this[e(428)+e(469)],2):4e4}function Wr(){var e=Ur,t=this;({aTcFo:function(e,t,n){return e(t,n)}})[e(659)](setTimeout,(function(){t[e(363)]()}),this[e(428)+e(469)]),this[e(370)+e(357)]()}function Gr(){var e=Ur,t={FajZp:function(e,t){return e!==t},MyAcr:function(e,t){return e===t}};return t[e(279)](this[e(542)],null)&&t[e(202)](this[e(542)][e(644)],this[e(542)][e(639)])}function Vr(e){var t=Ur,n={msZiX:t(487)+t(511)};if(!this[t(148)+"en"]())return this[t(549)](n[t(651)]);this[t(542)][t(416)](e)}function Yr(e){var t=Ur,n={Owkxh:function(e,t){return e==t},cExVD:t(243),IgbEg:function(e,t){return e===t},vEDJc:t(303),AhTYq:t(490)+"2",jvNDR:t(635),EzRAo:function(e,t){return e==t},PBXOa:t(587)+"ve",fsazb:t(578)+"ed",QUYDO:t(411)+"d",hELdf:function(e,t){return e+t},RSeys:t(646)+t(568),FQitJ:function(e,t){return e+t},ZbSuj:t(128),WzsLh:function(e,t){return e(t)},QtuCt:function(e){return e()},VqoIG:function(e){return e()},xauTF:function(e,t){return e!==t},xaQAB:t(534)+t(364)+"nt",yyxUL:function(e,t,n){return e(t,n)},Ahgll:t(412),oMEVr:function(e,t,n){return e(t,n)},Ryrvu:function(e,t,n,r){return e(t,n,r)},APBmA:function(e,t){return e%t},hUwLW:function(e,t){return e<<t},qfobR:function(e,t){return e%t},JUeNY:t(650)},r=this,o=e[t(239)]();switch(o){case 0:this[t(417)+"ID"]=e[t(656)](),this[t(468)+"d"]=!0,this[t(413)](n[t(391)]),this[t(145)](n[t(560)]);break;case 1:var i=qt[t(522)][t(374)+t(172)](e),a=i[t(210)],u=i[t(131)];this[t(413)](n[t(406)](n[t(624)],a),u),!this[t(486)][n[t(623)](n[t(624)],a)]&&this[t(456)](qt[t(275)][t(403)+t(354)](u)),this[t(382)+t(242)](!0);break;case 25:var c=qt[t(522)][t(128)](e),l=c[t(149)],f=c[t(455)],h=c[t(131)],d=(c[t(151)],c[t(293)]),p=c[t(193)],v=new vr({type:l,userId:f,playerId:h,text:d,name:p,isMe:n[t(429)](f,this[t(417)+"ID"])});this[t(413)](n[t(236)],v);break;case 16:e[t(633)]=1;var y,m=qt[t(310)][t(552)](e),g=n[t(600)](Tr,m);try{var b=function(){for(var e=t,o=n[e(401)][e(538)]("|"),i=0;;){switch(o[i++]){case"0":r[e(505)][e(431)](c);continue;case"1":var a,s,u;continue;case"2":var c={isPlayer:!!r[e(486)][e(196)][e(611)]((function(t){var r=e;return n[r(478)](t[r(131)],l[r(131)])})),api:r,playerID:l[e(131)],accountID:l[e(450)],clientID:l[e(554)],nick:l[e(193)],skinURL:l[e(482)],customColor:l[e(569)+"r"],skinID:l[e(500)],secureColor:l[e(192)],x:n[e(429)](a=l[e(576)],null)||n[e(429)](a,void 0)?void 0:a.x,y:n[e(429)](s=l[e(576)],null)||n[e(429)](s,void 0)?void 0:s.y,mass:n[e(429)](u=l[e(576)],null)||n[e(429)](u,void 0)?void 0:u[e(316)],isAlive:l[e(203)],quadrant:l[e(412)]};continue;case"3":var l=y[e(405)];continue;case"4":r[e(413)](n[e(170)],c);continue}break}};for(g.s();!(y=g.n())[t(376)];)n[t(305)](b)}catch(e){g.e(e)}finally{g.f()}break;case 12:var w,_=qt[t(522)][t(587)+"ve"](e),k=n[t(600)](Tr,_);try{var S=function(){for(var e=t,o=n[e(177)][e(538)]("|"),i=0;;){switch(o[i++]){case"0":var a;continue;case"1":if(n[e(429)](a=r[e(486)][e(196)],null)||n[e(429)](a,void 0)?void 0:a[e(611)]((function(t){var n=e;return s[n(436)](t[n(131)],u)})))return n[e(211)];continue;case"2":r[e(505)][e(337)](u);continue;case"3":var s={YMtyj:function(t,r){return n[e(494)](t,r)}};continue;case"4":var u=w[e(405)];continue;case"5":r[e(413)](n[e(158)],u);continue}break}};for(k.s();!(w=k.n())[t(376)];){var T=n[t(464)](S);n[t(429)](T,n[t(211)])}}catch(e){k.e(e)}finally{k.f()}break;case 41:var x=qt[t(522)][t(126)+t(620)+"t"](e),U=s.wU[t(380)][t(547)+t(435)]();n[t(194)](U,null)?this[t(456)](qt[t(275)][t(126)+t(319)+"se"](this[t(417)+"ID"],x,U)):this[t(549)](n[t(584)],U);break;case 42:var C=qt[t(522)][t(126)+t(319)+"se"](e),I=n[t(162)](wr,C,3),P=I[0],O=(I[1],I[2]);this[t(413)](n[t(571)],P,O);break;case 45:var R=qt[t(522)][t(582)](e),E=n[t(375)](wr,R,5),M=(E[0],E[1]),A=E[2],j=E[3],L=E[4],F=n[t(535)](lr.c,Math[t(509)](n[t(628)](n[t(626)](n[t(454)](M,360),314159),360)),95,46);this[t(413)](n[t(510)],this,M,A,j,L,F);break;case 252:new Function(e[t(333)+t(408)]())[t(262)](this)({reader:e,Writer:Nt.Q,Reader:Bt.E});break;case 255:default:this[t(145)](o,":",e);break;case 253:for(;;);}}function Zr(){var e=Ur,t={HNcsD:function(e,t){return e>t},GttkB:function(e,t){return e!==t},rcBJC:e(251),pzJSB:function(e,t){return e!==t},PrJmZ:e(139),jQQKY:e(394)+e(540),nXDQZ:e(360),lWpoe:e(592),vWrLy:e(296),Wtdnb:e(249)+e(213),MXUKF:e(235),DxtRZ:e(520),RNfRr:e(501),vNyVi:e(277),gIEtG:e(295)},n=t[e(124)](arguments[e(484)],0)&&t[e(625)](arguments[0],void 0)?arguments[0]:t[e(524)],r=t[e(124)](arguments[e(484)],1)&&t[e(191)](arguments[1],void 0)?arguments[1]:t[e(524)],o=t[e(124)](arguments[e(484)],2)&&t[e(191)](arguments[2],void 0)?arguments[2]:t[e(282)],i=t[e(124)](arguments[e(484)],3)&&t[e(625)](arguments[3],void 0)?arguments[3]:t[e(524)];if(t[e(124)](arguments[e(484)],4)&&t[e(191)](arguments[4],void 0)||t[e(524)],this[e(148)+"en"]()&&this[e(417)+"ID"]){switch(o){case t[e(553)]:o=t[e(298)];break;case t[e(171)]:o=t[e(176)];break;case t[e(318)]:o=t[e(442)];break;case t[e(197)]:o=t[e(541)]}this[e(456)](qt[e(275)][e(433)+e(212)](n,r,i[e(513)](t[e(475)])?t[e(342)]:i[e(538)]("-")[0],o))}}function Qr(){var e=Ur;this[e(382)+e(242)]()}function Jr(){var e=Ur;this[e(148)+"en"]()&&this[e(417)+"ID"]&&this[e(456)](qt[e(275)][e(126)+e(620)+"t"](this[e(417)+"ID"]))}function $r(e){var t=Ur;this[t(148)+"en"]()&&this[t(417)+"ID"]&&this[t(456)](qt[t(275)][t(126)+t(319)+"se"](this[t(417)+"ID"],e,s.wU[t(380)][t(547)+t(435)]()))}function eo(e){var t=Ur,n={FHSVQ:t(196),isKrj:t(221),NGvWb:function(e,t){return e(t)},UMQSP:function(e,t){return e!==t},EKpSU:function(e,t){return e!==t},XRFtM:function(e,t){return e!==t},gUqst:function(e,t){return e!==t},nhYcl:function(e,t){return e!==t},aBwrQ:function(e,t){return e!==t},iYdxR:t(248)+t(174)};if(this[t(148)+"en"]()&&this[t(417)+"ID"]){var r=this[t(486)][n[t(362)]];if(!r)return console[t(549)](n[t(448)]);var o,i=[],a=new Nt.Q,u=n[t(289)](Tr,r);try{for(u.s();!(o=u.n())[t(376)];){var c=o[t(405)],l=c[t(561)];if(c[t(131)]){c[t(263)][t(563)]();var f=c[t(495)],h={flags:c[t(263)],playerID:c[t(131)],clientID:this[t(417)+"ID"],nick:l[t(309)][t(193)],customSkin:l[t(309)][t(507)],customColor:1e5,pSkin:l[t(230)+t(361)],pColor:l[t(355)],accountID:l[t(439)][t(258)],position:{x:l[t(336)].x,y:l[t(336)].y,mass:l[t(316)]},isAlive:l[t(386)],quadrant:s.wU[t(380)][t(547)+t(410)+t(595)]()};n[t(320)](h[t(193)],f[t(193)])&&(c[t(263)][t(193)]=!0),n[t(169)](h[t(482)],f[t(482)])&&(c[t(263)][t(530)]=!0),n[t(320)](h[t(569)+"r"],f[t(569)+"r"])&&(c[t(263)][t(443)]=!0),n[t(320)](h[t(500)],f[t(500)])&&(c[t(263)][t(190)]=!0),n[t(497)](h[t(192)],f[t(192)])&&(c[t(263)][t(288)]=!0),n[t(195)](h[t(481)],f[t(481)])&&(c[t(263)][t(537)]=!0),(n[t(169)](h[t(576)].x,f[t(576)].x)||n[t(652)](h[t(576)].y,f[t(576)].y))&&(c[t(263)][t(528)]=!0),n[t(320)](h[t(203)],f[t(203)])&&(c[t(263)][t(521)]=!0),n[t(634)](h[t(412)],f[t(412)])&&(c[t(263)][t(412)]=!0),Object[t(424)](f,h),c[t(263)][t(521)]&&console[t(145)](n[t(187)],h[t(203)]),i[t(229)](h)}}}catch(e){u.e(e)}finally{u.f()}qt[t(310)][t(496)](a,i)&&this[t(456)](a[t(265)]())}}function to(){var e,t,n,r,o,i,a,s=Ur,u={ondAo:s(144),dymXo:function(e,t){return e>t},pbThe:function(e,t){return e-t},ThApy:s(551),Qykmj:function(e,t,n){return e(t,n)},FWCtf:s(297)+s(198)+s(585)+s(613)+s(137)+s(536)+s(255)+s(206),VpzMq:s(285)+s(407)+s(438)+s(420)+s(150)+s(244)+s(485)+s(643)+s(445)+s(514)+s(347)+s(372),Etocb:function(e,t){return e<t},mVxmc:s(471),EdDNg:s(661),ocjmd:function(e,t){return e(t)},bYCwg:s(291),kkdDC:s(632),tykpn:s(147),zxfzB:s(426)},c=this;function l(){var e=s,t=new Nt.Q;t[e(657)](133),t[e(234)+e(408)](u[e(271)]),c[e(456)](t[e(265)]())}function f(e){var t=s,n=new Nt.Q;n[t(657)](133),n[t(234)+t(408)](e&&u[t(329)](e[t(484)],0)?e[u[t(153)](e[t(484)],1)]:u[t(425)]),c[t(456)](n[t(265)]())}return regeneratorRuntime[s(119)]((function(c){for(var h=s;;)switch(c[h(502)]=c[h(589)]){case 0:e=u[h(457)](setTimeout,l,5e3),t=[u[h(181)],u[h(178)]],n=0,r=t;case 3:if(!u[h(328)](n,r[h(484)])){c[h(589)]=21;break}return o=r[n],c[h(589)]=7,window[u[h(232)]][u[h(531)]](o);case 7:if(!(i=c[h(427)])){c[h(589)]=14;break}return u[h(379)](clearTimeout,e),i[u[h(393)]]()[h(201)](f),c[h(281)](u[h(573)],21);case 14:(a=new Nt.Q)[h(657)](133),a[h(234)+h(408)](u[h(304)]),this[h(456)](a[h(265)]());case 18:n++,c[h(589)]=3;break;case 21:case u[h(452)]:return c[h(451)]()}}),to,this)}function no(){var e=Ur,t={HhKyc:function(e,t){return e(t)}}[e(308)](br,regeneratorRuntime[e(654)](to));return function(){var n=e;return t[n(555)](this,arguments)}}!function(e,t){for(var n=Ur,r=e();;)try{if(474484==-parseInt(n(460))/1+parseInt(n(512))/2*(-parseInt(n(222))/3)+-parseInt(n(184))/4+parseInt(n(312))/5*(-parseInt(n(267))/6)+parseInt(n(217))/7*(parseInt(n(398))/8)+parseInt(n(479))/9*(parseInt(n(649))/10)+parseInt(n(344))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}(Kr),(pr={DOiTH:(dr=Ur)(526)+"3",mBLim:function(e,t){return e>t},lMoYM:function(e,t){return e!==t},LjSft:function(e,t,n){return e(t,n)},MohLg:function(e,t,n){return e(t,n)},MhCNm:dr(233),NFlzU:dr(253),WxLqa:dr(326)})[dr(655)](Dr,(function e(){for(var t=dr,n=pr[t(430)][t(538)]("|"),r=0;;){switch(n[r++]){case"0":var o=pr[t(189)](arguments[t(484)],0)&&pr[t(488)](arguments[0],void 0)?arguments[0]:0;continue;case"1":this.id=o;continue;case"2":pr[t(161)](Lr,this,e);continue;case"3":this[t(369)+"te"]=new Date;continue;case"4":this[t(247)]=!1;continue;case"5":this[t(164)]=!1;continue}break}}),[{key:pr[dr(335)],value:Xr},{key:pr[dr(343)],value:Br},{key:pr[dr(257)],value:Nr}]);var ro=new(function(e){var t=Ur,n={vYEuO:t(143)+t(163)+t(564),OghAr:t(283)+t(477),WXnxO:t(396)+t(330)+t(493)+t(444),gduaz:function(e,t,n){return e(t,n)},VNUps:function(e,t,n,r){return e(t,n,r)},aHYeg:function(e,t){return e(t)},gKKQr:t(486),qHSLC:t(483)+t(252)+t(359),RAoHz:function(e,t,n){return e(t,n)},nbSSm:t(373),WQqLp:function(e,t){return e+t},DzVFS:function(e,t){return e*t},kkaDr:t(122)+t(371)+t(294),PlSnV:t(363),fwKhk:t(591)+t(313),zUGzk:t(370)+t(357),ohfrk:t(278),DYAzF:t(148)+"en",IenQi:t(456),yjRXV:t(367)+"e",LEIwT:t(418),fxrgP:t(246)+"ck",Chnnp:t(596)+t(118),hpmap:t(382)+t(242),TrzcM:t(539),ImSxL:function(e){return e()}};n[t(566)](Ir,o,e);var r=n[t(570)](Or,o);function o(){for(var e=t,i=n[e(616)][e(538)]("|"),a=0;;){switch(i[a++]){case"0":var u;continue;case"1":u=r[e(498)](this);continue;case"2":u[e(125)+e(641)]=n[e(566)](setInterval,(function(){return u[e(246)+"ck"]()}),1500);continue;case"3":u[e(432)]=!0;continue;case"4":u[e(315)]="v7";continue;case"5":u[e(549)]=console[e(549)];continue;case"6":u[e(417)+"ID"]=null;continue;case"7":n[e(453)](jr,n[e(570)](Er,u),n[e(610)],{apis:[]});continue;case"8":n[e(453)](l.qc,!0,n[e(570)](Er,u),n[e(223)]);continue;case"9":n[e(238)](Lr,this,o);continue;case"10":s.wU.on(n[e(338)],(function(t){var r=e,o={uLeRy:n[r(381)]};t[r(627)](t,n[r(437)],(function(){var e=r;s.wU[e(348)+"b"](t)&&(u[e(145)](o[e(208)],[t]),s.wU[e(380)][e(563)](),u[e(283)+e(477)]())}))}));continue;case"11":u[e(145)]=console[e(145)];continue;case"12":u.id=n[e(653)](Math[e(365)](n[e(182)](Math[e(311)](),2147483647)),1);continue;case"13":u[e(505)]=new Zn;continue;case"14":u[e(135)]=n[e(389)];continue;case"15":return u}break}}return n[t(566)](Dr,o,[{key:n[t(434)],value:zr},{key:n[t(572)],value:qr},{key:n[t(129)],value:Hr},{key:n[t(168)],value:Wr},{key:n[t(266)],value:Gr},{key:n[t(346)],value:Vr},{key:n[t(603)],value:Yr},{key:n[t(480)],value:Zr},{key:n[t(332)],value:Qr},{key:n[t(437)],value:Jr},{key:n[t(240)],value:$r},{key:n[t(503)],value:eo},{key:n[t(619)],value:n[t(215)](no)}]),o}(l.aN));function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}function io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function so(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&co(e,t)}function co(e,t){return co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},co(e,t)}function lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=po(e);if(t){var o=po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fo(this,n)}}function fo(e,t){if(t&&("object"===oo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ho(e)}function ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function po(e){return po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},po(e)}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yo(e){return e.replace(/^\s+at\s+(\<?[\w.]+\>?).*/,"$1")}function mo(){return(new Error).stack.split(/\n/).slice(2).map(yo).slice(-1)[0].indexOf("anonymous")>-1}function go(){}function bo(e){var t=this;if(!e)throw Error("No unit to set");this.UNIT=e,clearTimeout(this.aliveTimer),this.unitevents.listenTo(this.RootSocket,"apis",this),this.unitevents.listenTo(this.UNIT,"spawn",(function(){return t.RootSocket.sendPlayerUpdates()})),this.unitevents.listenTo(this.UNIT,"death",(function(){return t.RootSocket.sendPlayerUpdates()})),this.UNIT.once("destroy",(function(){t.error("self unit destroyed"),t.unsetUnit()})),this.lastData={position:{}},this.RootSocket.sendPlayerUpdates()}function wo(e){return"master"===e.tabName||"slave"===e.tabName}function _o(){var e=this;this.listenTo(this.RootSocket,"tabRegistered-"+this.id,(function(t){e.playerID=t,e.log("Added player",t)})),this.listenTo(ze,"sendChatMessage",(function(t,n){s.wU.unitManager.activeUnit===e.UNIT&&e.sendChatMessage(t,e.UNIT.profile.nick,n)})),this.listenTo(this.RootSocket,"estabilished",(function(){return e.connect()})),this.listenTo(this.RootSocket,"unestablished",(function(){return e.closeConnection()})),this.RootSocket.established&&this.connect()}function ko(){this.error("api destroyed"),this.closeConnection(),this.unlisten(),this.RootSocket=null}function So(){this.closeConnection(),this.isSocketOpen()&&(this.log("Requesting player ID for ..."),this.sendBuffer(qt.create.clientRegisterTab(this.id)))}function To(){this.isSocketOpen()&&this.playerID>-1&&this.sendBuffer(qt.create.clientRemoveTab(this.playerID)),this.playerID=null}function xo(){return this.RootSocket.isSocketOpen()}function Uo(e){this.RootSocket.sendBuffer(e)}function Co(){}function Io(e,t){this.isSocketOpen()&&this.playerID&&this.sendBuffer(qt.create.commander(this.RootSocket.connectionID,this.playerID,4,e,t))}function Po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(this.isSocketOpen()&&this.playerID&&!mo()){var r=qt.create.message({type:e,userID:this.RootSocket.connectionID,playerID:this.playerID,targetID:0,nick:t,text:n});this.sendBuffer(r)}}ro[yr(363)]();var Oo=function(e){uo(i,e);var t,n,r,o=lo(i);function i(e){var t;return so(this,i),vo(ho(t=o.call(this)),"onAliveTimeout",go),t.aliveTimer=null,t.log=console.log,t.error=console.error,t.trace=console.trace,t.RootSocket=e,(0,l.qc)(!0,ho(t),"[[31mRS ⇄ "+t.id+"[39m]:"),t.apiName="delta",t.playerID=null,t.flags=new gn,t.lastData={position:{}},t.registerClientListeners(),t}return t=i,(n=[{key:"setUnit",value:bo},{key:"unsetUnit",value:function(){var e=this;if(!this.UNIT)throw Error("No unit to remove");this.flags.reset(),this.lastData={position:{}},this.RootSocket.sendPlayerUpdates(),this.aliveTimer=setTimeout((function(){return e.onAliveTimeout()}),2e3),this.unitevents.unlisten(),this.UNIT=void 0,i.releaseApi(this)}},{key:"isNeedChat",value:wo},{key:"registerClientListeners",value:_o},{key:"destroy",value:ko},{key:"connect",value:So},{key:"closeConnection",value:To},{key:"isSocketOpen",value:xo},{key:"sendBuffer",value:Uo},{key:"onConnect",value:Co},{key:"sendWave",value:Io},{key:"sendChatMessage",value:Po}])&&ao(t.prototype,n),r&&ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(function(e){uo(n,e);var t=lo(n);function n(e){var r;return so(this,n),vo(ho(r=t.call(this)),"UNIT",void 0),r.id=Math.floor(12345*Math.random())+1,r.UNIT=e,r.apiName="Template",r.isDebug=!0,r.unitevents=new l.aN,r.release_date=new Date,r}return n}(l.aN));vo(Oo,"pool",new Set),vo(Oo,"getApi",(function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?io(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(Oo.pool);try{for(n.s();!(t=n.n()).done;){var r=t.value;return Oo.pool.delete(r),r}}catch(e){n.e(e)}finally{n.f()}return new Oo(e)})),vo(Oo,"releaseApi",(function(e){Oo.pool.add(e),e.onAliveTimeout=function(){console.error("api destroy"),Oo.pool.delete(e),e.destroy()}})),window.ApiDelta=Oo;var Ro=n(970);function Eo(e){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(e)}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jo(e,t){return jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jo(e,t)}function Lo(e,t){if(t&&("object"===Eo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fo(e)}function Do(){var e=this;Object.entries(this.store.all).forEach((function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),r=n[0];n[1],e.remUser(r)}))}function Ko(e){var t=null;return this.store.has(e)?t=this.store.get(e):(t=new Fn(e),this.store.add(t)),t}function Xo(e){this.store.has(e)&&this.getUser(e).destroy(),this.store.rem(e)}function Bo(e){this.store.has(e)&&this.remUser(e)}function No(){return this.store.by.serverToken[""]||[]}const zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jo(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fo(r);if(o){var n=Fo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lo(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).store=new l.FA("id",["serverToken","protocol"],Fn.prototype),e}return t=a,(n=[{key:"clean",value:Do},{key:"getUser",value:Ko},{key:"remUser",value:Xo},{key:"onPlayerRemove",value:Bo},{key:"users",get:No}])&&Ao(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l.aN);function qo(e){return qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(e)}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yo(e,t)}function Yo(e,t){return Yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yo(e,t)}function Zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$o(e);if(t){var o=$o(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qo(this,n)}}function Qo(e,t){if(t&&("object"===qo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jo(e)}function Jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $o(e){return $o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$o(e)}var ei=function(e){Vo(n,e);var t=Zo(n);function n(e){var r;return Go(this,n),(r=t.call(this)).tabManager=e,r}return n}(l.aN);function ti(e){this.isHaveDuplicate(e.text)||ze.displayChatMessage(e)}function ni(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=!1,r=this.messagesLog.length;r--;)if(t-this.messagesLog[r].time<300&&this.messagesLog[r].text===e){n=!0;break}return this.messagesLog.push({text:e,time:t}),this.messagesLog.length>10&&this.messagesLog.shift(),n}function ri(){return ro.sendRoom(s.wU.server.serverToken,s.eH.mainProfile.clanTag,Ro.Z.agarioServerList.state.selector2,Ro.Z.agarioServerList.state.selector1)}function oi(e,t,n,r,o,i){s.wU.addWave(r,o,i)}function ii(){return ro.users.clean()}function ai(e){var t,n=e.x,r=e.y,o=(e.color,function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ho(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(ro.events.apis));try{for(o.s();!(t=o.n()).done;){var i=t.value;i.UNIT==s.wU.unitManager.activeUnit&&i.sendWave(n,r)}}catch(e){o.e(e)}finally{o.f()}}function si(e){Oo.getApi(ro).setUnit(e)}function ui(e,t){s.wU.qServer.receiveUsersQuadtant(t,e)}function ci(){var e=this,t=ri;ro.on("message",this.onChatMessage.bind(this)),ro.on("wave",oi),ro.on("unestablished",ii),ro.on("estabilished",(function(){return t()})),s.eH.mainProfile.on("clanTag",(function(){return t()})),s.wU.server.on("estabilished",(function(){s.wU.server.estabilished&&t()})),s.wU.on("wave",ai),s.wU.unitManager.on("add",si),ro.users.store.on("add",(function(t){e.userManager.store.add(t)})),ro.users.store.on("remove",(function(t){e.userManager.remUser(t.id)})),ro.users.store.on("reindex",(function(t){e.userManager.store.reindex(t)})),ro.users.store.on("change",(function(t,n){e.userManager.store.set(t,n,t[n])})),ro.on("quadrant",ui)}var li=new(function(e){Vo(o,e);var t,n,r=Zo(o);function o(){var e;return Go(this,o),(e=r.call(this)).userManager=new zo,e.isDebug=!0,(0,l.qc)(!0,Jo(e),"[[31m↯ Comm[39m]:"),e.messagesLog=[],e.atcontroller=new ei(Jo(e)),e}return t=o,(n=[{key:"onChatMessage",value:ti},{key:"isHaveDuplicate",value:ni},{key:"init",value:ci}])&&Wo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(l.aN));li.init(),ze.init();var fi=n(6524),hi=n(4857);function di(e){return di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},di(e)}function pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yi(e,t,n){return t&&vi(e.prototype,t),n&&vi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gi(e,t)}function gi(e,t){return gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gi(e,t)}function bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ki(e);if(t){var o=ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wi(this,n)}}function wi(e,t){if(t&&("object"===di(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _i(e)}function _i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ki(e){return ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ki(e)}function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(340),r.yK.Component,r.yK.render,r.yK.h,r.yK.createRef;var Ti=r.rl.useState,xi=r.rl.useEffect,Ui=r.rl.useRef;function Ci(e){var t=this,n=e.client;function o(){var e=Math.min(4,Math.max(1,4-Math.abs(25-n.pps)));t.state.signal!=e&&(t.state.signal=e,t.$signal.current.className="waveStrength waveStrength-"+e)}return this.$signal=Ui(),xi((function(){var e=setInterval(o,1e3);return function(){return clearInterval(e)}}),[n.ID]),r.yK.h("div",{class:"wifi-block"},r.yK.h("div",{class:"waveStrength waveStrength-1",ref:this.$signal},r.yK.h("div",{class:"wv4 wave"},r.yK.h("div",{class:"wv3 wave"},r.yK.h("div",{class:"wv2 wave"},r.yK.h("div",{class:"wv1 wave"}))))))}var Ii=function(e){mi(n,e);var t=bi(n);function n(){var e;pi(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Si(_i(e=t.call.apply(t,[this].concat(o))),"state",{signal:1}),e}return yi(n,[{key:"render",value:Ci}]),n}(F.l);function Pi(e){return r.yK.h(Ii,{key:e.ID,client:e})}function Oi(){var e=this;function t(){return e.setState({clients:s.wU.clients.player.slice(0)})}function n(){e.unlisten()}return Ti((function(){var r=t;return r(),e.listenTo(s.wU,"initClient",(function(){return r()})),e.listenTo(s.wU,"removeClient",(function(){return r()})),n})),[r.yK.h("style",null,"/* CSS used here will be applied after bootstrap.css */\n            .wifi-block {\n                /* background: green; */\n                /* position: relative; */\n                /* overflow: hidden; */\n                height: 1em;\n                margin: 0 -0.2em 0 -0.2em;\n                display: block;\n            }\n            .waveStrength {\n                /* height: 15px; */\n            }\n            .wave {\n                display: block;\n                border: 0.2em solid transparent;\n                border-top-color: currentColor;\n                border-radius: 50%;\n                border-style: solid;\n                margin: 0.05em 0.05em 0px 0.05em;\n            }\n            .waveStrength-3 .wv4.wave,\n            .waveStrength-2 .wv4.wave,\n            .waveStrength-2 .wv3.wave,\n            .waveStrength-1 .wv4.wave,\n            .waveStrength-1 .wv3.wave,\n            .waveStrength-1 .wv2.wave,\n            .waveStrength-0 .wave {\n                border-top-color: #323232;\n            }"),this.state.clients.map(Pi)]}const Ri=function(e){mi(n,e);var t=bi(n);function n(){var e;pi(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Si(_i(e=t.call.apply(t,[this].concat(o))),"state",{clients:[]}),e}return yi(n,[{key:"render",value:Oi}]),n}(F.l);function Ei(e){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ei(e)}function Mi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ai(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t,n){return t&&Fi(e.prototype,t),n&&Fi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ki(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xi(e,t)}function Xi(e,t){return Xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xi(e,t)}function Bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qi(e);if(t){var o=qi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ni(this,n)}}function Ni(e,t){if(t&&("object"===Ei(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zi(e)}function zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e){return qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qi(e)}var Hi=r.yK.Component,Wi=(r.yK.render,r.yK.h,r.yK.createRef),Gi=(r.rl.useState,r.rl.useEffect),Vi=r.rl.useRef;function Yi(e){var t=e.mass,n=e.name,o=e.n,i=e.className;return r.yK.h("div",{class:i},r.yK.h("div",{class:"mass"},t),r.yK.h("div",{class:"n"},o),r.yK.h("div",{class:"name"},n))}var Zi=function(e){Ki(n,e);var t=Bi(n);function n(){return Li(this,n),t.apply(this,arguments)}return Di(n,[{key:"render",value:Yi}]),n}(Hi);function Qi(){var e=this.__P.classList;f.Xd.proxy.lbRightAlign?(e.remove("classic"),e.add("right")):(e.remove("right"),e.add("classic"))}function Ji(){var e=this.state.pieChart,t="",n=0,r=0;for(e.length;e.length>r;r++){var o=e[r][1],i=100*e[r][0];t+="".concat(o," ").concat(n,"%, ").concat(o," ").concat(n+i,"%"),n+=i,r!==e.length-1&&(t+=",")}return"conic-gradient(".concat(t,")")}function $i(e){return e.preventDefault()}function ea(){var e=this.__P;e.style.fontSize=100*f.rS.proxy.hudScale+"%",e.addEventListener("contextmenu",$i)}function ta(){return s.wU.prevServer()}function na(){return s.wU.nextServer()}function ra(e,t){var n=e.mass,o=e.name,i=e.n,a=e.className;return r.yK.h(Zi,{mass:n,name:o,n:i,className:a})}function oa(){var e=this;function t(){return e.setCenteredLb()}function n(){return e.setState({visible:!e.state.visible})}function o(){return e.setState({no_cache:Math.random()})}function i(){return e.setState({no_cache:Math.random()})}function a(){return e.setState({no_cache:Math.random()})}function u(){return e.setState({})}function c(t){return e.setState(t)}function h(){return e.unlisten()}return Gi((function(){return e.listenTo(f.Xd,"lbRightAlign",t),e.listenTo(l.dD,"hk-showLb:down",n),e.listenTo(f.Xd,"normalLb",o),e.listenTo(f.Xd,"showLbTotal",i),e.listenTo(f.Xd,"showLbBots",a),e.listenTo(s.wU.server,"userFriendlyToken",u),e.listenTo(f.rS,"hudScale",e.updateRootStyles.bind(e)),e.listenTo(va,"state",c),e.setCenteredLb(),e.updateRootStyles(),h}),[1]),[r.yK.h("div",{class:"lb-title-controls"},r.yK.h("div",{class:"lb-title-texts"},r.yK.h("div",{class:"title"},f.Xd.proxy.normalLb?(0,l.dz)("leaderboard"):"DELTAV4.GLITCH.ME"),r.yK.h("div",{class:"server"},r.yK.h("div",{class:"lb-server"},s.wU.server.userFriendlyToken),r.yK.h("div",{class:"lb-title-buttons"},r.yK.h("div",{class:"lb-title-button",onclick:ta},r.yK.h("div",{class:"fas fa-chevron-left"})),r.yK.h("div",{class:"lb-title-button",onclick:na},r.yK.h("div",{class:"fas fa-chevron-right"})))))),r.yK.h("div",{class:"lb-container"},r.yK.h("div",{class:"lb-pie "+(this.state.isPieChart?"visible":"hidden"),style:"background: "+(this.state.isPieChart?this.getPieChartBackground():"initial")+";"}),r.yK.h("div",{iiid:"leaderboard-data"}),!this.state.isPieChart&&this.state.leaderboard.length>0?[r.yK.h("div",{class:"lb-entries"},this.state.leaderboard.map(ra)),r.yK.h("div",{class:"icons-container"},r.yK.h("div",{class:"icon-info"+(f.Xd.proxy.showLbBots&&this.state.total>this.state.leaderboard.length?"":" hidden")},r.yK.h("div",{class:"fas fa-robot"}),r.yK.h("div",null,"Bots"),r.yK.h("div",{content:!0,class:"mono"},this.state.bots)),r.yK.h("div",{class:"icon-info"+(f.Xd.proxy.showLbTotal&&this.state.total>this.state.leaderboard.length?"":" hidden")},r.yK.h("div",{class:"fas fa-user-tie"}),r.yK.h("div",null,"Total"),r.yK.h("div",{content:!0,class:"mono"},this.state.total)))]:"")]}var ia=function(e){Ki(n,e);var t=Bi(n);function n(e){var r;return Li(this,n),ji(zi(r=t.call(this)),"state",{isPieChart:!1,leaderboard:[],pieChart:[],bots:0,total:0,visible:!0,no_cache:0}),e.callback&&e.callback(zi(r)),r}return Di(n,[{key:"setCenteredLb",value:Qi},{key:"getPieChartBackground",value:Ji},{key:"updateRootStyles",value:ea},{key:"render",value:oa}]),n}(F.l);function aa(e){this.lbStep++,this.lbStep%this.connectedLength==0&&(this.lbStep=0),this.lbStep==this.connectedLength-1&&(this.leaderboard=e.leaderboard,this._compileLeaderboard())}function sa(e){this.ghStep++,this.ghStep%this.connectedLength==0&&(this.ghStep=0),this.ghStep==this.connectedLength-1&&(this.ghostCells=e.ghostCells,this.compileGhostCells())}function ua(){var e,t=[],n=Mi(s.wU.clients.render);try{for(n.s();!(e=n.n()).done;)for(var r=e.value,o=0,i=r.ghostCells.length;o<i;o++){var a=r.ghostCells[o];a.inView=s.wU.reverseCheckGhost(a.x,a.y,a.size/2,s.wU.clients.render.length),t[o]=a}}catch(e){n.e(e)}finally{n.f()}this.ghostCells=t}function ca(){var e=this,t=[],n=5;e:for(var r=0;r<this.leaderboard.length;r++){var o,i=s.eH.mainProfile.clanTag.length&&0==this.leaderboard[r].nick.indexOf(s.eH.mainProfile.clanTag)||this.leaderboard[r].isFriend,a="".concat(r+1),u=this.leaderboard[r].nick,c=Mi(s.wU.clients.player);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(l.playerPosition-1===r){var h,d,p,v="";this.ghostCells.length>0&&(v="".concat(f.Xd.proxy.showLbData?this.shortMassFormat(null===(h=l.unitManager.activeUnit)||void 0===h?void 0:h.mass):"").concat(f.Xd.proxy.showLbSectors?" ["+this.calculateMapSector(null===(d=l.unitManager.activeUnit)||void 0===d?void 0:d.view.x,null===(p=l.unitManager.activeUnit)||void 0===p?void 0:p.view.y)+"]":"")),t.push({className:"me",mass:v,n:a,name:u});continue e}}}catch(e){c.e(e)}finally{c.f()}if(r<f.Xd.proxy.leaderboardLength||i&&n-- >0){var y=this.ghostCells[r]?"".concat(f.Xd.proxy.showLbData?this.shortMassFormat(this.ghostCells[r].mass):"").concat(f.Xd.proxy.showLbSectors?" ["+this.calculateMapSector(this.ghostCells[r].x,this.ghostCells[r].y)+"]":""):"";i?t.push({className:"teammate",mass:y,n:a,name:u}):t.push({className:"",mass:y,n:a,name:u})}}this.canSheludeFrame&&fi.X.once("render",(function(){e.canSheludeFrame=!0;var n=~~(e.calcBots()/e.leaderboard.length*100)+"%";e.emit("state",{leaderboard:t,total:e.leaderboard.length,bots:n,isPieChart:!1})})),this.canSheludeFrame=!1}function la(){for(var e={},t=0,n=0,r=this.leaderboard.length;r>n;n++){var o=this.leaderboard[n];!e[o.nick]&&(e[o.nick]=0),e[o.nick]++}for(var i in e)(e[i]>(""===i?10:2)||i.indexOf("agarbot.")>-1)&&(t+=e[i]);return t}function fa(){var e=this;function t(){e.connectedLength--,e.lbStep=e.connectedLength-1,e.ghStep=e.connectedLength-1,e.compileLeaderboard(),e.compileGhostCells()}s.wU.on("initClient",(function(n){n.on("piechart",(function(){e.emit("state",{pieChart:n.pieChart,isPieChart:!0})})),n.on("leaderboard",(function(){e.setLeaderboardData(n)})),n.on("ghostCells",(function(){e.setGhostCellsdData(n)})),n.on("estabilished",(function(){0==e.connectedLength&&(e.leaderboard=[],e.ghostCells=[]),e.connectedLength++,e.lbStep=e.connectedLength-1,e.ghStep=e.connectedLength-1,e.compileLeaderboard(),n.once("unestabilished",t)}))})),f.Xd.on("leaderboardLength","showLbSectors","showLbData",this._compileLeaderboard.bind(this))()}function ha(e){if(e<1e3)return e;var t=Math.round(e/100)/10;return"".concat(t%1==0?t+".0":t,"k")}function da(e,t){if(!s.wU.getActiveTab().mapOffsetFixed)return"";var n=s.wU.getActiveTab().mapSizeH/2,r=s.wU.getActiveTab().mapSizeV/2,o=Math.floor((e+n)/(s.wU.getActiveTab().mapSizeH/f.rS.proxy.sectorsY)),i=Math.floor((t+r)/(s.wU.getActiveTab().mapSizeV/f.rS.proxy.sectorsX));return o=o<0?0:o>=f.rS.proxy.sectorsY?f.rS.proxy.sectorsY-1:o,i=i<0?0:i>=f.rS.proxy.sectorsX?f.rS.proxy.sectorsX-1:i,String.fromCharCode(i+65)+(o+1)}function pa(){var e=$("<input>");$("body").append(e),e.val($(".lb-entries").text()).select();try{document.execCommand("copy")}catch(e){console.log("can't copy..")}e.remove()}var va=new(function(e){Ki(n,e);var t=Bi(n);function n(){var e;return Li(this,n),(e=t.call(this)).canSheludeFrame=!0,e.leaderboard=[],e.lbStep=0,e.ghostCells=[],e.ghStep=0,e.connectedLength=0,e._compileLeaderboard=(0,hi.P2)(e.compileLeaderboard.bind(zi(e)),100),l.dD.on("hk-copyLb:down",e.copyLb.bind(zi(e))),e}return Di(n,[{key:"setLeaderboardData",value:aa},{key:"setGhostCellsdData",value:sa},{key:"compileGhostCells",value:ua},{key:"compileLeaderboard",value:ca},{key:"calcBots",value:la},{key:"start",value:fa},{key:"shortMassFormat",value:ha},{key:"calculateMapSector",value:da},{key:"copyLb",value:pa}]),n}(l.aN));function ya(e){var t=e.label,n=e.value;return r.yK.h("span",null,t,n)}function ma(e){Ki(n,e);var t=Bi(n);function n(){return Li(this,n),t.apply(this,arguments)}return Di(n,[{key:"render",value:ya}]),n}function ga(){var e=this.$root.current;e&&(e.style.fontSize=100*f.rS.proxy.hudScale+"%")}function ba(){this.setState({no_cache:Math.random()})}function wa(e){return e.preventDefault()}function _a(){var e=this;function t(){return e.rerender()}function n(){return e.rerender()}function o(){return e.rerender()}function i(){return e.rerender()}function a(){return e.rerender()}function s(){return e.rerender()}function u(){return e.rerender()}function c(){return e.updateRootStyles()}function l(t){return e.setState(t)}function h(){return e.unlisten()}if(Gi((function(){return e.listenTo(f.Xd,"showStats",t),e.listenTo(f.Xd,"showStatsMass",n),e.listenTo(f.Xd,"showStatsSTE",o),e.listenTo(f.Xd,"showStatsN16",i),e.listenTo(f.Xd,"showStatsPING",a),e.listenTo(f.Xd,"showStatsFPS",s),e.listenTo(f.Xd,"showStatsPPS",u),e.listenTo(f.rS,"hudScale",c),e.listenTo(Ca,"state",l),e.updateRootStyles(),h}),[1]),f.Xd.proxy.showStats)return r.yK.h("div",{ref:this.$root,class:"stats-hud hud-basic stats-hud-color hud-bottom "+(f.Xd.proxy.statsAtCenter?"center":""),oncontextmenu:wa},r.yK.h("div",{class:"hud-container"},this.state.play?[f.Xd.proxy.showStatsMass?r.yK.h("span",null,"Mass: ",this.state.mass):"",f.Xd.proxy.showStatsSTE?r.yK.h("span",null,"Score: ",this.state.score):"",f.Xd.proxy.showStatsSTE?r.yK.h("span",null,"STE: ",this.state.STE):"",f.Xd.proxy.showStatsN16?r.yK.h("span",null," ",this.state.pieces):""]:"",f.Xd.proxy.showStatsFPS?r.yK.h("span",null,"FPS: ",this.state.fps):"",f.Xd.proxy.showStatsPING&&this.state.ping>0?r.yK.h("span",null,"PING: ",this.state.ping):"",f.Xd.proxy.showStatsPPS?[r.yK.h("span",null,"PPS: ",this.state.pps)," ",r.yK.h(Ri,null)]:""))}window.leaderboard=va;var ka=function(e){Ki(n,e);var t=Bi(n);function n(e){var r;return Li(this,n),ji(zi(r=t.call(this)),"state",{fps:0,connected:!1,pps:0,pps2:0,play:!1,mass:0,score:0,STE:0,pieces:"0/16",ping:0,no_cache:0}),ji(zi(r),"$root",Wi()),e.callback&&e.callback(zi(r)),r.Span=ma(Hi),r}return Di(n,[{key:"updateRootStyles",value:ga},{key:"rerender",value:ba},{key:"render",value:_a}]),n}(F.l);function Sa(){this.canSheludeFrame&&fi.X.once("render",this._render),this.canSheludeFrame=!1}function Ta(e){if(f.Xd.proxy.showStats){var t=s.wU.unitManager.activeUnit,n={fps:Math.round(e.fps),connected:null==t?void 0:t.client.estabilished,pps:(null==t?void 0:t.client.pps)||"0",pps2:(null==t?void 0:t.client.ppsSampler.perSecond())||"0"};t&&Object.assign(n,{play:t.play,mass:t.mass,score:t.score,STE:t.STE,pieces:t.cells.length+"/16",ping:this.pingEnabled?t.client.ping:0}),this.emit("state",n)}this.canSheludeFrame=!0}function xa(e){var t=this;function n(){t.rafRender()}function r(){t.rafRender()}function o(){t.pingEnabled&&(t.pingEnabled=!1,t.rafRender())}this.rafRender(),s.wU.unitManager.on("add",(function(e){e.on("spawn",n),e.on("death",r),e.client.on("connecting",(function(){e.client.isAgario&&!t.pingEnabled&&(t.pingEnabled=!0,t.rafRender())})),e.client.on("unestabilished",o)})),setInterval((function(){t.rafRender()}),300)}function Ua(){this.drawRender=window.drawRender}var Ca=new(function(e){Ki(n,e);var t=Bi(n);function n(){var e;return Li(this,n),(e=t.call(this)).canSheludeFrame=!0,e.pingEnabled=!1,e.drawRender=null,e._render=e.render.bind(zi(e)),e}return Di(n,[{key:"rafRender",value:Sa},{key:"render",value:Ta},{key:"initApplicationEvents",value:xa},{key:"initRendererEvents",value:Ua}]),n}(l.aN));function Ia(){var e=this.textRef.current;e?e.childNodes[0]?e.childNodes[0].nodeValue=this.text:e.innerText=this.text:console.error("no dom")}function Pa(){}function Oa(e){return e.preventDefault()}function Ra(){var e=this;function t(){var t=X(),n=1;n=t*window.innerWidth/(t*window.innerHeight)>4/3?D(27)/200:3*K(27)/4/200,n=Math.min(1,n),e.textRef.current.style.fontSize=72*f.rS.proxy.hudScale*n+"%",e.containerRef.current.style.fontSize=100*n+"%"}function n(){e.containerRef.current&&(e.containerRef.current.style.display=f.Xd.proxy.showTime?"":"none")}function o(t){e.text=t,e.updateTime()}return this.textRef=Vi(null),this.containerRef=Vi(null),Gi((function(){var r=Pa;return e.listenTo(f.rS,"hudScale",r=t),r(),window.addEventListener("resize",r),e.listenTo(f.Xd,"showTime",n)(),e.listenTo(Ka,"text",o),function(){window.removeEventListener("resize",r),e.unlisten()}}),[]),r.yK.h("div",{oncontextmenu:Oa,id:"time-hud",ref:this.containerRef,class:"hud hud-container"},r.yK.h("div",{id:"time-text",ref:this.textRef}))}var Ea=function(e){Ki(n,e);var t=Bi(n);function n(){var e;Li(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ji(zi(e=t.call.apply(t,[this].concat(o))),"text",""),e}return Di(n,[{key:"updateTime",value:Ia},{key:"render",value:Ra}]),n}(F.l);function Ma(){window.time_is_widget={cb:this.setDifference.bind(this)};var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.src="https://widget.time.is/?UTC_za00&t="+(new Date).getTime(),t.referrerPolicy="no-referrer",e.parentNode.insertBefore(t,e)}function Aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;r||(n[0][0]=n[0][2]=0-(new Date).getTimezoneOffset());var o=(new Date).getTime();this.timeDifference=o-e-Math.round((o-t)/2),this.srv_v=n[0],this.stopTimer(),this.sheludUpdate()}function ja(e,t){for(var n=e.toString();n.length<t;n=0+n);return n}function La(){clearTimeout(this.timerID)}function Fa(){var e=this,t=new Date;function n(){return e.sheludUpdate()}t.setTime(t.getTime()-this.timeDifference),this.render(t),this.timerID=setTimeout((function(){return fi.X.once("render",n)}),this.updateInterval-t.getTime()%this.updateInterval)}function Da(e){null==e&&(e=new Date).setTime(e.getTime()-this.timeDifference);var t=this.pad,n=new Date;this.srv_v[0],0<this.srv_v[1]&&this.srv_v[1]<e.getTime()&&(this.srv_v[0]=this.srv_v[2],this.srv_v[1]=0),n.setTime(6e4*this.srv_v[0]+e.getTime());var r=n.getUTCFullYear(),o=n.getUTCMonth()+1,i=new Date(r,0,1),a=this.locale.day+" "+Math.floor((n.getTime()-i.getTime()+6e4*i.getTimezoneOffset())/864e5+1),s=i.getDay()-1;-1==s&&(s=6);var u,c=Math.floor((n.getTime()-i.getTime()+6e4*i.getTimezoneOffset())/6048e5+s/7);s<4&&c++,0==c&&(c=52,4!=new Date(r-1,0,1).getDay()&&4!=new Date(r-1,11,31).getDay()||(c=53)),u="hy"==this.locale.W?1==c?"1-ին շաբաթ":c+"-րդ շաբաթ":this.locale.W.replace(".n",String(c)),this.srv_v[4],this.srv_v[6];var l={t:n.getUTCHours(),r:this.srv_v[3],s:this.srv_v[5]},f={};for(var h in l)f[h]=t(l[h],2),f[h+"H"]=f[h],f[h+"M"]="AM",11<f[h]&&(f[h+"M"]="PM",f[h]=t(f[h]-12,2)),"00"==f[h]&&(f[h]=12);var d=this.template.replace("srhour",f.rH).replace("sr12hour",f.r).replace("srAMPM",f.rM).replace("srminute",t(this.srv_v[4],2)).replace("sshour",f.sH).replace("ss12hour",f.s).replace("ssAMPM",f.sM).replace("ssminute",t(this.srv_v[6],2)).replace("dlhours",""+this.srv_v[7]).replace("dlminutes",""+this.srv_v[8]).replace("%h",f.t).replace("%H",f.tH).replace("%i",t(n.getUTCMinutes(),2)).replace("%s",t(n.getUTCSeconds(),2)).replace("%A",f.tM).replace("%j",""+n.getUTCDate()).replace("%d",t(n.getUTCDate(),2)).replace("%W",u).replace("%n",""+o).replace("%m",t(o,2)).replace("%y",String(r).substr(2,2)).replace("%Y",""+r).replace("%F",this.locale.names[13+o]).replace("%l",this.locale.names[n.getUTCDay()]).replace("%D",this.locale.names[7+n.getUTCDay()]).replace("%z",a);d!=this.previous&&this.emit("text",d)}var Ka=window.TimeHud=new(function(e){Ki(n,e);var t=Bi(n);function n(){var e;return Li(this,n),(e=t.call(this)).syncronize(),e.locale={names:(0,l.dz)("daysAndMonths").split("."),week:"week ",W:"week .n",day:" day"},26!=e.locale.names.length&&(e.locale.names="Sunday.Monday.Tuesday.Wednesday.Thursday.Friday.Saturday.Sun.Mon.Tue.Wed.Thu.Fri.Sat.January.February.March.April.May.June.July.August.September.October.November.December".split(".")),e.template="%d.%m.%Y, %H:%i:%s",e.timeDifference=0,e.timerID=null,e.updateInterval=1e3,e.srv_v=[0-(new Date).getTimezoneOffset(),(new Date).getTime(),0-(new Date).getTimezoneOffset(),0,0,0,0,0,0],e.setDifference((new Date).getTime(),(new Date).getTime(),[e.srv_v],!0),e.sheludUpdate(),f.Xd.on("showTime",(function(){e.stopTimer(),f.Xd.proxy.showTime?e.sheludUpdate():e.stopTimer()}))(),f.Xd.on("timeHudTemplate",(function(){e.template=f.Xd.proxy.timeHudTemplate,e.render()}))(),e.previous="",e}return Di(n,[{key:"syncronize",value:Ma},{key:"setDifference",value:Aa},{key:"pad",value:ja},{key:"stopTimer",value:La},{key:"sheludUpdate",value:Fa},{key:"render",value:Da}]),n}(l.aN));function Xa(e){return Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(e)}function Ba(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Na(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t,n){return t&&qa(e.prototype,t),n&&qa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ga(e,t)}function Ga(e,t){return Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ga(e,t)}function Va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Za(e);if(t){var o=Za(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ya(this,n)}}function Ya(e,t){if(t&&("object"===Xa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Za(e)}var Qa=r.yK.Component,Ja=(r.yK.render,r.yK.h,r.yK.createRef,r.rl.useState,r.rl.useEffect),$a=r.rl.useRef;function es(){for(var e=[],t=0,n=Object.entries(s.eH.selected);t<n.length;t++){var r=Ba(n[t],2),o=r[0],i=r[1];this.props.profile.id===i&&e.push(Number(o)+1+"P")}this.setState({as:e.join("+")})}function ts(e){var t=this.props.profile;s.eH.selected[e]=t.id}function ns(e){var t=this,n=e.profile;function o(e,r,o){r!==n.id&&o!==n.id||t.recalcAs()}function i(e,r){t.setState({deletion:e===n.id})}function a(){return t.unlisten()}return Ja((function(){return t.recalcAs(),t.listenTo(s.eH.selected,"*",o),t.listenTo(s.eH.state,"deletion",i),t.setState({deletion:n.id==s.eH.state.deletion}),a}),[n.id]),r.yK.h("div",{"data-profile-id":n.id,class:"thumb"+(n.id==s.eH.state.deletion?" selectedX":"")+(this.state.as?" selected":""),"data-as":this.state.as,onClick:function(){t.onclick(0)},onContextmenu:function(){t.onclick(1)}},r.yK.h("img",{crossorigin:"anonymous",referrerpolicy:"no-referrer",src:(0,l.mr)(n.skinURL)?n.skinURL:"assets/transparent.png"}))}var rs=function(e){Wa(n,e);var t=Va(n);function n(){var e;return za(this,n),(e=t.call(this)).state={as:"",deletion:!1},e}return Ha(n,[{key:"recalcAs",value:es},{key:"onclick",value:ts},{key:"render",value:ns}]),n}(F.l);function os(e){return e*Math.PI/180}function is(){for(var e=os,t=39.5,n=this.$thumbs.current.children,r=(n.length,Math.ceil(n.length/2)),o=Math.floor(n.length/2),i=Math.max(r,o)-1,a=e(45),s=e(90/(i+(i>o-1?-1:0))),u=e(-45),c=e(-90/i),l=r;l--;){var f=50+t*Math.cos(u),h=50-t*Math.sin(u);n[l].style="top: "+f+"%;left: "+h+"%;",u+=c}for(l=n.length;l-- >o;)f=50+t*Math.cos(a),h=50-t*Math.sin(a),n[l].style="top: "+f+"%;left: "+h+"%;",a+=s}function as(){var e=this;this.setState(null),this.listenTo(s.eH.store,"add",(function(){return e.setState(e.state)})),this.listenTo(s.eH.store,"remove",(function(){return e.setState(e.state)}))}function ss(){this.unlisten()}function us(e,t){return r.yK.h(rs,{profile:e,index:t})}function cs(){var e=this;return this.$thumbs=$a(null),Ja((function(){e.setPosition()})),r.yK.h("div",{class:"thumbs",ref:this.$thumbs},Object.values(s.eH.store.all).reverse().map(us))}var ls=function(e){Wa(n,e);var t=Va(n);function n(){return za(this,n),t.call(this)}return Ha(n,[{key:"setPosition",value:is},{key:"componentDidMount",value:as},{key:"componentWillUnmount",value:ss},{key:"render",value:cs}]),n}(F.l);function fs(){var e=this,t=$a(null),n=$a(null);function o(e){t.current.src=(0,l.mr)(s.eH.mainProfile.skinURL)?s.eH.mainProfile.skinURL:"assets/transparent.png"}function i(e){n.current.src=(0,l.mr)(s.eH.profileB.skinURL)?s.eH.profileB.skinURL:"assets/transparent.png"}function a(t){return e.setState({})}function u(){return e.unlisten()}return Ja((function(){return e.listenTo(s.eH.mainProfile,"skinURL",o),e.listenTo(s.eH.profileB,"skinURL",i),e.listenTo(f.Xd,"showMultiProfile",a),e.setState({}),u}),[]),r.yK.h("div",{class:"skin-preview "+(f.Xd.proxy.showMultiProfile?"double":"")},r.yK.h("div",{class:"skin-preview-B"},r.yK.h("img",{crossorigin:"anonymous",referrerpolicy:"no-referrer",ref:t,src:(0,l.mr)(s.eH.mainProfile.skinURL)?s.eH.mainProfile.skinURL:"assets/transparent.png"})),r.yK.h("div",{class:"skin-preview-A"},r.yK.h("img",{crossorigin:"anonymous",referrerpolicy:"no-referrer",ref:n,src:(0,l.mr)(s.eH.profileB.skinURL)?s.eH.profileB.skinURL:"assets/transparent.png"})))}var hs=function(e){Wa(n,e);var t=Va(n);function n(){return za(this,n),t.call(this)}return Ha(n,[{key:"render",value:fs}]),n}(F.l);function ds(e){s.eH.state.deletion=e?s.eH.selected[0]||"err":""}function ps(e){return e.preventDefault()}function vs(){return s.eH.addProfile()}function ys(){s.eH.remProfile()}function ms(){var e=this;return r.yK.h("div",{onContextmenu:ps,class:"frows content-center",style:"\n            justify-content: center;\n            align-items: center;\n            display: flex;\n            width: 100%; \n            height: 200px;\n            overflow: hidden;\n            position: relative;"},r.yK.h("div",{class:"frows w100",style:"justify-content: center; display: flex; height:250px; position: relative;"},r.yK.h("div",{class:"skin-center column-center justify-center"},r.yK.h("div",{class:"skin-left"})),r.yK.h(hs,null),r.yK.h(ls,null)),r.yK.h("div",{class:"skin-dial-bar"},r.yK.h("div",{onClick:vs,class:"btn size-small mr0",style:"height: 18px; width:100%"},r.yK.h("div",{class:"btn-layer"},r.yK.h("div",{class:"fas fa-plus-square"}))),r.yK.h("div",{onMouseEnter:function(){return e.highlightDeletion(1)},onMouseLeave:function(){return e.highlightDeletion(0)},onClick:ys,class:"btn size-small mr0",style:"height: 18px; width:100%"},r.yK.h("div",{class:"btn-layer"},r.yK.h("div",{class:"fas fa-minus-square"})))))}var gs=function(e){Wa(n,e);var t=Va(n);function n(){return za(this,n),t.call(this)}return Ha(n,[{key:"highlightDeletion",value:ds},{key:"render",value:ms}]),n}(Qa);function bs(e){if(s.eH.getfancyLength(e.value)>15){var t=e.selectionEnd,n=Array.from(e.value);n.splice(t-(e.value.length-15),e.value.length-15),e.value=n.join(""),e.selectionEnd=e.selectionStart=t-1+(e.value.length-15)}}function ws(e){(0,l.mr)(e.value)||""==e.value?e.classList.remove("input-wrong"):e.classList.add("input-wrong")}function _s(e){s.eH.mainProfile.clanTag=e.target.value,s.eH.formToStore(s.eH.mainProfile)}function ks(e){return f.Xd.proxy.hideUserForms=!f.Xd.proxy.hideUserForms}function Ss(){var e=this;function t(t){return e.$clantag.current.value=s.eH.mainProfile.clanTag}function n(t){return e.$nick0.current.value=s.eH.mainProfile.nick}function o(t){return e.$nick1.current.value=s.eH.profileB.nick}function i(t){e.$skin0.current.value=s.eH.mainProfile.skinURL,e.validateSkinInput(e.$skin0.current)}function a(t){e.$skin1.current.value=s.eH.profileB.skinURL,e.validateSkinInput(e.$skin1.current)}function u(t){return e.setState({})}function c(){e.validateSkinInput(e.$skin0.current),e.validateSkinInput(e.$skin1.current)}function l(){return e.unlisten()}return this.$clantag=$a(null),this.$nick0=$a(null),this.$nick1=$a(null),this.$skin0=$a(null),this.$skin1=$a(null),Ja((function(){return e.listenTo(s.eH.mainProfile,"clanTag",t),e.listenTo(s.eH.mainProfile,"nick",n),e.listenTo(s.eH.profileB,"nick",o),e.listenTo(s.eH.mainProfile,"skinURL",i),e.listenTo(s.eH.profileB,"skinURL",a),e.listenTo(f.Xd,"showMultiProfile",u),e.setState({}),setTimeout(c,100),l}),[]),[r.yK.h("div",{class:"container gy-1"},r.yK.h("div",{class:"row"},r.yK.h("div",{class:"col-3"},r.yK.h("div",{class:"input-box size-medium"},r.yK.h("input",{ref:this.$clantag,value:s.eH.mainProfile.clanTag,onChange:_s,class:"user-form input",type:"search",autocomplete:"off",maxlength:"10",placeholder:"Tag"}))),r.yK.h("div",{class:"col"},r.yK.h("div",{class:"input-box size-medium w100"},r.yK.h("input",{ref:this.$nick0,value:s.eH.mainProfile.nick,onInput:function(t){e.handleNickLength(e.$nick0.current),s.eH.mainProfile.nick=t.target.value,s.eH.formToStore(s.eH.mainProfile)},class:"user-form input",type:"search",autocomplete:"off",placeholder:"Nick"}))),r.yK.h("div",{class:"col "+(f.Xd.proxy.showMultiProfile?"visible":"hidden")},r.yK.h("div",{class:"input-box size-medium w100"},r.yK.h("input",{ref:this.$nick1,value:s.eH.profileB.nick,onInput:function(t){e.handleNickLength(e.$nick1.current),s.eH.profileB.nick=t.target.value,s.eH.formToStore(s.eH.profileB)},class:"user-form input",type:"search",autocomplete:"off",placeholder:"Nick"}))))),r.yK.h("div",{class:"container gy-1"},r.yK.h("div",{class:"row"},r.yK.h("div",{class:"col"},r.yK.h("div",{class:"input-box size-small grow",role:"tooltip","data-microtip-position":"left"},r.yK.h("tty",null,r.yK.h("a",{href:"https://imgur.com/t/agario_skins",target:"_blank"},"=Free skins=")),r.yK.h("input",{ref:this.$skin0,value:s.eH.mainProfile.skinURL,onInput:function(t){s.eH.mainProfile.skinURL=t.target.value,s.eH.formToStore(s.eH.mainProfile),e.validateSkinInput(t.target)},class:"user-form input",type:"search",id:"skin",maxlength:"50",autocomplete:"off",placeholder:"Custom Skin"}))),r.yK.h("div",{class:"col "+(f.Xd.proxy.showMultiProfile?"visible":"hidden")},r.yK.h("div",{class:"input-box size-small grow",role:"tooltip","data-microtip-position":"left"},r.yK.h("tty",null,r.yK.h("a",{href:"https://imgur.com/t/agario_skins",target:"_blank"},"=Free skins=")),r.yK.h("input",{ref:this.$skin1,value:s.eH.profileB.skinURL,onInput:function(t){s.eH.profileB.skinURL=t.target.value,s.eH.formToStore(s.eH.profileB),e.validateSkinInput(t.target)},class:"user-form input",type:"search",id:"skinB",maxlength:"50",autocomplete:"off",placeholder:"Custom Skin"}))),r.yK.h("div",{class:"col-3"},r.yK.h("div",{id:"toggleForms",onClick:ks,class:"col btn size-small",style:"flex: 0 1 20%;"},r.yK.h("div",{class:"btn-layer"},"Hide")))))]}var Ts=function(e){Wa(n,e);var t=Va(n);function n(){return za(this,n),t.call(this)}return Ha(n,[{key:"handleNickLength",value:bs},{key:"validateSkinInput",value:ws},{key:"render",value:Ss}]),n}(F.l);s.eH.init();var xs,Us=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,Cs=1073741824,Is=new WeakMap,Ps=function(e,t){return function(n){var r=t.get(n),o=void 0===r?n.size:r<Cs?r+1:0;if(!n.has(o))return e(n,o);if(n.size<536870912){for(;n.has(o);)o=Math.floor(Math.random()*Cs);return e(n,o)}if(n.size>Us)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(o);)o=Math.floor(Math.random()*Us);return e(n,o)}}((xs=Is,function(e,t){return xs.set(e,t),t}),Is),Os=function(e){return function(t){var n=e(t);return t.add(n),n}}(Ps);const Rs={addUniqueNumber:Os,generateUniqueNumber:Ps};function Es(){}function Ms(){}var As=null,js=function(){if(null!==As)return As;var e=new Blob(['(()=>{var e={67:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error(\'The given type "\'.concat(c,\'" is not supported\'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error(\'The given method "\'.concat(t.method,\'" is not supported\'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error(\'The given type "\'.concat(v,\'" is not supported\'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(67)})()})();'],{type:"application/javascript; charset=utf-8"}),t=URL.createObjectURL(e);return(As=function(e){var t=new Map([[0,Es]]),n=new Map([[0,Ms]]),r=new Map,o=new Worker(e);return o.addEventListener("message",(function(e){var o=e.data;if(function(e){return void 0!==e.method&&"call"===e.method}(o)){var i=o.params,a=i.timerId,s=i.timerType;if("interval"===s){var u=t.get(a);if("number"==typeof u){var c=r.get(u);if(void 0===c||c.timerId!==a||c.timerType!==s)throw new Error("The timer is in an undefined state.")}else{if(void 0===u)throw new Error("The timer is in an undefined state.");u()}}else if("timeout"===s){var l=n.get(a);if("number"==typeof l){var f=r.get(l);if(void 0===f||f.timerId!==a||f.timerType!==s)throw new Error("The timer is in an undefined state.")}else{if(void 0===l)throw new Error("The timer is in an undefined state.");l(),n.delete(a)}}}else{if(!function(e){return null===e.error&&"number"==typeof e.id}(o)){var h=o.error.message;throw new Error(h)}var d=o.id,p=r.get(d);if(void 0===p)throw new Error("The timer is in an undefined state.");var v=p.timerId,y=p.timerType;r.delete(d),"interval"===y?t.delete(v):n.delete(v)}})),{clearInterval:function(e){var n=Rs.generateUniqueNumber(r);r.set(n,{timerId:e,timerType:"interval"}),t.set(e,n),o.postMessage({id:n,method:"clear",params:{timerId:e,timerType:"interval"}})},clearTimeout:function(e){var t=Rs.generateUniqueNumber(r);r.set(t,{timerId:e,timerType:"timeout"}),n.set(e,t),o.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})},setInterval:function(e,n){var r=Rs.generateUniqueNumber(t);return t.set(r,(function(){e(),"function"==typeof t.get(r)&&o.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r,timerType:"interval"}})})),o.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r,timerType:"interval"}}),r},setTimeout:function(e,t){var r=Rs.generateUniqueNumber(n);return n.set(r,e),o.postMessage({id:null,method:"set",params:{delay:t,now:performance.now(),timerId:r,timerType:"timeout"}}),r}}}(t)).setTimeout((function(){return URL.revokeObjectURL(t)}),0),As},Ls=function(e,t){return js().setTimeout(e,t)};function Fs(e){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(e)}function Ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xs(e,t,n){return t&&Ks(e.prototype,t),n&&Ks(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ns(e,t)}function Ns(e,t){return Ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ns(e,t)}function zs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ws(e);if(t){var o=Ws(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qs(this,n)}}function qs(e,t){if(t&&("object"===Fs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hs(e)}function Hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ws(e){return Ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ws(e)}var Gs=r.yK.Component;function Vs(){this.setState(this.state)}function Ys(){this.setState(this.state)}function Zs(e,t){var n=this;if(e.client!==this.client){this.unlisten(),this.client=e.client;var r=this.client.mobileData;this.listenTo(r.UserWallet,"coin",(function(){return n.setState(n.state)})),this.listenTo(r.UserWallet,"mass_boost_2x_1h",(function(){return n.setState(n.state)})),this.listenTo(r.UserWallet,"mass_boost_2x_24h",(function(){return n.setState(n.state)})),this.listenTo(r.UserWallet,"mass_boost_3x_1h",(function(){return n.setState(n.state)})),this.listenTo(r.UserWallet,"mass_boost_3x_24h",(function(){return n.setState(n.state)})),this.listenTo(r.state,"loggedIn",(function(){return n.setState(n.state)})),this.listenTo(r.UserActiveQuests,"quest_activation_24h",(function(){return n.setState(n.state)})),this.listenTo(r,"dayliQuest-tick",(function(){return n.setState(n.state)}))}this.client.mobileData}function Qs(e,t){var n=this;e.preventDefault();var r=this.client.mobileData;if(this.setState({waiting:!0}),r.UserWallet.amount(t)>0)r.activateBoostRequest(t);else{r.softPurchaseRequest("1_"+t);var o=r.UserWallet.once(t,(function(){n.setState({waiting:!1}),r.activateBoostRequest(t)}));Ls((function(){n.setState({waiting:!1}),r.UserWallet.removeListener(t,o)}),1e4)}}function Js(){var e=this,t=this.client.mobileData;this.setState({waiting:!0}),0==t.duration("dailyQuest")?t.activateTimedEventRequest("dailyQuest"):t.softPurchaseRequest("1_quest_activation_24h");var n=t.UserWallet.once("quest_activation_24h",(function(){e.setState({waiting:!1}),t.activateQuestRequest("quest_activation_24h")}));Ls((function(){e.setState({waiting:!1}),t.UserWallet.removeListener("quest_activation_24h",n)}),5e3)}function $s(e){var t=86400-e;return 90-5*Math.floor(t/7200)}function eu(e){return r.yK.h(hu,{seconds:e.expiresInSeconds})}function tu(e,t){var n,o=this,i=e.client.mobileData;if(i.state.loggedIn)return[r.yK.h("div",{class:"container g-1"},r.yK.h("div",{class:"row"},r.yK.h("div",{class:"gy-1 col-2",style:"width:2.8em;height:2.8em;  image-rendering: -webkit-optimize-contrast;"},r.yK.h("img",{style:"width: 100%;",class:"avatar",src:null===(n=i.userInfo.realmInfo)||void 0===n?void 0:n.avatarUrl})),r.yK.h("div",{class:"gy-1 col"},r.yK.h("div",null,r.yK.h("i",{class:"sp-currency"})," ",i.UserWallet.amount("coin")),r.yK.h("div",null,r.yK.h("i",{class:"sp-dna"})," ",i.UserWallet.amount("dna"))),r.yK.h("div",{class:"gy-1 col"},r.yK.h("div",null,r.yK.h("i",{class:"sp-cup"})," ",i.UserWallet.amount("trophy")),r.yK.h("div",null,r.yK.h("i",{class:"sp-exp"})," ",i.userInfo.level)))),r.yK.h("div",{class:"container gx-1"},r.yK.h("div",{class:"row"},r.yK.h("div",{class:"col-6"},r.yK.h("div",{class:"hoverflow frows grow"},r.yK.h("div",{class:"btn size-small"},r.yK.h("div",{class:"btn-layer"},"Mass boost ",Object.values(i.userBoostsData).map(eu))),this.state.waiting?"":r.yK.h("div",{class:"w3-dropdown-content w3-bar-block hoverflow-content",style:"min-width: max-content;"},r.yK.h("a",{href:"#",onClick:function(e){return o.buyBoost(e,"mass_boost_2x_1h")},class:"w3-bar-item w3-button"},r.yK.h("i",{style:"width: 1.6em;height:1.3em;",class:"fit sp-massboost2x"}),"  1 hour  | ",i.UserWallet.amount("mass_boost_2x_1h")?i.UserWallet.amount("mass_boost_2x_1h")+" free":[r.yK.h("i",{class:"sp-currency"})," 290"]),r.yK.h("a",{href:"#",onClick:function(e){return o.buyBoost(e,"mass_boost_2x_24h")},class:"w3-bar-item w3-button"},r.yK.h("i",{style:"width: 1.6em;height:1.3em;",class:"fit sp-massboost2x"})," 24 hours | ",i.UserWallet.amount("mass_boost_2x_24h")?i.UserWallet.amount("mass_boost_2x_24h")+" free":[r.yK.h("i",{class:"sp-currency"})," 790"]),r.yK.h("a",{href:"#",onClick:function(e){return o.buyBoost(e,"mass_boost_3x_1h")},class:"w3-bar-item w3-button"},r.yK.h("i",{style:"width: 1.6em;height:1.3em;",class:"fit sp-massboost3x"}),"   1 hour  | ",i.UserWallet.amount("mass_boost_3x_1h")?i.UserWallet.amount("mass_boost_3x_1h")+" free":[r.yK.h("i",{class:"sp-currency"})," 490"]),r.yK.h("a",{href:"#",onClick:function(e){return o.buyBoost(e,"mass_boost_3x_24h")},class:"w3-bar-item w3-button"},r.yK.h("i",{style:"width: 1.6em;height:1.3em;",class:"fit sp-massboost3x"})," 24 hours | ",i.UserWallet.amount("mass_boost_3x_24h")?i.UserWallet.amount("mass_boost_3x_24h")+" free":[r.yK.h("i",{class:"sp-currency"})," 990"])))),r.yK.h("div",{class:"col-6"},r.yK.h("div",{class:"hoverflow frows grow"},r.yK.h("div",{class:"btn size-small"},r.yK.h("div",{class:"btn-layer"},"Quest ",Object.values(i.UserActiveQuests.all).map((function(t){return r.yK.h(uu,{quest:t,client:e.client})})))),r.yK.h("div",{class:"w3-dropdown-content w3-bar-block hoverflow-content",style:"min-width: max-content;"},i.UserActiveQuests.get("quest_activation_24h")||!0===this.state.waiting?"":0==i.duration("dailyQuest")?r.yK.h("a",{href:"#",onClick:function(){return o.buyQuest()},class:"w3-bar-item w3-button"},"Use quest!"):r.yK.h("a",{href:"#",onClick:function(){return o.buyQuest()},class:"w3-bar-item w3-button"},r.yK.h("i",{class:"sp-coin"})," ",this.getPriceForNextQuest(i.duration("dailyQuest")/1e3)," | ",r.yK.h(hu,{seconds:i.duration("dailyQuest")/1e3})," - Skip time"))))))]}r.yK.render,r.yK.h,r.yK.createRef,r.rl.useState,r.rl.useEffect,r.rl.useRef;var nu=function(e){Bs(n,e);var t=zs(n);function n(){var e;return Ds(this,n),(e=t.call(this)).client=null,e.state={waiting:!1},e}return Xs(n,[{key:"componentDidMount",value:Vs},{key:"componentWillUnmount",value:Ys},{key:"shouldComponentUpdate",value:Zs},{key:"buyBoost",value:Qs},{key:"buyQuest",value:Js},{key:"getPriceForNextQuest",value:$s},{key:"render",value:tu}]),n}(F.l);function ru(){this.setState(this.state)}function ou(){this.setState(this.state),this.unlisten()}function iu(e,t){var n=this;e.quest!==this.quest&&(this.unlisten(),this.client=e.client,this.client.mobileData,this.listenTo(e.quest,e.quest.ev.progress,(function(){n.setState(n.state)})),this.listenTo(e.quest,e.quest.ev.done,(function(){n.setState(n.state)})))}function au(e){return{top_position:"Reach top",highest_mass:"Reach mass",normal_cells_eaten:"Eat players",viruses_eaten:"Eat viruses",food_eaten:"Eat food"}[e]}function su(e,t){var n=e.quest;return n.done?null:r.yK.h(hu,{seconds:n.expiresInSeconds})}var uu=function(e){Bs(n,e);var t=zs(n);function n(e){var r;return Ds(this,n),(r=t.call(this)).quest=null,r.state={done:!1},r.client=null,r}return Xs(n,[{key:"componentDidMount",value:ru},{key:"componentWillUnmount",value:ou},{key:"shouldComponentUpdate",value:iu},{key:"name",value:au},{key:"render",value:su}]),n}(F.l);function cu(e){this._.options.ontick(e)}function lu(){this.timer.stop()}function fu(e){return this.state.text}var hu=function(e){Bs(n,e);var t=zs(n);function n(e){var r,o=e.seconds;Ds(this,n),(r=t.call(this)).state={text:new Date(1e3*o).toISOString().replace(/^.*(\d{2}:\d{2}:\d{2}).*/,"$1")};var i=Hs(r);return r.timer=new hi.B7({tick:.9,ontick:function(e){i.setState({text:new Date(e).toISOString().replace(/^.*(\d{2}:\d{2}:\d{2}).*/,"$1")})},onstart:cu,onend:function(){i.setState({text:""})}}),r.timer.start(o),r}return Xs(n,[{key:"componentWillUnmount",value:lu},{key:"render",value:fu}]),n}(Gs);function du(){this.unlisten()}function pu(e){return r.yK.h(nu,{client:e})}function vu(e,t){var n=this;return r.yK.h("div",{class:"fcols grow hinherit ",onScroll:function(){return n.setState({scroll:n.base.scrollTop})},style:{fontSize:"80%",overflow:"auto","--scrollOffset":-this.state.scroll+"px"}},t.clients.map(pu))}var yu=function(e){Bs(n,e);var t=zs(n);function n(){var e;return Ds(this,n),(e=t.call(this)).state={clients:[],scroll:0},e.listenTo(s.wU,"initClient",(function(t){try{n=t,e.state.clients.push(n),e.setState({clients:e.state.clients})}catch(e){}var n;t.on("removeEvents",(function(){try{!function(t){var n=e.state.clients.indexOf(t);~n&&e.state.clients.splice(n,1),e.setState({clients:e.state.clients})}(t)}catch(e){}}))})),e.listenTo(s.wU,"swapEvent",(function(){try{e.setState({clients:e.state.clients})}catch(e){}})),e.listenTo(s.wU,"custom",(function(t){t&&e.state.clients.reverse();try{e.setState({clients:e.state.clients})}catch(e){}})),e.setState({clients:s.wU.clients.player.slice(0)}),e}return Xs(n,[{key:"componentWillUnmount",value:du},{key:"render",value:vu}]),n}(F.l),mu=n(8499);function gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wu=null;function _u(e,t,n,r){var o,i,a=wu||document.createElement("div");return a.style.font="".concat(t," ").concat(n,"px ").concat(r),a.style.padding="0",a.style.margin="0",a.style.position="absolute",a.style.visibility="hidden",a.innerHTML=e,wu||document.body.appendChild(a),o=a.clientWidth,i=a.clientHeight,wu=a,{width:o,height:i}}function ku(e){return this.setText(e),this.c=document.createElement("canvas"),this.ctx=this.c.getContext("2d"),this}function Su(e){return e&&(this.text=e+"",this.trimmedText=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),this}function Tu(){return[this.fontSize,this.fontWeight,this.fontFamily,this.lineWidth,this.strokeStyle,this.fillStyle,this.text].join(",")}function xu(){var e=this.state();this.dirty=e!==this.prevState,this.prevState=e,this.dirty&&this.measure()}function Uu(){var e=this.measureText(this.trimmedText,this.fontWeight,this.fontSize,this.fontFamily);this.w=this.c.width=e.width/.1,this.h=this.c.height=e.height}function Cu(e){this.render(),0!==this.w&&0!==this.h&&(e.save(),e.translate(-this.originX*this.w,-this.originY*this.h),e.drawImage(this.c,this.x,this.y),e.restore())}function Iu(){this.dirty&&(this.ctx.lineJoin="round",this.ctx.font="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFamily),this.ctx.fillStyle=this.fillStyle,this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.lineWidth>0&&(this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=this.strokeStyle,this.ctx.strokeText(this.trimmedText,this.w>>1,this.h>>1)),this.ctx.fillText(this.trimmedText,this.w>>1,this.h>>1),this.dirty=!1)}const Pu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bu(this,"text",""),bu(this,"trimmedText",""),bu(this,"fontSize",24),bu(this,"fontWeight",400),bu(this,"fontFamily","Arial"),bu(this,"lineWidth",0),bu(this,"strokeStyle","#000000"),bu(this,"fillStyle","#ffffff"),bu(this,"prevState",""),bu(this,"x",0),bu(this,"y",0),bu(this,"w",0),bu(this,"h",0),bu(this,"originX",0),bu(this,"originY",0),bu(this,"dirty",!1),bu(this,"c",null),bu(this,"ctx",null),this.init()}var t,n;return t=e,(n=[{key:"measureText",value:_u},{key:"init",value:ku},{key:"setText",value:Su},{key:"state",value:Tu},{key:"update",value:xu},{key:"measure",value:Uu},{key:"draw",value:Cu},{key:"render",value:Iu}])&&gu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ou(e){e.setTransform(1,0,0,1,0,0)}const Ru=function(){var e=[1,0,0,1,0,0],t=function(t){var n=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],i=e[1]*t[2]+e[3]*t[3],a=e[0]*t[4]+e[2]*t[5]+e[4],s=e[1]*t[4]+e[3]*t[5]+e[5];e=[n,r,o,i,a,s]};function n(){}return n.prototype.translate=function(e,n){t([1,0,0,1,e,n])},n.prototype.rotate=function(e){var n=Math.cos(e),r=Math.sin(e);t([n,r,-r,n,0,0])},n.prototype.scale=function(e,n){t([e,0,0,n,0,0])},n.prototype.skew=function(e,n){var r=[1,Math.tan(n),Math.tan(e),1,0,0];t(r)},n.prototype.reset=function(){e=[1,0,0,1,0,0]},n.prototype.setContextTransform=function(t){t.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},n.prototype.resetContextTransform=Ou,n.prototype.getTransformedPoint=function(t,n){return function(t,n){return{x:t*e[0]+n*e[2]+e[4],y:t*e[1]+n*e[3]+e[5]}}(t,n)},n.prototype.getScreenPoint=function(t,n){return function(t,n){var r=1/(e[0]*e[3]-e[1]*e[2]);return im=[e[3]*r,-e[1]*r,-e[2]*r,e[0]*r,r*(e[2]*e[5]-e[3]*e[4]),r*(e[1]*e[4]-e[0]*e[5])],{x:t*im[0]+n*im[2]+im[4],y:t*im[1]+n*im[3]+im[5]}}(t,n)},n.prototype.getMatrix=function(){return[e[0],e[1],e[2],e[3],e[4],e[5]]},n}();function Eu(e){return Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(e)}function Mu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Au(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Au(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Au(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ju(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fu(e,t,n){return t&&Lu(e.prototype,t),n&&Lu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Du(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ku(e,t)}function Ku(e,t){return Ku=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ku(e,t)}function Xu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zu(e);if(t){var o=zu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bu(this,n)}}function Bu(e,t){if(t&&("object"===Eu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nu(e)}function Nu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zu(e){return zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zu(e)}function qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hu=r.yK.Component,Wu=(r.yK.render,r.yK.createRef),Gu=(r.rl.useState,r.rl.useEffect);function Vu(){var e,t,n=null===(e=(t=this.props).get)||void 0===e?void 0:e.call(t);this.state.value!=n&&(this.__P.childNodes[0]?this.__P.childNodes[0].nodeValue=n:this.__P.innerText=n)}function Yu(){var e,t,n=this;function r(){return n.unlisten()}return Gu((function(){return n.listenTo(n.props.target,n.props.event,n.renderValue.bind(n)),n.renderValue(),r}),[]),null===(e=(t=this.props).get)||void 0===e?void 0:e.call(t)}r.rl.useRef;var Zu=function(e){Du(n,e);var t=Xu(n);function n(){var e;ju(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return qu(Nu(e=t.call.apply(t,[this].concat(o))),"state",{target:null,event:"",value:null}),e}return Fu(n,[{key:"renderValue",value:Vu},{key:"render",value:Yu}]),n}(F.l);function Qu(){f.Xd.proxy.teamboardLength=10*Math.floor(f.Xd.proxy.teamboardLength/10)%30+10}function Ju(){this.$icon.current.className="fas fa-caret-down"}function $u(e){return e.preventDefault()}function ec(){var e=this.__P;this.forceUpdate(),e.classList.remove("hidden"),!f.Xd.raw.showTop5.value&&e.classList.add("hidden"),e.style.fontSize=100*f.rS.raw.hudScale.value+"%",e.addEventListener("contextmenu",$u)}function tc(){return f.Xd.raw.showTop5.value?pc.state.total:null}function nc(){return f.Xd.raw.showTop5.value?pc.state.totalMass:null}function rc(){var e=this;function t(){return e.unlisten()}return Gu((function(){return e.listenTo(f.Xd,"showTop5",e.updateRootStyles.bind(e)),e.listenTo(s.eH.mainProfile,"clanTag",e.updateIcon.bind(e)),e.listenTo(f.rS,"hudScale",e.updateRootStyles.bind(e)),e.updateIcon(),e.updateRootStyles(),t}),[]),r.yK.h("div",{class:"hud-container"},r.yK.h("div",{class:"frows",onclick:function(){return e.toggleLimit()}},r.yK.h("div",{class:"title frows",style:"align-items: center"},r.yK.h("div",{class:"fas fa-caret-down",ref:this.$icon}),r.yK.h("div",null," Team")),r.yK.h("div",{class:"frows"},r.yK.h("div",{class:"icon-info"},r.yK.h("div",{class:"fas fa-user-tie"}),r.yK.h("div",{class:"mono"},r.yK.h(Zu,{target:pc,event:"total",get:tc}))),r.yK.h("div",{class:"icon-info"},r.yK.h("div",{class:"fas fa-weight-hanging"}),r.yK.h("div",{class:"mono"},r.yK.h(Zu,{target:pc,event:"totalMass",get:nc}))))),r.yK.h("div",{class:"icons-container"}),r.yK.h("div",{class:"team-top-menu"},r.yK.h("div",{class:"entries"},r.yK.h(uc,{teamUi:pc})),r.yK.h("div",{class:"bottom"})))}var oc=function(e){Du(n,e);var t=Xu(n);function n(e){var r;return ju(this,n),qu(Nu(r=t.call(this)),"props",{teamUi:null,callback:null}),qu(Nu(r),"state",{total:0,totalMass:0,visible:!0,no_cache:0}),qu(Nu(r),"$root",Wu()),qu(Nu(r),"$total",Wu()),qu(Nu(r),"$totalMass",Wu()),qu(Nu(r),"$icon",Wu()),e.callback&&e.callback(Nu(r)),r}return Fu(n,[{key:"toggleLimit",value:Qu},{key:"updateIcon",value:Ju},{key:"updateRootStyles",value:ec},{key:"render",value:rc}]),n}(F.l);function ic(){f.Xd.proxy.showTop5?this.setState({list:pc.state.list}):this.state.list=pc.state.list}function ac(e,t){var n=e.mass,o=e.name;return e.n,e.className,r.yK.h(lc,{mass:n,name:o})}function sc(e){var t=this,n=e.teamUi;function r(){return t.update.bind(t)}function o(){return t.unlisten()}if(Gu((function(){return t.listenTo(f.Xd,"showTop5",r),t.listenTo(n,"list",t.update.bind(t)),t.update(),o}),[]),f.Xd.proxy.showTop5)return this.state.list.map(ac)}var uc=function(e){Du(n,e);var t=Xu(n);function n(){var e;ju(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return qu(Nu(e=t.call.apply(t,[this].concat(o))),"state",{list:[]}),e}return Fu(n,[{key:"update",value:ic},{key:"render",value:sc}]),n}(F.l);function cc(e){var t=e.mass,n=e.name;return r.yK.h("div",null,r.yK.h("div",{class:"skin"}),r.yK.h("div",{class:"info"},r.yK.h("div",{class:"mass"},t),r.yK.h("div",{class:"name"},n)))}var lc=function(e){Du(n,e);var t=Xu(n);function n(){return ju(this,n),t.apply(this,arguments)}return Fu(n,[{key:"render",value:cc}]),n}(Hu);function fc(e,t){return t.mass-e.mass}function hc(){var e=this;this.top5=[];var t,n=Mu(li.userManager.users);try{var r=function(){var n=t.value;if(n.alive&&!n.isPlayer){if(40==n.mass){var r=s.wU.getActiveTab();r&&r.leaderboard.forEach((function(e,t){e.nick==n.nick&&va.ghostCells[t]&&(n.mass=va.ghostCells[t].mass)}))}e.top5.push(n)}};for(n.s();!(t=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}this.top5.sort(fc);for(var o=[],i=0,a=this.top5.length,u=0;u<a;u++)i+=this.top5[u].mass,u>=f.Xd.raw.teamboardLength.value||o.push({name:this.top5[u].nick,mass:this.shortMassFormat(this.top5[u].mass)});var c,l=Mu(s.wU.unitManager.units);try{for(l.s();!(c=l.n()).done;){var h=c.value;h.play&&(i+=h.mass,a++)}}catch(e){l.e(e)}finally{l.f()}this.canSheludeFrame&&fi.X.once("render",(function(){e.canSheludeFrame=!0,e.state.totalMass=e.shortMassFormat(i),e.state.total=a,e.state.list=o,e.emit("totalMass"),e.emit("total"),e.emit("list",o),e.emit("state")})),this.canSheludeFrame=!1}function dc(e){if(e<1e3)return e;var t=Math.round(e/100)/10;return"".concat(t%1==0?t+".0":t,"k")}var pc=new(function(e){Du(n,e);var t=Xu(n);function n(){var e;return ju(this,n),(e=t.call(this)).state={list:[],total:0,totalMass:0},e._updateTeamPlayers=e.compileTop5.bind(Nu(e)),setInterval((function(){return e.compileTop5()}),1e3),e.canSheludeFrame=!0,f.Xd.on("teamboardLength",(function(){e.canSheludeFrame=!0,e.compileTop5()}))(),f.Xd.on("showTop5",(function(){e.compileTop5()}))(),l.dD.on("hk-showTop5:down",(function(){f.Xd.proxy.showTop5=!f.Xd.proxy.showTop5,e.compileTop5()})),e.top5=[],e}return Fu(n,[{key:"compileTop5",value:hc},{key:"shortMassFormat",value:dc}]),n}(l.aN));function vc(e){e.preventDefault()}function yc(){var e=this;return Gu((function(){var t=new Xc;return t.init(e.__P),e.__P.addEventListener("contextmenu",vc),function(){t.destroy()}}),[1]),null}var mc=function(e){Du(n,e);var t=Xu(n);function n(){return ju(this,n),t.apply(this,arguments)}return Fu(n,[{key:"render",value:yc}]),n}(F.l);function gc(){this.unlisten(),this.$minimapHud.removeChild(this.$canvasSectors),this.$minimapHud.removeChild(this.$canvas),clearInterval(this.quadrantInterval)}function bc(e){f.Xd.proxy.showMiniMap=!f.Xd.proxy.showMiniMap}function wc(){return f.rS.emit("miniMapFont")}function _c(){f.rS.raw.miniMapFont.load().then(wc)}function kc(e){var t=this;function n(e){t.setCanvas(),t.drawMiniMapSectors(),t.draw(e.tick)}this.$minimapHud=e,this.$canvas=document.createElement("canvas"),this.$canvas.setAttribute("id","minimap"),this.ctx=this.$canvas.getContext("2d"),this.$canvasSectors=document.createElement("canvas"),this.$canvasSectors.setAttribute("id","minimap-sectors"),this.ctxSectors=this.$canvasSectors.getContext("2d"),this.$minimapHud.appendChild(this.$canvasSectors),this.$minimapHud.appendChild(this.$canvas),this.setCanvas(),this.setShow(),this.drawMiniMapSectors(),this.setSectorsOpacity(),this.listenTo(fi.X,"render",(function(e){return t.draw(e.tick)})),this.listenTo(f.Xd,"showMiniMap",(function(){t.setShow()})),this.listenTo(l.dD,"hk-showMiniMap:down",bc),window.addEventListener("resize",(function(e){return fi.X.once("update",n)})),this.listenTo(f.rS,"miniMapScale",(function(){t.setCanvas(),t.drawMiniMapSectors()})),this.listenTo(f.rS,"miniMapCanvasScale",(function(){t.setCanvas(),t.drawMiniMapSectors()})),this.listenTo(f.rS,"miniMapFont","miniMapSectorsColor","sectorsY","sectorsX",(function(){t.drawMiniMapSectors()})),setTimeout(_c,5e3),this.quadrantInterval=setInterval((function(){t.currentQuadrant=s.wU.qServer.calcLocalQuadrantSilent()}),2e3),this.listenTo(f.rS,"miniMapSectorsColor",(function(){t.setSectorsOpacity()})),this.listenTo(f.rS,"miniMapCanvasScale","miniMapNickfont","miniMapNickSize","miniMapNickStrokeSize","miniMapNickStrokeColor","miniMapNickColor",(function(){t.updateFonts()})),this.listenTo(f.Xd,"showMiniMapSectors","showMiniMapGrid",(function(){t.drawMiniMapSectors()}))}function Sc(){this.$minimapHud.style.display=f.Xd.raw.showMiniMap.value?"":"none"}function Tc(e){e.nickCanvas&&(e.nickCanvas.dirty=!0)}function xc(){li.userManager.users.forEach(Tc)}function Uc(){var e=X(),t=1;t=e*window.innerWidth/(e*window.innerHeight)>4/3?D(27)/200:3*K(27)/4/200,t=Math.min(1,t),this.$minimapHud.style.fontSize=100*t+"%",this.miniMapCanvasScale=f.rS.raw.miniMapScale.value*t,this.padding=24;var n=window.devicePixelRatio*f.rS.raw.miniMapCanvasScale.value;this.renderZoneWidth=this.renderZoneHeight=this.defaultWidth*n*this.miniMapCanvasScale;var r=this.padding/n*2;this.width=this.renderZoneWidth+2*this.padding,this.height=this.renderZoneHeight+2*this.padding,this.wi2=this.renderZoneWidth,this.he2=this.renderZoneHeight,this.$minimapHud.style.width=this.wi2/n+"px",this.$minimapHud.style.height=this.he2/n+"px",this.$canvas.width=this.width,this.$canvas.height=this.height,this.$canvas.style.width=this.width/n+"px",this.$canvas.style.height=this.height/n+"px",this.$canvas.style.margin="-"+r/2+"px",this.$canvasSectors.width=this.wi2,this.$canvasSectors.height=this.he2,this.$canvasSectors.style.width=this.wi2/n+"px",this.$canvasSectors.style.height=this.he2/n+"px",this.setCanvasAntialiasing(4)}function Cc(){this.$canvasSectors.style.opacity=f.rS.raw.miniMapSectorsColor.microcolor.vector[3]+""}function Ic(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$canvas.style.imageRendering=e?"":"pixelated",this.$canvasSectors.style.imageRendering=e?"":"pixelated"}function Pc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(void 0!==(e=Number(e)))switch(this.ctx.imageSmoothingEnabled=!0,e){case 0:this.ctx.imageSmoothingEnabled=!1,this.ctx.imageSmoothingQuality="low",this.setCanvasSmoothing(!1);break;case 1:this.ctx.imageSmoothingQuality="low",this.setCanvasSmoothing(!0);break;case 2:this.ctx.imageSmoothingQuality="medium",this.setCanvasSmoothing(!0);break;case 3:this.ctx.imageSmoothingQuality="high",this.setCanvasSmoothing(!0);break;case 4:this.ctx.imageSmoothingQuality="high",this.setCanvasSmoothing(!1)}}function Oc(e,t,n,r){var o=s.wU.getActiveTab();if(o.battleRoyale.state){var i=this.matrix.getTransformedPoint(o.battleRoyale.x,o.battleRoyale.y),a=i.x,u=i.y,c=o.battleRoyale.radius*r;this.drawDangerArea(this.ctx,a,u,c,0,0,t,n,f.rS.raw.dangerAreaColor.string,.25);var l=this.matrix.getTransformedPoint(o.battleRoyale.targetX,o.battleRoyale.targetY),h=l.x,d=l.y;c=~~(o.battleRoyale.targetRadius*r),this.drawSafeArea(this.ctx,h,d,c,2,f.rS.raw.safeAreaColor.string)}}function Rc(e,t,n,r,o,i,a,u,c,l){e=this.ctx;var f=s.wU.getActiveTab();f.battleRoyale.radius==f.battleRoyale.maxRadius||r<=0||(e.save(),e.globalAlpha=l,e.fillStyle=c,e.fillRect(o,i,a,u),e.globalCompositeOperation="destination-out",e.globalAlpha=1,e.beginPath(),e.arc(t,n,r,0,this.pi2,!1),e.fill(),e.restore())}function Ec(e,t,n,r,o,i){s.wU.getActiveTab().battleRoyale.state>2||r<=0||this.drawDashedCircle(e,t,n,r,60,o,i)}function Mc(e,t,n,r,o,i,a){var s=this.pi2/o;e.lineWidth=i,e.strokeStyle=a;for(var u=0;u<o;u+=2)e.beginPath(),e.arc(t,n,r-i/2,u*s,(u+1)*s,!1),e.stroke()}function Ac(){this.setCanvas(),this.ctxSectors.fillStyle="#FFFFFF",this.drawSectors(this.ctxSectors,f.rS.raw.sectorsX.value,f.rS.raw.sectorsY.value,0,0,this.$canvasSectors.width,this.$canvasSectors.height,f.rS.raw.miniMapSectorsColor.string,f.rS.raw.miniMapSectorsColor.string,1)}function jc(e,t,n,r,o,i,a,s,u,c){var l=~~((i-r)/t),h=~~((a-o)/n),d=0,p=0;if(e.strokeStyle=s,e.fillStyle=u,e.lineWidth=c,f.Xd.raw.showMiniMapGrid.value){e.beginPath();for(var v=1;v<t+0;v++)d=r+l*v,e.moveTo(v==t?i:d,o),e.lineTo(v==t?i:d,a);for(v=1;v<n+0;v++)p=o+h*v,e.moveTo(r-c/2,v==n?a:p),e.lineTo(i+c/2,v==n?a:p);e.stroke()}if(e.font="".concat(f.rS.raw.miniMapFont.fontWeight," ").concat(~~(.4*h),"px ").concat(f.rS.raw.miniMapFont.fontFamily),e.textAlign="center",e.textBaseline="middle",f.Xd.raw.showMiniMapSectors.value)for(v=0;v<n;v++)for(var y=0;y<t;y++){var m=String.fromCharCode(65+v)+(y+1);d=~~(r+l/2+y*l),p=~~(o+h/2+v*h),e.fillText(m,d,p)}}function Lc(e,t){var n=this.matrix.getTransformedPoint(t.animX,t.animY),r=n.x,o=n.y;if(t.nick.length>0){t.nickCanvas&&!t.nickCanvas.dirty&&t.nickCanvas.text===t.nick&&this.dpr===window.devicePixelRatio*f.rS.raw.miniMapCanvasScale.value*this.miniMapCanvasScale||(t.nickCanvas||(t.nickCanvas=new Pu),t.nickCanvas.setText(t.nick),t.nickCanvas.fontFamily=f.rS.raw.miniMapNickfont.fontFamily,t.nickCanvas.fontSize=f.rS.raw.miniMapNickSize.value*(window.devicePixelRatio*f.rS.raw.miniMapCanvasScale.value*this.miniMapCanvasScale),t.nickCanvas.fontWeight=Number(f.rS.raw.miniMapNickfont.fontWeight),t.nickCanvas.lineWidth=f.rS.raw.miniMapNickStrokeSize.value,t.nickCanvas.strokeStyle=f.rS.raw.miniMapNickStrokeColor.string,t.nickCanvas.fillStyle=f.rS.raw.miniMapNickColor.string,t.nickCanvas.update());var i=t.nickCanvas;i.x=~~(r-(i.w>>1)),i.y=~~(o-(i.h+f.rS.raw.miniMapTeammatesSize.value*this.dpr)),i.draw(e)}}function Fc(e,t){var n=this.matrix.getTransformedPoint(t.animX,t.animY),r=n.x,o=n.y,i=f.rS.raw.miniMapTeammatesSize.value*this.dpr;if(":party"!==s.wU.server.gameMode&&"v7"==t.protocol){var a=o-i/3,u=i*Math.cos(Math.PI/6);e.beginPath(),e.moveTo(r-i,a+i),e.lineTo(r+i,a+i),e.lineTo(r,a-u),e.closePath()}else e.beginPath(),e.arc(r,o,i,0,this.pi2,!1),e.closePath();f.Xd.raw.oneColoredTeammates.value?e.fillStyle=f.rS.raw.miniMapTeammatesColor.string:e.fillStyle=t.protocolColorString,e.fill()}function Dc(e,t,n){return Math.min(Math.max(e,t),n)}function Kc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3/60;if(f.Xd.raw.showMiniMap.value){this.ctx.clearRect(0,0,this.width,this.height);var t=this.renderZoneWidth/s.wU.server.mapSizeH,n=this.renderZoneHeight/s.wU.server.mapSizeV,r=s.wU.server.mapSizeH>>1,o=s.wU.server.mapSizeV>>1;this.matrix.reset(),this.matrix.translate(this.padding,this.padding),this.matrix.scale(t,n),this.matrix.translate(r,o),this.ctx.globalAlpha=1;var i=s.wU.getActiveTab();if(0!==f.rS.raw.miniMapViewportColor.microcolor.a){this.ctx.beginPath(),this.ctx.fillStyle=f.rS.raw.miniMapViewportColor.microcolor.string;var a,u=Mu(s.wU.clients.render);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=this.matrix.getTransformedPoint(this.clamp(c.bound.left,s.wU.server.mapMinX,s.wU.server.mapMaxX),this.clamp(c.bound.top,s.wU.server.mapMinY,s.wU.server.mapMaxY)),h=l.x,d=l.y,p=this.matrix.getTransformedPoint(this.clamp(c.bound.right,s.wU.server.mapMinX,s.wU.server.mapMaxX),this.clamp(c.bound.bottom,s.wU.server.mapMinY,s.wU.server.mapMaxY)),v=p.x,y=p.y;this.ctx.rect(~~h,~~d,~~(v-h),~~(y-d))}}catch(e){u.e(e)}finally{u.f()}this.ctx.fill()}if(":battleroyale"===s.wU._server.gameMode&&this.drawBattleroyaleArea(this.ctx,this.renderZoneWidth,this.renderZoneHeight,r),f.Xd.raw.showMiniMapGhostCells.value){var m=va.ghostCells;this.ctx.beginPath();for(var g=0,b=m.length;b>g;g++){var w=m[g],_=this.matrix.getTransformedPoint(w.x,w.y),k=~~_.x,S=~~_.y;this.ctx.moveTo(k,S),this.ctx.arc(k,S,~~(w.size*t),0,this.pi2,!1)}this.ctx.fillStyle=f.rS.raw.miniMapGhostCellsColor.microcolor.string,this.ctx.globalAlpha=f.rS.raw.miniMapGhostCellsColor.microcolor.vector[3],this.ctx.shadowColor=f.rS.raw.miniMapGhostCellsColor.microcolor.string,this.ctx.shadowBlur=10,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.fill(),this.ctx.globalAlpha=1,this.ctx.shadowBlur=0}if((f.Xd.raw.showMiniMapGuides.value||f.Xd.raw.showExtraMiniMapGuides.value)&&(this.ctx.lineWidth=1.5,this.ctx.strokeStyle=f.rS.raw.miniMapGuidesColor.string),i&&f.Xd.raw.showMiniMapGuides.value){var T=this.matrix.getTransformedPoint(i.protocol_viewX,i.protocol_viewY),x=T.x,U=T.y,C=this.matrix.getTransformedPoint(s.wU.server.mapMaxX,s.wU.server.mapMaxY),I=C.x,P=C.y,O=this.matrix.getTransformedPoint(s.wU.server.mapMinX,s.wU.server.mapMinY),R=O.x,E=O.y;this.ctx.beginPath(),this.ctx.moveTo(x,E),this.ctx.lineTo(x,P),this.ctx.moveTo(R,U),this.ctx.lineTo(I,U),this.ctx.stroke()}if(i&&f.Xd.raw.showExtraMiniMapGuides.value){var M=this.matrix.getTransformedPoint(i.protocol_viewX,i.protocol_viewY),A=M.x,j=M.y,L=s.wU.stage.canvasWidth/(s.wU.server.mapMaxX-s.wU.server.mapMinX)/s.wU.stage.scale,F=s.wU.stage.canvasHeight/(s.wU.server.mapMaxY-s.wU.server.mapMinY)/s.wU.stage.scale,D=this.renderZoneWidth*L,K=this.renderZoneWidth*F,X=A-D/2,B=j-K/2,N=4-12*F;if(N>0){this.ctx.globalAlpha=N<0?0:N;var z={x:X+D,y:B},q={x:X,y:B},H={x:X,y:B+K},W={x:X+D,y:B+K},G=80*L*this.dpr,V=60*F*this.dpr;this.ctx.beginPath(),this.ctx.moveTo(z.x,z.y+V),this.ctx.lineTo(z.x,z.y),this.ctx.lineTo(z.x-G,z.y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(q.x,q.y+V),this.ctx.lineTo(q.x,q.y),this.ctx.lineTo(q.x+G,q.y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(H.x+G,H.y),this.ctx.lineTo(H.x,H.y),this.ctx.lineTo(H.x,H.y-V),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(W.x-G,W.y),this.ctx.lineTo(W.x,W.y),this.ctx.lineTo(W.x,W.y-V),this.ctx.stroke(),this.ctx.globalAlpha=1}}for(var Y=0,Z=s.wU.clients.player.length;Z>Y;Y++){var Q=this.matrix.getTransformedPoint(s.wU.clients.player[Y].protocol_viewX,s.wU.clients.player[Y].protocol_viewY),J=Q.x,$=Q.y;this.ctx.beginPath(),this.ctx.arc(J,$,f.rS.raw.miniMapMyCellSize.value*this.dpr,0,this.pi2,!1),this.ctx.closePath(),f.rS.raw.miniMapMyCellStrokeSize.value>0&&(this.ctx.lineWidth=f.rS.raw.miniMapMyCellStrokeSize.value*this.dpr,this.ctx.strokeStyle=f.rS.raw.miniMapMyCellStrokeColor.string,this.ctx.stroke()),this.ctx.fillStyle=f.rS.raw.miniMapMyCellColor.string,this.ctx.fill()}var ee=li.userManager.users,te=e/2e3;te=te<0?0:te>1?1:te;for(var ne=0,re=ee.length;ne<re;ne++){var oe=ee[ne];!oe.isPlayer&&oe.alive&&(oe.animX+=(oe.targetX-oe.animX)*te,oe.animY+=(oe.targetY-oe.animY)*te,this.drawDot(this.ctx,oe))}for(var ie=0,ae=ee.length;ie<ae;ie++){var se=ee[ie];!se.isPlayer&&se.alive&&this.drawNick(this.ctx,se)}this.dpr!==window.devicePixelRatio*f.rS.raw.miniMapCanvasScale.value*this.miniMapCanvasScale&&(this.dpr=window.devicePixelRatio*f.rS.raw.miniMapCanvasScale.value*this.miniMapCanvasScale)}}var Xc=function(e){Du(n,e);var t=Xu(n);function n(){var e;return ju(this,n),qu(Nu(e=t.call(this)),"$canvas",null),qu(Nu(e),"$canvasSectors",null),qu(Nu(e),"selectBiggestCell",!1),e.defaultWidth=200,e.padding=50,e.width=e.height=e.defaultWidth,e.pi2=2*Math.PI,e.miniMapSectorsDrawed=!1,e.matrix=new Ru,e.dpr=window.devicePixelRatio*f.rS.raw.miniMapCanvasScale.value,e.miniMapCanvasScale=1,e.currentQuadrant=-1,e.quadrantInterval=null,e}return Fu(n,[{key:"destroy",value:gc},{key:"init",value:kc},{key:"setShow",value:Sc},{key:"updateFonts",value:xc},{key:"setCanvas",value:Uc},{key:"setSectorsOpacity",value:Cc},{key:"setCanvasSmoothing",value:Ic},{key:"setCanvasAntialiasing",value:Pc},{key:"drawBattleroyaleArea",value:Oc},{key:"drawDangerArea",value:Rc},{key:"drawSafeArea",value:Ec},{key:"drawDashedCircle",value:Mc},{key:"drawMiniMapSectors",value:Ac},{key:"drawSectors",value:jc},{key:"drawNick",value:Lc},{key:"drawDot",value:Fc},{key:"clamp",value:Dc},{key:"draw",value:Kc}]),n}(l.aN),Bc=n(7042);function Nc(e){return Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(e)}function zc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hc(e,t,n){return t&&qc(e.prototype,t),n&&qc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gc(e,t)}function Gc(e,t){return Gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gc(e,t)}function Vc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qc(e);if(t){var o=Qc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yc(this,n)}}function Yc(e,t){if(t&&("object"===Nc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zc(e)}function Zc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qc(e){return Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qc(e)}r.yK.Component,r.yK.render,r.yK.h,r.yK.createRef,r.rl.useState;var Jc=r.rl.useEffect;function $c(e){return{top_position:"Reach top",highest_mass:"Reach mass",normal_cells_eaten:"Eat players",viruses_eaten:"Eat viruses",food_eaten:"Eat food",time_total:"Stay alive"}[e]}function el(e){var t=this,n=e.quest,o=e.client;function i(){return t.setState(t.state)}function a(){return t.setState(t.state)}function s(){return t.unlisten()}return Jc((function(){return t.listenTo(n,Bc.l.events.progress,i),t.listenTo(n,Bc.l.events.done,a),s}),[n,o]),"time_total"==n.type?[n.done?r.yK.h("i",{class:"fas fa-check"}):""," ",this.name(n.type)," ",new Date(n.progress).toISOString().replace(/^.*(\d{2}:\d{2}:\d{2}).*/,"$1")]:[n.done?r.yK.h("i",{class:"fas fa-check"}):""," ",this.name(n.type)," ",n.progress,"/",n.goal]}r.rl.useRef;var tl=function(e){Wc(n,e);var t=Vc(n);function n(){return zc(this,n),t.apply(this,arguments)}return Hc(n,[{key:"name",value:$c},{key:"render",value:el}]),n}(F.l);function nl(e){var t,n=this,o=e.client;function i(){return n.setState(n.state)}function a(){return n.setState(n.state)}function s(){return n.unlisten()}Jc((function(){var e=o.mobileData;return n.listenTo(e.UserActiveQuests,"quest_activation_24h",i),n.listenTo(e.state,"loggedIn",a),s}),[o]);var u=o.mobileData;if(!u.state.loggedIn)return"";var c=Object.values(u.UserActiveQuests.all);return 0===c.length||":ffa"!=o.gameMode?"":r.yK.h("div",{class:"frows"},r.yK.h("div",{class:"frows mr4",style:"width:1.5em;height:1.5em;"},r.yK.h("img",{style:"width: 100%;",class:"avatar",src:null===(t=u.userInfo.realmInfo)||void 0===t?void 0:t.avatarUrl})),r.yK.h("div",{class:"fcols mr4"},r.yK.h("div",null,c.map((function(e){return r.yK.h(tl,{quest:e,client:o})})))))}var rl=function(e){Wc(n,e);var t=Vc(n);function n(){return zc(this,n),t.apply(this,arguments)}return Hc(n,[{key:"render",value:nl}]),n}(F.l);function ol(){}function il(){}function al(e){return r.yK.h(rl,{client:e})}function sl(){return this.state.clients.map(al)}var ul=function(e){Wc(n,e);var t=Vc(n);function n(){var e,r,o,i;return zc(this,n),i={clients:[],scroll:0},(o="state")in(r=Zc(e=t.call(this)))?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,e.setState({clients:s.wU.clients.player.slice(0)}),e.listenTo(s.wU,"initClient",(function(t){try{n=t,e.state.clients.push(n),e.setState({clients:e.state.clients})}catch(e){}var n;t.on("removeEvents",(function(){try{!function(t){var n=e.state.clients.indexOf(t);~n&&e.state.clients.splice(n,1),e.setState({clients:e.state.clients})}(t)}catch(e){}}))})),e.listenTo(s.wU,"swapEvent",(function(){try{e.setState({clients:e.state.clients})}catch(e){}})),e.listenTo(s.wU,"custom",(function(t){t&&e.state.clients.reverse();try{e.setState({clients:e.state.clients})}catch(e){}})),e}return Hc(n,[{key:"componentDidMount",value:ol},{key:"componentWillUnmount",value:il},{key:"render",value:sl}]),n}(F.l),cl=n(7404);function ll(e){return ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(e)}function fl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dl(e,t,n){return t&&hl(e.prototype,t),n&&hl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vl(e,t)}function vl(e,t){return vl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vl(e,t)}function yl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gl(e);if(t){var o=gl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ml(this,n)}}function ml(e,t){if(t&&("object"===ll(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gl(e){return gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gl(e)}r.yK.Component,r.yK.render,r.yK.h,r.yK.createRef;var bl=r.rl.useState;function wl(e){return r.yK.h("div",null,e[0],": ",e[1].name,": ",~~e[1].time)}function _l(e){var t=this,n=e.client;function o(){t.setState(t.state)}function i(){t.setState(t.state)}function a(e,n){t.state[e].time=n,t.setState(t.state)}function s(){return t.unlisten()}return bl((function(){return t.listenTo(n,"estabilished",o),t.listenTo(n,"unestabilished",i),t.listenTo(n,"local-server-stats",a),s}),[n]),n.protocol instanceof cl.E?r.yK.h("div",{class:"",style:"width: 160px; font-size: 70%;white-space: nowrap;"},Object.entries(this.state).map(wl)):null}r.rl.useEffect,r.rl.useRef;var kl=function(e){pl(n,e);var t=yl(n);function n(e){var r;return fl(this,n),(r=t.call(this)).state={0:{name:"test",time:0},1:{name:"Total",time:0},2:{name:"timer_cells_reset",time:0},3:{name:"test",time:0},4:{name:"timer_query_boost",time:0},5:{name:"timer_player_move",time:0},6:{name:"timer_eat_query",time:0},7:{name:"timer_rigid_check",time:0},8:{name:"timer_eat_check",time:0},9:{name:"timer_view_query",time:0},10:{name:"timer_uvc_1",time:0},11:{name:"timer_writer",time:0}},r}return dl(n,[{key:"render",value:_l}]),n}(F.l);function Sl(e){return r.yK.h(kl,{client:e})}function Tl(e,t){var n=this;function r(e){s.wU.clients.player.includes(e)&&n.setState({clients:n.state.clients.concat(e)})}function o(e){n.setState({clients:n.state.clients.filter((function(t){return t!==e}))})}function i(){return n.unlisten()}return bl((function(){return n.setState({clients:s.wU.clients.player.slice(0)}),n.listenTo(s.wU,"initClient",r),n.listenTo(s.wU,"removeClient",o),i})),t.clients.map(Sl)}const xl=function(e){pl(n,e);var t=yl(n);function n(e){var r;return fl(this,n),(r=t.call(this)).state={clients:[]},r}return dl(n,[{key:"render",value:Tl}]),n}(F.l);function Ul(e){return Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(e)}function Cl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pl(e,t,n){return t&&Il(e.prototype,t),n&&Il(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ol(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rl(e,t)}function Rl(e,t){return Rl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rl(e,t)}function El(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Al(e);if(t){var o=Al(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ml(this,n)}}function Ml(e,t){if(t&&("object"===Ul(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Al(e){return Al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Al(e)}var jl=r.yK.Component,Ll=(r.yK.render,r.yK.h,r.yK.createRef,r.rl.useState);function Fl(e){Math.max(Math.ceil((e-Date.now())/1e3),0)}function Dl(e){var t=this,n=e.client;function o(){t.setState(t.state)}function i(){t.setState(t.state)}function a(){t.setState(t.state)}function s(){n.isRaga&&(t.time(n.protocol.expiration)<=0&&n.protocol.sendLoop(),t.setState(t.state))}return Ll((function(){var e=n.on("estabilished",o),t=n.on("unestabilished",i),r=n.on("raga-update",a),u=setInterval(s,1e3);return function(){n.removeListener("estabilished",e),n.removeListener("unestabilished",t),n.removeListener("raga-update",r),clearInterval(u)}}),[n]),n.isRaga&&n.estabilished?r.yK.h("div",{class:"frows"},r.yK.h("div",{class:"fcols mr4"},r.yK.h("div",null,n.protocol.minions.loaded,"/",n.protocol.minions.amount))):null}r.rl.useEffect,r.rl.useRef;var Kl=function(e){Ol(n,e);var t=El(n);function n(e){var r;return Cl(this,n),(r=t.call(this)).state={clients:[]},r}return Pl(n,[{key:"time",value:Fl},{key:"render",value:Dl}]),n}(jl);function Xl(e){return r.yK.h(Kl,{client:e})}function Bl(e,t){var n=this;function r(e){n.setState({clients:n.state.clients.concat(e)})}function o(e){n.setState({clients:n.state.clients.filter((function(t){return t!==e}))})}return Ll((function(){n.setState({clients:s.wU.clients.player.slice(0)});var e=s.wU.on("initClient",r),t=s.wU.on("removeClient",o);return function(){s.wU.removeListener("initClient",e),s.wU.removeListener("removeClient",t)}})),t.clients.map(Xl)}var Nl=function(e){Ol(n,e);var t=El(n);function n(e){var r;return Cl(this,n),(r=t.call(this)).state={clients:[]},r}return Pl(n,[{key:"render",value:Bl}]),n}(jl);function zl(e){return zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(e)}function ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hl(e,t){return Hl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hl(e,t)}function Wl(e,t){if(t&&("object"===zl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gl(e)}function Gl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vl(e){return Vl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vl(e)}r.yK.Component,r.yK.render,r.yK.h,r.rl.useState;var Yl=r.rl.useEffect,Zl=r.rl.useRef;function Ql(e){return e.preventDefault()}function Jl(e){return e.preventDefault()}function $l(){var e=this;function t(){e.$pause.current.style.display=s.wU.state.paused?"block":"none"}function n(){e.$focus.current.style.display=s.wU.state.focused?"none":"block"}function o(){e.__P.style.display=s.wU.state.hudShow?"block":"none"}function i(){window.removeEventListener("resize",e.resize)}return this.$accessability=Zl(null),this.$huds_top_right=Zl(null),this.$huds_top_left=Zl(null),this.$huds_bottom_left=Zl(null),this.$stats=Zl(null),this.$pause=Zl(null),this.$focus=Zl(null),Yl((function(){return e.listenTo(s.wU.state,"paused",t)(),e.listenTo(s.wU.state,"focused",n)(),e.listenTo(s.wU.state,"hudShow",o)(),window.addEventListener("resize",e.resize),e.resize(),i}),[]),[r.yK.h("div",{at:"⬒",class:"huds-bottom",ref:this.$huds_bottom_left}),r.yK.h("div",{at:"◰",class:"huds-top-left",ref:this.$huds_top_left},r.yK.h("div",{id:"teamboard",class:"team-top hud-generic"},r.yK.h(oc,null))),r.yK.h("div",{at:"◳",class:"huds-top-right",ref:this.$huds_top_right},r.yK.h("div",{class:"frows"},r.yK.h("div",{class:"fcols hud-at-leaderboard",oncontextmenu:Ql},r.yK.h("div",{class:"hud-generic fcols",id:"hud-quests"},r.yK.h(ul,null)),r.yK.h("div",{class:"hud-generic fcols",id:"hud-raga"},r.yK.h(Nl,null)),r.yK.h("div",{class:"hud-generic fcols",id:"hud-deb"},r.yK.h(xl,null))),r.yK.h("div",null,r.yK.h("div",{id:"leaderboard-hud",class:"leaderboard-hud hud hud-generic classic"},r.yK.h(ia,null))))),r.yK.h("div",{at:"◲",class:"huds-bottom-right",oncontextmenu:Jl},r.yK.h(Ea,null),r.yK.h("div",{id:"minimap-hud",class:"hud-b hud-generic"},r.yK.h(mc,null))),r.yK.h("div",{at:"◱",class:"huds-bottom-left",id:"bottom-left"},r.yK.h(it,null),r.yK.h("div",{ref:this.$stats},r.yK.h(ka,null))),r.yK.h("div",{id:"accessability-hud",ref:this.$accessability,class:"hud hud-generic"},r.yK.h("div",{ref:this.$pause,id:"pause-hud"},"PAUSED"),r.yK.h("div",{ref:this.$focus,id:"lostfocus-hud"},"NO FOCUS")),r.yK.h(ge,null)]}const ef=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hl(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vl(r);if(o){var n=Vl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wl(this,e)});function a(){var e,t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=function(){var t=X(),n=1;n=t*window.innerWidth/(t*window.innerHeight)>4/3?D(27)/200:3*K(27)/4/200,n=Math.min(1,n),e.$accessability.current.style.fontSize=100*n+"%",e.$huds_top_right.current.style.fontSize=100*n+"%",e.$huds_top_left.current.style.fontSize=100*n+"%",e.$huds_bottom_left.current.style.fontSize=100*n+"%",e.$stats.current.style.fontSize=100*n+"%"},(n="resize")in(t=Gl(e=i.call(this)))?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return t=a,(n=[{key:"render",value:$l}])&&ql(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(F.l);function tf(e){return tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(e)}function nf(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function of(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sf(e,t,n){return t&&af(e.prototype,t),n&&af(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cf(e,t)}function cf(e,t){return cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cf(e,t)}function lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=df(e);if(t){var o=df(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ff(this,n)}}function ff(e,t){if(t&&("object"===tf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hf(e)}function hf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},df(e)}r.yK.Component,r.yK.render,r.yK.h,r.rl.useState;var pf=r.rl.useEffect;function vf(e){e.target.select()}function yf(){var e=this,t=s.wU.backend;function n(){t.state.user?(e.state.user=Parse.User.current(),e.setState({signedIn:!0})):(e.state.user=null,e.setState({signedIn:!1}))}function o(){e.setState({})}return pf((function(){var e=t.state.on("user",n);return t.state.on("subscription",o),function(){t.state.removeListener("user",e)}}),[]),this.state.signedIn?r.yK.h("div",{class:"row"},r.yK.h("div",{class:"col-auto gy-1"},r.yK.h("img",{style:"width:2.1em; height: 2.1em",src:this.state.user.get("picture")})),r.yK.h("div",{class:"col",style:"padding: 0.2em 0.2em"},r.yK.h("div",{style:"font-size:80%"},"Welcome"),r.yK.h("div",{style:"font-size:60%; display: flex;"},"ID: ",r.yK.h("input",{value:this.state.user.id,onmouseup:vf}))),r.yK.h("div",{class:"col-auto gy-1"},r.yK.h("div",{class:"btn size-small",onclick:function(){return t.logOut()}},r.yK.h("div",{class:"btn-layer",role:"tooltip","data-microtip-position":"right"},r.yK.h("tty",null,"Logout"),r.yK.h("div",{class:"btn-logo"},r.yK.h("div",{class:"btn-icon fas fa-sign-out-alt"}))))),r.yK.h("div",{class:"col-fit gy-1"},r.yK.h(bf,null))):r.yK.h("div",{class:"row"},r.yK.h("div",{class:"col gy-1"},r.yK.h("div",{class:"btn left btn-colored size-small",onclick:function(){return t.loginWithGoogle()},style:"--data-background:#DB4437;"},r.yK.h("div",{class:"btn-layer",role:"tooltip","data-microtip-position":"top"},r.yK.h("tty",null,"Login with Google"),r.yK.h("div",{class:""},r.yK.h("div",{class:"btn-logo fab fa-google"})," Delta Login")))))}r.rl.useRef;var mf=function(e){uf(n,e);var t=lf(n);function n(){var e;return of(this,n),(e=t.call(this)).state={signedIn:!!Parse.User.current(),user:Parse.User.current()},e}return sf(n,[{key:"render",value:yf}]),n}(F.l);function gf(e){var t=s.wU.backend;return r.yK.h("div",{class:"row"},r.yK.h("div",{class:"col-4"},r.yK.h(Sf,{plan:t.userPlans.list.spect1x,onclick:function(){return t.userPlans.usePlan("spect1x")}},"1x")),r.yK.h("div",{class:"col-4"},r.yK.h(Sf,{plan:t.userPlans.list.spect4x,onclick:function(){return t.userPlans.usePlan("spect4x")}},"4x")),r.yK.h("div",{class:"col-4"},r.yK.h(Sf,{plan:t.userPlans.list.spect16x,onclick:function(){return t.userPlans.usePlan("spect16x")}},"16x")))}var bf=function(e){uf(n,e);var t=lf(n);function n(){return of(this,n),t.apply(this,arguments)}return sf(n,[{key:"render",value:gf}]),n}(F.l);function wf(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),f.Xd.raw.menuSounds.value&&O.g.play("button-change"),t=s.wU.backend,n.prev=3,n.next=6,t.userPlans.clickPlan(this.props.plan);case 6:n.next=13;break;case 8:n.prev=8,n.t0=n.catch(3),f.Xd.raw.menuSounds.value&&O.g.play("button-disabled"),toastr.error(n.t0.message),Promise.resolve(n.t0.message).then(console.log.bind(null));case 13:case"end":return n.stop()}}),wf,this,[[3,8]])}function _f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(0,hi.EE)(new Date(Date.now()+Math.max(0,e)));return"".concat(t.hours,":").concat(t.minutes,":").concat(t.seconds)}function kf(e){var t,n=this,o=e.plan,i=(null===(t=s.wU.backend.userSubscription.list[0])||void 0===t?void 0:t.subscription_quotas)||{};function a(e){n.setState({enabled:e})}function u(){s.wU.state.menuShow&&n.setState({r:Math.random()})}return pf((function(){n.listenTo(s.wU.fcontroller,"toggle:"+o.name,a);var e=setInterval(u,1e3);return function(){clearInterval(e)}}),[]),r.yK.h("div",{class:"plan-item "+(this.state.enabled?"enabled":"")+" "+(i[o.name]&&o.isAvailable||!o.isExpired?"available":"")+" mx-auto",onclick:function(e){return n.click(e)},style:"font-size: 100%"},r.yK.h("div",{class:"plan-item-icon"},r.yK.h("i",{class:"fa fa-map","aria-hidden":"true"})),r.yK.h("div",{class:"plan-item-text"},e.children),r.yK.h("div",{class:"plan-item-time"},i[o.name]?o.isExpired?o.isAvailable?"FREE":""+this.getTime(o.nextAvailableIn):0==o.expiresIn?null:this.getTime(o.expiresIn):""))}var Sf=function(e){uf(o,e);var t,n,r=lf(o);function o(){var e;of(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return rf(hf(e=r.call.apply(r,[this].concat(n))),"props",{plan:null}),rf(hf(e),"state",{enabled:!1}),e}return sf(o,[{key:"click",value:(t=regeneratorRuntime.mark(wf),n=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){nf(i,r,o,a,s,"next",e)}function s(e){nf(i,r,o,a,s,"throw",e)}a(void 0)}))},function(e){return n.apply(this,arguments)})},{key:"getTime",value:_f},{key:"render",value:kf}]),o}(F.l),Tf=n(2284),xf=n(780);function Uf(e){return Uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(e)}function Cf(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function If(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Of(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ef(e,t,n){return t&&Rf(e.prototype,t),n&&Rf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Af(e,t)}function Af(e,t){return Af=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Af(e,t)}function jf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ff(e);if(t){var o=Ff(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lf(this,n)}}function Lf(e,t){if(t&&("object"===Uf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ff(e)}(0,r.kr)(null);var Df=r.yK.Component;function Kf(){this.setState({_:Date.now()})}function Xf(e,t){return r.yK.h("div",{class:s.wU.server.ws===e.adress?"active":"",onClick:function(){return s.wU.connect(e.adress)}},e.lastCheckedTime," ",e.token)}function Bf(){var e,t="".concat(this.state.state.selector1,"-").concat(this.state.state.selector2);return r.yK.h("div",{class:"fcols grow hinherit list-style"+(f.Xd.proxy.hideUserForms?" hide":""),style:"font-size:80%;overflow-x: hidden; overflow-y: auto;height: 0;"},this.state.list.by.cat[t]&&0!==this.state.list.by.cat[t].length?"":r.yK.h("div",null,"Servers not found"),null===(e=this.state.list.by.cat[t])||void 0===e?void 0:e.map(Xf))}r.yK.render,r.yK.h,r.yK.createRef,r.rl.useState,r.rl.useEffect,r.rl.useRef;var Nf=function(e){Mf(n,e);var t=jf(n);function n(){var e;return Of(this,n),(e=t.call(this)).state=Ro.Z.agarioServerList,Ro.Z.agarioServerList.state.on("*",(function(){return e.rerender()})),Ro.Z.agarioServerList.list.on("change","add",(function(t){console.log(t),e.rerender()})),s.wU.server.on("ws",(function(){return e.rerender()})),f.Xd.on("hideUserForms",(function(){return e.rerender()})),e}return Ef(n,[{key:"rerender",value:Kf},{key:"render",value:Bf}]),n}(Df);function zf(){this.setState({_:Date.now()})}function qf(e){var t=If(e,2),n=t[0],o=t[1],i=o.numPlayers,a=o.name;return r.yK.h("option",{value:n},a+(null!==i?" ("+i+")":""))}function Hf(e){var t=If(e,2),n=t[0],o=t[1];return r.yK.h("option",{value:n},o)}function Wf(e){return s.wU.connect(e)}function Gf(){Ro.Z.getSelectedServer(Wf)}function Vf(){var e=this;return r.yK.h("div",{class:"content fcols grow hinherit gamemode-selector-box",style:"overflow: hidden;"},r.yK.h("div",null,r.yK.h("div",{class:"region size-medium"+(f.Xd.proxy.hideUserForms?" hide":"")},r.yK.h("div",{class:"icon fas fa-globe-europe"}),r.yK.h("select",{onchange:function(t){s.wU.disconnect(),e.state.state.selector1=t.srcElement.value},value:this.state.selector1},r.yK.h("optgroup",{label:"Agar.io servers"},Object.entries(this.state.regions).map(qf)))),r.yK.h("div",{class:"gamemode size-medium"+(f.Xd.proxy.hideUserForms?" hide":"")},r.yK.h("div",{class:"icon fas fa-arrows-alt"}),r.yK.h("select",{onchange:function(t){s.wU.disconnect(),e.state.state.selector2=t.srcElement.value},value:this.state.state.selector2},r.yK.h("optgroup",{label:"Select game mode"},Object.entries(Ro.Z.agarioServerList.gamemodes).map(Hf))),r.yK.h("div",{onClick:Gf,class:"btn mr0",style:"width:40px;flex: 1 0 auto;"},r.yK.h("div",{class:"btn-layer"},r.yK.h("span",{class:"fas fa-dice"}))))),r.yK.h(Nf,null))}var Yf=function(e){Mf(n,e);var t=jf(n);function n(e){var r;return Of(this,n),(r=t.call(this)).tabMode=e.tabMode,r.state=Ro.Z.agarioServerList,r.state.on("*",(function(){return r.rerender()})),r.state.on("numplayers",(function(){return r.rerender()})),f.Xd.on("hideUserForms",(function(){r.setState(r.state)})),r}return Ef(n,[{key:"rerender",value:zf},{key:"render",value:Vf}]),n}(Df);function Zf(e){function t(t){for(;;)switch(t.prev=t.next){case 0:return Ro.Z.deltaServerList.state.selectedServer=e,t.t0=s.wU,t.next=4,Tf.Z.getWs(e.adress);case 4:t.t1=t.sent,t.t0.connect.call(t.t0,t.t1);case 6:case"end":return t.stop()}}function n(){return regeneratorRuntime.wrap(t,n)}return r.yK.h("div",{class:Ro.Z.deltaServerList.state.selectedServer.adress===e.adress?"active":"",onclick:function(){var e,t=(e=regeneratorRuntime.mark(n),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Cf(i,r,o,a,s,"next",e)}function s(e){Cf(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}()},e.displayName)}function Qf(){return r.yK.h("div",{class:"d-flex flex-column flex-grow-1 list-style"+(f.Xd.proxy.hideUserForms?" hide":""),style:"font-size:80%; height: 0;"},Ro.Z.deltaServerList.list.by.cat.default.map(Zf))}var Jf=function(e){Mf(n,e);var t=jf(n);function n(e){var r;return Of(this,n),(r=t.call(this)).tabMode=e.tabMode,f.Xd.on("hideUserForms",(function(){r.setState(r.state)})),Ro.Z.deltaServerList.state.on("selectedServer",(function(){r.setState({_:Date.now()})})),r}return Ef(n,[{key:"render",value:Qf}]),n}(Df);function $f(e,t){return r.yK.h("div",{class:"tab-button d-flex flex-fill flex-grow-1 overflow-hidden w-100 "+(Ro.Z.data.tabMode===e.name_id?"active":""),onClick:function(t){return Ro.Z.data.tabMode=e.name_id}},r.yK.h("span",null,e.name))}function eh(e,t){return r.yK.h("div",{class:"tab-content grow "+(Ro.Z.data.tabMode===e.name_id?"active":"")},r.yK.h(e.tab,{tabMode:t}))}function th(){return[r.yK.h("section",{class:"tabs big size-medium d-flex flex-row align-items-stretch"},this.state.tabs.map($f)),r.yK.h("section",{class:"tabs-content w100 height-100"},this.state.tabs.map(eh))]}var nh=function(e){Mf(n,e);var t=jf(n);function n(){var e;return Of(this,n),(e=t.call(this)).state={tabs:[{name:"Agar.io",tab:Yf,name_id:"agario"},{name:"Private",tab:Jf,name_id:"delta"}]},e}return Ef(n,[{key:"render",value:th}]),n}(Df);function rh(e){return rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(e)}function oh(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function ih(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oh(i,r,o,a,s,"next",e)}function s(e){oh(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ah(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sh(e,t){return sh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sh(e,t)}function uh(e,t){if(t&&("object"===rh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ch(e)}function ch(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lh(e){return lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lh(e)}function fh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r.yK.Component,r.yK.render,r.yK.h,r.rl.useState;var hh=r.rl.useEffect,dh=r.rl.useRef;function ph(){return s.wU.click_play()}function vh(){return s.wU.click_spectate()}function yh(){var e=this;function t(){e.$server_input.current.select()}function n(){return e.share()}function o(){e.__P.style.display=s.wU.state.menuShow?"":"none"}function u(){e.$server_input.current.value=s.wU.server.userFriendlyToken}function c(){e.unlisten()}return this.$server_input=dh(null),this.$share_btn=dh(null),hh((function(){return e.$server_input.current.onclick=t,e.$share_btn.current.onclick=n,e.listenTo(s.wU.state,"menuShow",o)(),e.listenTo(s.wU.server,"userFriendlyToken",u)(),c}),[1]),r.yK.h("div",{class:"main contain tabs-container-a BG",id:"helloContainer"},r.yK.h("section",{class:"tabs mini-icon menu-navigation"},r.yK.h("div",{class:"tab-button active"},r.yK.h("icon",{class:"fas fa-home"}),r.yK.h("span",null,"Start")),r.yK.h("div",{class:"tab-button"},r.yK.h("icon",{class:"fas fa-cog"}),r.yK.h("span",null,"Settings")),r.yK.h("div",{class:"tab-button"},r.yK.h("icon",{class:"fas fa-tint"}),r.yK.h("span",null,"Theme")),r.yK.h("div",{class:"tab-button"},r.yK.h("icon",{class:"fas fa-keyboard"}),r.yK.h("span",null,"Hotkeys")),r.yK.h("div",{class:"tab-button"},r.yK.h("icon",{class:"fas fa-life-ring"}),r.yK.h("span",null,"Restore"))),r.yK.h("section",{class:"tabs-content w100 height-100"},r.yK.h("div",{class:"tab-content active"},r.yK.h("div",{class:"w100 h100 gx-0 fcols grow"},r.yK.h("div",{class:"fcols grow"},r.yK.h("div",{class:"row m-0 h100 frows"},r.yK.h("div",{style:"width: 25%;",class:"col p-0 h100 fcols"},r.yK.h("div",{class:"container"},r.yK.h(xf.g,null)),r.yK.h("div",{class:" h100 p-0"},r.yK.h(yu,null)),r.yK.h("div",{class:""},r.yK.h(mf,null))),r.yK.h("div",{style:"width: 50%;",class:"col p-0 h100 fcols"},r.yK.h("div",{class:"",style:" width: 258px;"},r.yK.h(gs,null)),r.yK.h("div",{class:"container"},r.yK.h("div",{class:"row gy-1",id:"profile-inputs"},r.yK.h(Ts,null)),r.yK.h("div",{class:"row gy-1"},r.yK.h("div",{class:"col-12 gy-1"},r.yK.h("div",{onclick:ph,class:"btn"},r.yK.h("div",{class:"btn-layer"},"Play"))),r.yK.h("div",{class:"col-12 gy-1"},r.yK.h("div",{onclick:vh,class:"btn size-small"},r.yK.h("div",{class:"btn-layer"},"Spectate"))),r.yK.h("div",{class:"col-12 gy-1",style:"text-align: center;"},r.yK.h("div",{style:"margin: auto;font-size: 74%;",class:"bmc-top"},"Are you enjoying Delta? "),r.yK.h("a",{href:"https://www.buymeacoffee.com/alex.lylko",target:"_blank"},r.yK.h("div",{style:"\n\t\t\t\t\t\t\t\t\t\t\t\tmargin: auto;\n\t\t\t\t\t\t\t\t\t\t\t\tfont-family: Pacifico;\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: rgb(0, 0, 0);\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: rgb(255, 223, 64);\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 90%;\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t\t\t\t\t\theight: 37px;\n\t\t\t\t\t\t\t\t\t\t\t\tborder-radius: 0.4em;\n\t\t\t\t\t\t\t\t\t\t\t"},r.yK.h("i",{class:"fas fa-mug-hot"}),r.yK.h("span",{style:"margin-left: 4px;"},"Buy me a coffee"))))))),r.yK.h("div",{style:"width: 25%;",class:"col p-0 h100 fcols"},r.yK.h("div",{class:"container h100 contain tabs-container-a fcols p-0"},r.yK.h(nh,null)),r.yK.h("div",{class:"container",style:"font-size: .8em;",ref:this.$share_btn},"Share to play with friends"),r.yK.h("div",{class:"container"},r.yK.h("div",{class:"row"},r.yK.h("div",{class:"col-8 p-0"},r.yK.h("div",{class:"input-box mr0 size-medium text-small"},r.yK.h("input",{class:"user-form input",ref:this.$server_input,type:"search",autocomplete:"off",placeholder:"Server address"}))),r.yK.h("div",{class:"col-4 p-0"},r.yK.h("div",{onclick:function(){return e.connect()},class:"btn mr0 size-medium  text-small"},r.yK.h("div",{class:"btn-layer"},"Connect")))))))))),r.yK.h("div",{class:"tab-content contain"},r.yK.h("form",{class:"fcols inherit",id:"p-settings"},r.yK.h(i.TB,null))),r.yK.h("div",{class:"tab-content 2active contain"},r.yK.h("form",{class:"fcols inherit",id:"test"},r.yK.h(i.sy,null))),r.yK.h("div",{class:"tab-content w100 height100",style:"overflow: hidden;"},r.yK.h("form",{class:"fcols inherit",id:"p-hotkeys"},r.yK.h(a.UA,null))),r.yK.h("div",{class:"tab-content w100 ",id:"p-exp"},r.yK.h(P,null))))}var mh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sh(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lh(r);if(o){var n=lh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return uh(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),fh(ch(e=i.call(this)),"connect",ih(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tf.Z.getWs(e.$server_input.current.value.trim());case 2:n=t.sent,s.wU.connect(n,!1);case 4:case"end":return t.stop()}}),t)})))),fh(ch(e),"share",ih(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tf.Z.getWs(e.$server_input.current.value.trim());case 2:return n=t.sent,t.prev=3,t.next=6,window.navigator.share({title:"",text:n,url:location.href+"#"+n});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})))),e}return t=a,(n=[{key:"render",value:yh}])&&ah(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(F.l);const gh=mh;function bh(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function wh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bh(i,r,o,a,s,"next",e)}function s(e){bh(i,r,o,a,s,"throw",e)}a(void 0)}))}}function _h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kh(e){var t=e.ident,n=e.url;Texture.vanillaSkinMap.set("%"+t,n+"")}function Sh(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.configLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.loadConfig();case 5:e.sent.skins.forEach(kh),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),Sh,this,[[2,10]])}function Th(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tracker.senpa.io",{cache:"no-store"});case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),Th)}function xh(e){return e.json()}function Uh(){}function Ch(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://minions.raga.pw/ragamode/config",{cache:"no-store"}).then(xh).catch(Uh);case 2:if(e=t.sent){t.next=7;break}return t.abrupt("return",Promise.reject());case 7:return this.configLoaded=!0,t.abrupt("return",{gameModes:e.gameModes,skins:e.skins,shops:e.shops});case 9:case"end":return t.stop()}}),Ch,this)}function Ih(){var e,t,n=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:"ragaffa-16x",this.loadTextures(),r.next=4,fetch("https://minions.raga.pw/ragamode/findServer",{cache:"no-store",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"gameMode="+e});case 4:return t=r.sent,r.next=7,t.text();case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),Ih,this)}var Ph=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configLoaded=!1}var t,n,r,o,i,a;return t=e,n=[{key:"loadTextures",value:(a=wh(regeneratorRuntime.mark(Sh)),function(){return a.apply(this,arguments)})},{key:"loadServers",value:(i=wh(regeneratorRuntime.mark(Th)),function(){return i.apply(this,arguments)})},{key:"loadConfig",value:(o=wh(regeneratorRuntime.mark(Ch)),function(){return o.apply(this,arguments)})},{key:"findServer",value:(r=wh(regeneratorRuntime.mark(Ih)),function(){return r.apply(this,arguments)})}],n&&_h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());window.SenpaApi=Ph;var Oh="   ▓█████▄ ▓█████  ██▓  ▄▄▄█████▓ ▄▄▄      \n    ▒██▀ ██▌▓█   ▀ ▓██▒  ▓  ██▒ ▓▒▒████▄    \n    ░██   █▌▒███   ▒██░  ▒ ▓██░ ▒░▒██  ▀█▄  \n    ░▓█▄   ▌▒▓█  ▄ ▒██░  ░ ▓██▓ ░ ░██▄▄▄▄██ \n    ░▒████▓ ░▒████▒░██████▒▒██▒ ░  ▓█   ▓██▒\n     ▒▒▓  ▒ ░░ ▒░ ░░ ▒░▓  ░▒ ░░    ▒▒   ▓▒█░\n     ░ ▒  ▒  ░ ░  ░░ ░ ▒  ░  ░      ▒   ▒▒ ░\n     ░ ░  ░    ░     ░ ░   ░        ░   ▒   \n       ░       ░  ░    ░  ░             ░  ░\n     ░                                       ".split("\n"),Rh=(""+"".toString()).match(/.{35}.+?\s+|.+$/g);if(null!=Rh)for(var Eh=Math.floor(Math.max(0,(Oh.length-Rh.length)/2)),Mh=0;Mh<Oh.length||Mh<Rh.length;Mh++)Oh[Mh]+=new Array(Math.max(0,45-Oh[Mh].length)).join(" ")+(Rh[Mh-Eh]||"");r.yK.Component;var Ah=r.yK.render;r.yK.h,r.rl.useState,r.rl.useEffect,r.rl.useRef,parseInt(o.x),i.Zr.init(),parseInt(a.N1),parseInt(U),va.start(),Ca.initApplicationEvents(),parseInt(gs),s.wU.init(),Ca.initRendererEvents(),Ah(r.yK.h(ef,null),document.getElementById("overlays-hud")),Ah(r.yK.h(gh,null),document.getElementById("overlays")),mu.T.setMassUpdateInterval(),window.Texts=mu.T,window.Settings=i.Zr},6511:(e,t,n)=>{"use strict";n.d(t,{$1:()=>A,N1:()=>re,UA:()=>Pe});var r=n(8967),o=n(2267),i=n(1148),a=n(5537),s=n(4602),u=n(2840),c=n(9879);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var _=[{id:"FwHP",t:"hk-feed",gr:1,m:"",k:"",dm:"",dk:"W",req:!0},{id:"2OcS",t:"hk-macroFeed",gr:1,m:"",k:"",dm:"",dk:"E",req:!0},{id:"Cv12",t:"hk-split",gr:1,m:"",k:"",dm:"",dk:"SPACE",req:!0},{id:"4NOV",t:"hk-doubleSplit",gr:1,m:"",k:"",dm:"",dk:"Q",req:!0},{id:"LcSa",t:"hk-popSplit",gr:1,m:"",k:"",dm:"",dk:"ALT+Q",req:!0},{id:"VnhB",t:"split64",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"qdCt",t:"hk-split16",gr:1,m:"",k:"",dm:"",dk:"SHIFT",req:!0},{id:"aNs8",t:"hk-switchPlayer",gr:1,m:"",k:"",dm:"",dk:"TAB",req:!0},{id:"6Hks",t:"hk-quickResp",gr:1,m:"",k:"",dm:"",dk:"TILDE",req:!0},{id:"RkFK",t:"hk-autoResp",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"ql1x",t:"hk-pause",gr:1,m:"",k:"",dm:"",dk:"R",req:!0},{id:"Q2pI",t:"hk-dance",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"GiHZ",t:"hk-wave",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"kPRF",t:"hk-showMiniMap",gr:1,m:"",k:"",dm:"",dk:"ALT+M",req:!0},{id:"w7t6",t:"hk-hideChat",gr:1,m:"",k:"",dm:"",dk:"H",req:!0},{id:"7RFr",t:"hk-clearChat",gr:1,m:"",k:"",dm:"",dk:"C",req:!0},{id:"cm19",t:"hk-chatMessage",gr:1,m:"",k:"",dm:"",dk:"ENTER",req:!0,ro:!0},{id:"eX8R",t:"hk-showHUD",gr:1,m:"",k:"",dm:"",dk:"ALT+H",req:!0},{id:"D7S2",t:"hk-showLb",gr:1,m:"",k:"",dm:"",dk:"ALT+L",req:!0},{id:"DkFM",t:"hk-copyLb",gr:1,m:"",k:"",dm:"",dk:"L",req:!0},{id:"YuvF",t:"hk-showTop5",gr:1,m:"",k:"",dm:"",dk:"V",req:!0},{id:"mmuF",t:"hk-customMapTexture",gr:1,m:"",k:"",dm:"",dk:"ALT+T",req:!0},{id:"Sagu",t:"hk-undefined",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"PFWJ",t:"hk-switchCamera",gr:1,m:"",k:"",dm:"",dk:"ALT+C",req:!0},{id:"dJTj",t:"hk-switchMarker",gr:1,m:"",k:"",dm:"",dk:"ALT+B",req:!0},{id:"RQPQ",t:"hk-switchMergeIndicator",gr:1,m:"",k:"",dm:"",dk:"CTRL+I",req:!0},{id:"9O3B",t:"hk-showSplitRange",gr:1,m:"",k:"",dm:"",dk:"U",req:!0},{id:"1nCk",t:"hk-showSplitInd",gr:1,m:"",k:"",dm:"",dk:"I",req:!0},{id:"O4H5",t:"hk-showTeammatesInd",gr:1,m:"",k:"",dm:"",dk:"ALT+I",req:!0},{id:"7wxf",t:"hk-showOppColors",gr:1,m:"",k:"",dm:"",dk:"O",req:!0},{id:"FBFT",t:"hk-toggleSkins",gr:1,m:"",k:"",dm:"",dk:"A",req:!0},{id:"P6TV",t:"hk-transparentSkins",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"Gdul",t:"hk-showSkins",gr:1,m:"",k:"",dm:"",dk:"S",req:!0},{id:"agV8",t:"hk-toggleCells",gr:1,m:"",k:"",dm:"",dk:"D",req:!0},{id:"OS60",t:"hk-showFood",gr:1,m:"",k:"",dm:"",dk:"X",req:!0},{id:"GKNa",t:"hk-showGrid",gr:1,m:"",k:"",dm:"",dk:"G",req:!0},{id:"DSoB",t:"hk-toggleAutoZoom",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"JUbU",t:"hk-resetZoom",gr:1,m:"",k:"",dm:"",dk:"ALT+Z",req:!0},{id:"HEzh",t:"hk-showBgSectors",gr:1,m:"",k:"",dm:"",dk:"B",req:!0},{id:"MqAJ",t:"hk-showNames",gr:1,m:"",k:"",dm:"",dk:"N",req:!0},{id:"RyP5",t:"hk-hideTeammatesNames",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"3Z12",t:"hk-showMass",gr:1,m:"",k:"",dm:"",dk:"M",req:!0},{id:"gCXM",t:"hk-zoom1",gr:1,m:"",k:"",dm:"",dk:"ALT+1",req:!0},{id:"w9Pa",t:"hk-zoom2",gr:1,m:"",k:"",dm:"",dk:"ALT+2",req:!0},{id:"fDZK",t:"hk-zoom3",gr:1,m:"",k:"",dm:"",dk:"ALT+3",req:!0},{id:"NYW3",t:"hk-zoom4",gr:1,m:"",k:"",dm:"",dk:"ALT+4",req:!0},{id:"XFNL",t:"hk-zoom5",gr:1,m:"",k:"",dm:"",dk:"ALT+5",req:!0},{id:"c0Vq",t:"hk-bots-split",gr:1,m:"",k:"",dm:"",dk:"F",req:!0},{id:"QPtn",t:"hk-bots-split-x2",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"ZyuF",t:"hk-bots-split-x3",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"FR1n",t:"hk-bots-split-x4",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"ZzgB",t:"hk-bots-split-x5",gr:1,m:"",k:"",dm:"",dk:"",req:!0},{id:"G1Gy",t:"hk-bots-macroFeed",gr:1,m:"",k:"",dm:"",dk:"T",req:!0},{id:"Jv9o",t:"hk-bots-ai",gr:1,m:"",k:"",dm:"",dk:"Z",req:!0},{id:"qw1X",t:"comm",gr:3,m:"",k:"",dm:"",dk:"1",data:(0,r.dz)("comm1"),ddata:(0,r.dz)("comm1"),dict:"comm1",req:!0},{id:"aam4",t:"comm",gr:3,m:"",k:"",dm:"",dk:"2",data:(0,r.dz)("comm2"),ddata:(0,r.dz)("comm2"),dict:"comm2",req:!0},{id:"kH7H",t:"comm",gr:3,m:"",k:"",dm:"",dk:"3",data:(0,r.dz)("comm3"),ddata:(0,r.dz)("comm3"),dict:"comm3",req:!0},{id:"1E8W",t:"comm",gr:3,m:"",k:"",dm:"",dk:"4",data:(0,r.dz)("comm4"),ddata:(0,r.dz)("comm4"),dict:"comm4",req:!0},{id:"WaAz",t:"comm",gr:3,m:"",k:"",dm:"",dk:"5",data:(0,r.dz)("comm5"),ddata:(0,r.dz)("comm5"),dict:"comm5",req:!0},{id:"uaJE",t:"comm",gr:3,m:"",k:"",dm:"",dk:"6",data:(0,r.dz)("comm6"),ddata:(0,r.dz)("comm6"),dict:"comm6",req:!0},{id:"kMhM",t:"comm",gr:3,m:"",k:"",dm:"",dk:"7",data:(0,r.dz)("comm7"),ddata:(0,r.dz)("comm7"),dict:"comm7",req:!0},{id:"H0G6",t:"comm",gr:3,m:"",k:"",dm:"",dk:"8",data:(0,r.dz)("comm8"),ddata:(0,r.dz)("comm8"),dict:"comm8",req:!0},{id:"Ayeb",t:"comm",gr:3,m:"",k:"",dm:"",dk:"9",data:(0,r.dz)("comm9"),ddata:(0,r.dz)("comm9"),dict:"comm9",req:!0},{id:"qQhB",t:"comm",gr:3,m:"",k:"",dm:"",dk:"0",data:(0,r.dz)("comm0"),ddata:(0,r.dz)("comm0"),dict:"comm0",req:!0},{id:"SrhC",t:"comm",gr:3,m:"",k:"",dm:"MIDDLE MOUSE",dk:"",data:(0,r.dz)("comm10"),ddata:(0,r.dz)("comm10"),dict:"comm10",req:!0},{id:"m6SB",t:"comm",gr:3,m:"",k:"",dm:"",dk:"LEFT",data:(0,r.dz)("comm11"),ddata:(0,r.dz)("comm11"),dict:"comm11",req:!0},{id:"zaUA",t:"comm",gr:3,m:"",k:"",dm:"",dk:"UP",data:(0,r.dz)("comm12"),ddata:(0,r.dz)("comm12"),dict:"comm12",req:!0},{id:"s0Oc",t:"comm",gr:3,m:"",k:"",dm:"",dk:"RIGHT",data:(0,r.dz)("comm13"),ddata:(0,r.dz)("comm13"),dict:"comm13",req:!0},{id:"A2RQ",t:"comm",gr:3,m:"",k:"",dm:"",dk:"DOWN",data:(0,r.dz)("comm14"),ddata:(0,r.dz)("comm14"),dict:"comm14",req:!0}];function k(e,t){var n,r=f(this.fn2hk);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.id,a=(o.t,o.dk),s=o.dm;if(o.gr,this.storage.has(i)){var u=this.storage.get(i);if(t&&"comm"==u.t)continue;if(e&&"comm"!=u.t)continue;Object.prototype.hasOwnProperty.call(u,"data")&&this.storage.set(u,"data",u.ddata),this.storage.set(u,"k",a),this.storage.set(u,"m",s)}else o.k=a,o.m=s,Object.prototype.hasOwnProperty.call(o,"data")&&(o.data=o.ddata),this.storage.add(o)}}catch(e){r.e(e)}finally{r.f()}}function S(){var e=r.tO.get("deltaHotkeys_v1");e&&this.import(e)}function T(){var e=this.export();r.tO.set("deltaHotkeys_v1",e)}function x(){r.tO.set("deltaHotkeys_v1",null)}function U(){this.loadDefaults(!0,!1),this.saveToMemory()}function C(){this.loadDefaults(!1,!0),this.saveToMemory()}function I(e,t){var n={};for(var r in A.storage.all){var o=A.storage.all[r];t&&"comm"==o.t||e&&"comm"!=o.t||(n[r]={t:o.t,m:o.m,k:o.k},Object.prototype.hasOwnProperty.call(o,"data")&&(n[r].data=o.data))}return n}function P(){return JSON.stringify(this.export(),null,"\t")}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e?JSON.parse(e):e;if(0!=Object.keys(t).length)for(var n in this.storage.all){var r=this.storage.all[n];if(t[r.id]){var o=t[r.id];Object.prototype.hasOwnProperty.call(r,"data")&&this.storage.set(r,"data",o.data),this.storage.set(r,"k",o.k),this.storage.set(r,"m",o.m)}else Object.prototype.hasOwnProperty.call(r,"data")&&this.storage.set(r,"data",r.data),this.storage.set(r,"k",r.dk),this.storage.set(r,"m",r.dm)}}function R(e,t){if(this.storage.by.k&&this.storage.by.k[t]){var n,r=f(this.storage.by.k[t]);try{for(r.s();!(n=r.n()).done;){var o=n.value;console.log("remap",o),this.storage.set(o,"k","")}}catch(e){r.e(e)}finally{r.f()}}this.storage.set(e,"k",t)}function E(e,t){if(this.storage.by.m&&this.storage.by.m[t]){var n,r=f(this.storage.by.m[t]);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.storage.set(o,"m","")}}catch(e){r.e(e)}finally{r.f()}}this.storage.set(e,"m",t)}function M(e,t){this.storage.set(e,"data",t)}var A=window.keyMaster=new(function(e){y(n,e);var t=g(n);function n(){var e;d(this,n),(e=t.call(this)).fn2hk=_;return e.storage=new r.FA("id",["t","gr","k","m"],{}),e.storage.on("change",(function(t,n){e.storage.emit(t[e.storage.indexId],t,n)})),e.loadDefaults(),e.loadFromMemory(),e}return v(n,[{key:"loadDefaults",value:k},{key:"loadFromMemory",value:S},{key:"saveToMemory",value:T},{key:"resetMemory",value:x},{key:"restoreCommands",value:U},{key:"restoreHotkeys",value:C},{key:"export",value:I},{key:"exportJSON",value:P},{key:"import",value:O},{key:"remapKeyboard",value:R},{key:"remapMouse",value:E},{key:"remapCmd",value:M}]),n}(r.aN));function j(e){r.dD.emit("mousemove",e)}function L(){o.Xd.proxy.autoResp=!o.Xd.proxy.autoResp,i.Zr.displayChatInfo(o.Xd.proxy.autoResp,"autoRespMsg")}function F(){c.wU.state.hudShow=!c.wU.state.hudShow}function D(){o.Xd.proxy.mbCenterCamera=!o.Xd.proxy.mbCenterCamera,i.Zr.saveSettings()}function K(){o.Xd.proxy.mbRings=!o.Xd.proxy.mbRings}function X(){o.Xd.proxy.mergeIndicator=!o.Xd.proxy.mergeIndicator}function B(){o.Xd.proxy.splitRange=!o.Xd.proxy.splitRange,r.d8.splitRange=o.Xd.proxy.splitRange}function N(){o.Xd.proxy.splitRange=o.Xd.proxy.oppRings=!o.Xd.proxy.splitRange}function z(){o.Xd.proxy.teammatesInd=!o.Xd.proxy.teammatesInd}function q(){o.Xd.proxy.oppColors=!o.Xd.proxy.oppColors,r.d8.oppColors=o.Xd.proxy.oppColors}function H(){o.Xd.proxy.vanillaSkins=!o.Xd.proxy.vanillaSkins}function W(){i.Zr.noSkins=!i.Zr.noSkins,r.d8.showAnySkins=!i.Zr.noSkins,i.Zr.displayChatInfo(!i.Zr.noSkins,"showSkinsMsg")}function G(){r.d8.selectBiggestCell=!r.d8.selectBiggestCell}function V(){o.Xd.proxy.showFood=!o.Xd.proxy.showFood}function Y(){o.Xd.proxy.showGrid=!o.Xd.proxy.showGrid}function Z(){r.d8.autoZoom=!r.d8.autoZoom,i.Zr.displayChatInfo(r.d8.autoZoom,"autoZoomMsg")}function Q(){o.Xd.proxy.showBgSectors=!o.Xd.proxy.showBgSectors}function J(){o.Xd.proxy.showNames=!o.Xd.proxy.showNames}function $(){o.Xd.proxy.hideTeammatesNames=!o.Xd.proxy.hideTeammatesNames}function ee(){o.Xd.proxy.showMass=!o.Xd.proxy.showMass}function te(e){if(e.constructor===MouseEvent)return this.mouseCodes[e.button+1]||"KEY"+(e.button+1)+" MOUSE";var t="",n="",r="",o="";if((e.ctrlKey||17==e.keyCode)&&(t="CTRL"),(e.altKey||18==e.keyCode)&&(n="ALT"),(r=this.keyboardCodes[e.keyCode])||(r=String.fromCharCode(e.keyCode)),"ALT"===r||"CTRL"===r)return"";var i=[];return""!==r&&(t&&i.push(t),n&&i.push(n),i.push(r),o=i.join("+")),o}function ne(){var e=this;window.addEventListener("blur",(function(){c.wU.state.focused=!1,e.waitforclick=!1,e.focused=!1})),window.addEventListener("focus",(function(){c.wU.state.focused=!0,e.waitforclick=!0}))}var re=window.Keyboard=new(function(){function e(){var t=this;d(this,e),this.focused=!0,this.waitforclick=!0,this.keyboardCodes="   CANCEL   HELP  BACK_SPACE TAB   CLEAR ENTER ENTER_SPECIAL  SHIFT CTRL ALT PAUSE CAPS_LOCK KANA EISU JUNJA FINAL HANJA  ESC CONVERT NONCONVERT ACCEPT MODECHANGE SPACE PAGE_UP PAGE_DOWN END HOME LEFT UP RIGHT DOWN SELECT PRINT EXECUTE PRINTSCREEN INSERT DEL  0 1 2 3 4 5 6 7 8 9 COLON SEMICOLON LESS_THAN = GREATER_THAN QUESTION_MARK AT A B C D E F G H I J K L M N O P Q R S T U V W X Y Z OS_KEY  CONTEXT_MENU  SLEEP NUMPAD0 NUMPAD1 NUMPAD2 NUMPAD3 NUMPAD4 NUMPAD5 NUMPAD6 NUMPAD7 NUMPAD8 NUMPAD9 MULTIPLY ADD SEPARATOR SUBTRACT DECIMAL DIVIDE F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 F16 F17 F18 F19 F20 F21 F22 F23 F24         NUM_LOCK SCROLL_LOCK WIN_OEM_FJ_JISHO WIN_OEM_FJ_MASSHOU WIN_OEM_FJ_TOUROKU WIN_OEM_FJ_LOYA WIN_OEM_FJ_ROYA          CIRCUMFLEX EXCLAMATION DOUBLE_QUOTE HASH DOLLAR PERCENT AMPERSAND UNDERSCORE OPEN_PAREN CLOSE_PAREN ASTERISK PLUS PIPE HYPHEN_MINUS OPEN_CURLY_BRACKET CLOSE_CURLY_BRACKET TILDE     VOLUME_MUTE VOLUME_DOWN VOLUME_UP   SEMICOLON = COMMA MINUS PERIOD SLASH TILDE                           OPEN_BRACKET BACK_SLASH CLOSE_BRACKET QUOTE  META ALTGR  WIN_ICO_HELP WIN_ICO_00  WIN_ICO_CLEAR   WIN_OEM_RESET WIN_OEM_JUMP WIN_OEM_PA1 WIN_OEM_PA2 WIN_OEM_PA3 WIN_OEM_WSCTRL WIN_OEM_CUSEL WIN_OEM_ATTN WIN_OEM_FINISH WIN_OEM_COPY WIN_OEM_AUTO WIN_OEM_ENLW WIN_OEM_BACKTAB ATTN CRSEL EXSEL EREOF PLAY ZOOM  PA1 WIN_OEM_CLEAR ".split(" "),this.mouseCodes={1:"LEFT MOUSE",2:"MIDDLE MOUSE",3:"RIGHT MOUSE"},this.lastPressedKey="",this.lastKeyId="",this.inputClassName=void 0,this.keyBlind={},this.pressedHotkeys={},document.addEventListener("keydown",(function(e){var n=e.target,o=t.getPressedKey(e);if("Tab"===e.code&&e.preventDefault(),!e.repeat&&("INPUT"!==n.tagName||n.className.includes(t.inputClassName)||"ENTER"===o)&&!e.metaKey&&("true"!==n.contentEditable||n.className.includes(t.inputClassName))&&(81==e.keyCode&&c.wU&&c.wU.sendFreeSpectate(),""!==o&&!t.keyBlind[o])){if(t.keyBlind[o]=!0,"ESC"===o)return e.preventDefault(),void r.dD.emit(o+":down");if(""!==o&&A.storage.by.k&&A.storage.by.k[o]){e.preventDefault();var i,a=f(A.storage.by.k[o]);try{for(a.s();!(i=a.n()).done;){var s=i.value;t.pressedHotkeys[s.t]=!0,r.dD.emit(s.t+":down",s)}}catch(e){a.e(e)}finally{a.f()}}}})),document.addEventListener("keyup",(function(e){var n=t.getPressedKey(e);if(""!==n&&A.storage.by.k&&A.storage.by.k[n]){var o,i=f(A.storage.by.k[n]);try{for(i.s();!(o=i.n()).done;){var a=o.value;t.pressedHotkeys[a.t]=!1,r.dD.emit(a.t+":up",a)}}catch(e){i.e(e)}finally{i.f()}}t.keyBlind[n]=!1})),document.addEventListener("mousedown",(function(e){var n=t.getPressedKey(e);if(1!=e.button&&3!=e.button&&4!=e.button||e.preventDefault(),t.waitforclick&&(t.focused=!0,t.waitforclick=!1),t.focused&&!c.wU.state.menuShow){if(1!=e.button&&2!=e.button||e.preventDefault(),A.storage.by.m[n]){var o,i=f(A.storage.by.m[n]);try{for(i.s();!(o=i.n()).done;){var a=o.value;t.pressedHotkeys[a.t]=!0,r.dD.emit(a.t+":down",a)}}catch(e){i.e(e)}finally{i.f()}}r.dD.emit(n+":down")}})),document.addEventListener("mouseup",(function(e){var n=t.getPressedKey(e);if(3!=e.button&&4!=e.button||e.preventDefault(),A.storage.by.m[n]){var o,i=f(A.storage.by.m[n]);try{for(i.s();!(o=i.n()).done;){var a=o.value;t.pressedHotkeys[a.t]=!1,r.dD.emit(a.t+":up",a)}}catch(e){i.e(e)}finally{i.f()}}})),document.addEventListener("mousemove",j),r.dD.on("hk-autoResp:down",L),r.dD.on("hk-showHUD:down",F),r.dD.on("hk-switchCamera:down",D),r.dD.on("hk-switchMarker:down",K),r.dD.on("hk-switchMergeIndicator:down",X),r.dD.on("hk-showSplitRange:down",B),r.dD.on("hk-showSplitInd:down",N),r.dD.on("hk-showTeammatesInd:down",z),r.dD.on("hk-showOppColors:down",q),r.dD.on("hk-toggleSkins:down",H),r.dD.on("hk-showSkins:down",W),r.dD.on("hk-toggleCells:down",G),r.dD.on("hk-showFood:down",V),r.dD.on("hk-showGrid:down",Y),r.dD.on("hk-toggleAutoZoom:down",Z),r.dD.on("hk-showBgSectors:down",Q),r.dD.on("hk-showNames:down",J),r.dD.on("hk-hideTeammatesNames:down",$),r.dD.on("hk-showMass:down",ee),this.initLostFocusEvents()}return v(e,[{key:"getPressedKey",value:te},{key:"initLostFocusEvents",value:ne}]),e}()),oe=a.yK.Component,ie=(a.yK.render,a.yK.h,a.rl.useState,a.rl.useEffect),ae=a.rl.useRef;function se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.stopPropagation(),e.preventDefault(),!1===this.focus.m)return this.$inputMouse.current.focus(),void(this.focus.m=!0);var n=re.getPressedKey(e);this.props.desc.ro||(!t||"DEL"!==n&&"BACK_SPACE"!==n||(n=""),t&&""!=n||(this.setState({m:n}),this.props.callback_m(n)))}function ue(e){this.$inputKey.current.blur(),e.stopPropagation(),e.preventDefault();var t=re.getPressedKey(e);this.props.desc.ro||"ENTER"===t||("DEL"!==t&&"BACK_SPACE"!==t||(t=""),this.setState({k:t}),this.props.callback_k(t))}function ce(e){var t=this;function n(){t.setState({m:e.desc.m,k:e.desc.k})}function o(){t.focus.m=!1}return this.$inputKey=ae(null),this.$inputMouse=ae(null),ie((function(){var r,i=n;return t.listenTo(e.target,e.desc.id,i),i(),t.$inputMouse.current.addEventListener("blur",r=o),function(){t.unlisten(),t.$inputMouse.current.removeEventListener("blur",r)}}),[e.desc.id]),de((0,r.dz)(e.desc.t),this.state,this.handleMouse.bind(this),this.handleKey.bind(this),this.$inputKey,this.$inputMouse)}var le=function(e){y(n,e);var t=g(n);function n(){var e;return d(this,n),(e=t.call(this)).state={k:"NO",m:"NO"},e.focus={k:!1,m:!1},e}return v(n,[{key:"handleMouse",value:se},{key:"handleKey",value:ue},{key:"render",value:ce}]),n}(s.l);function fe(e){e.stopPropagation(),e.preventDefault()}function he(e){e.stopPropagation(),e.preventDefault()}var de=function(e,t,n,r,o,i){return a.yK.h("div",{class:"flex-row"},a.yK.h("div",{class:"input-box-cell name rest"},e),a.yK.h("div",{class:"input-box-cell"},a.yK.h("input",{ref:i,style:"font-size: 80%;width: 80px;text-align: center;",class:"input",type:"search",autocomplete:"off",placeholder:"MOUSE",value:t.m,defaultValue:t.m,onKeydown:function(e){n(e,!0)},onMousedown:function(e){return n(e)},onContextmenu:fe})),a.yK.h("div",{class:"input-box-cell"},a.yK.h("input",{ref:o,style:"font-size: 80%;width: 80px;text-align: center;",class:"input",type:"search",autocomplete:"off",placeholder:"KEYBOARD",value:t.k,defaultValue:t.k,onKeydown:function(e){return r(e)},onContextmenu:he})))};function pe(e){console.log(e),this.setState({data:this.$inputCommand.current.value}),this.props.callback_data(this.$inputCommand.current.value)}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.stopPropagation(),e.preventDefault(),!1===this.focus.m)return this.$inputMouse.current.focus(),void(this.focus.m=!0);var n=re.getPressedKey(e);this.props.desc.ro||(!t||"DEL"!==n&&"BACK_SPACE"!==n||(n=""),t&&""!=n||(this.setState({m:n}),this.props.callback_m(n)))}function ye(e){this.$inputKey.current.blur(),e.stopPropagation(),e.preventDefault();var t=re.getPressedKey(e);this.props.desc.ro||"ENTER"===t||("DEL"!==t&&"BACK_SPACE"!==t||(t=""),this.setState({k:t}),this.props.callback_k(t))}function me(e){var t=this;function n(){t.setState({m:e.desc.m,k:e.desc.k,data:e.desc.data})}function o(){t.focus.m=!1}return this.$inputKey=ae(null),this.$inputMouse=ae(null),this.$inputCommand=ae(null),ie((function(){var r,i=n;return t.listenTo(e.target,e.desc.id,i),i(),t.$inputMouse.current.addEventListener("blur",r=o),function(){t.unlisten(),t.$inputMouse.current.removeEventListener("blur",r)}}),[e.desc.id]),_e("comm"!==e.desc.t?(0,r.dz)(e.desc.t):"comm",this.state,this.handleCommand.bind(this),this.handleMouse.bind(this),this.handleKey.bind(this),this.$inputKey,this.$inputMouse,this.$inputCommand)}var ge=function(e){y(n,e);var t=g(n);function n(){var e;return d(this,n),(e=t.call(this)).state={k:"NO",m:"NO",data:"NO"},e.focus={k:!1,m:!1},e}return v(n,[{key:"handleCommand",value:pe},{key:"handleMouse",value:ve},{key:"handleKey",value:ye},{key:"render",value:me}]),n}(s.l);function be(e){e.stopPropagation(),e.preventDefault()}function we(e){e.stopPropagation(),e.preventDefault()}var _e=function(e,t,n,r,o,i,s,u){return a.yK.h("div",{class:"flex-row"},a.yK.h("div",{class:"input-box-cell name rest"},a.yK.h("input",{ref:u,style:"font-size: 80%;width: 100%;",class:"input",type:"search",autocomplete:"off",placeholder:"Chat message template",ovalue:t.data,defaultValue:t.data,onChange:function(e){return n(e)}})),a.yK.h("div",{class:"input-box-cell"},a.yK.h("input",{ref:s,style:"font-size: 80%;width: 80px;text-align: center;",class:"input",type:"search",autocomplete:"off",placeholder:"MOUSE",value:t.m,defaultValue:t.m,onKeydown:function(e){return r(e,!0)},onMousedown:function(e){return r(e)},onContextmenu:be})),a.yK.h("div",{class:"input-box-cell"},a.yK.h("input",{ref:i,style:"font-size: 80%;width: 80px;text-align: center;",class:"input",type:"search",autocomplete:"off",placeholder:"KEYBOARD",value:t.k,defaultValue:t.k,onKeydown:function(e){return o(e)},onContextmenu:we})))};function ke(e,t){var n=e.tab_name;return a.yK.h("div",{class:"tab-button "+(0===t?"active":"")},a.yK.h("span",null,(0,r.dz)(n)))}function Se(e,t){var n=e.content;return a.yK.h("div",{class:"tab-content  "+(0===t?"active":"")+" w100"},a.yK.h("div",{class:"paddings grow w100"},n))}function Te(e){var t=e.categories;return a.yK.h("div",{class:"frows inherit contain",style:"overflow: hidden;"},a.yK.h("input",{type:"submit",style:"display: none;"}),a.yK.h("section",{class:"tabs big left vertical"},t.map(ke)),a.yK.h("section",{class:"tabs-content"},t.map(Se)))}var xe=function(e){y(n,e);var t=g(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"render",value:Te}]),n}(s.l);function Ue(){A.saveToMemory()}function Ce(){A.resetMemory(),A.loadDefaults()}function Ie(){var e=[];for(var t in A.storage.by.gr){var n,r=A.storage.by.gr[t],o={tab_name:"1"==t?"gameplayGroup":"3"==t?"commands":"category",content:[]},i=f(r);function c(){var e=n.value;switch(e.gr){case 1:o.content.push(a.yK.h(le,{desc:e,target:A.storage,callback_m:function(t){A.remapMouse(e,t)},callback_k:function(t){A.remapKeyboard(e,t)}}));break;case 3:o.content.push(a.yK.h(ge,{desc:e,target:A.storage,callback_m:function(t){A.remapMouse(e,t)},callback_k:function(t){A.remapKeyboard(e,t)},callback_data:function(t){A.remapCmd(e,t)}}))}}try{var s=c;for(i.s();!(n=i.n()).done;)s()}catch(l){i.e(l)}finally{i.f()}e.push(o)}return[a.yK.h(xe,{categories:e}),a.yK.h("div",{class:"content-bottom"},a.yK.h(u.V,{onSave:this.onSave,onRestore:this.onRestore}))]}var Pe=function(e){y(n,e);var t=g(n);function n(){return d(this,n),t.call(this)}return v(n,[{key:"onSave",value:Ue},{key:"onRestore",value:Ce},{key:"render",value:Ie}]),n}(oe)},1148:(e,t,n)=>{"use strict";n.d(t,{Zr:()=>re,TB:()=>D,sy:()=>L});var r=n(8967),o=n(2267),i=n(2504),a=n(5537),s=n(3061),u=n(4602);a.yK.Component,a.yK.render,a.yK.h,a.yK.createRef;a.rl.useState,a.rl.useEffect;function c(e,t){var n=e.name;return a.yK.h("div",{class:"tab-button "+(0===t?"active":"")},a.yK.h("span",null,(0,r.dz)(n)))}function l(e,t){var n=e.content;return a.yK.h("div",{class:"tab-content  "+(0===t?"active":"")+" w100"},a.yK.h("div",{class:"container"},n))}a.rl.useRef,u.l;var f=function(e,t){return a.yK.h("div",{class:"frows inherit contain",style:"overflow: hidden;"},a.yK.h("input",{type:"submit",style:"display: none;"}),a.yK.h("section",{class:"tabs big left vertical"},e.map(c)),a.yK.h("section",{class:"tabs-content"},e.map(l)))},h=n(2840),d=n(4857),p=n(4977);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,s,"next",e)}function s(e){y(i,r,o,a,s,"throw",e)}a(void 0)}))}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var P=a.yK.Component,O=(a.yK.render,a.yK.h,a.yK.createRef,a.rl.useState,a.rl.useEffect,a.rl.useRef,window.toastr);function R(e){var t=e.array,n=e.target;return t.map((function(e){var t=e.optName,r=e.type;return"OPT"==r?a.yK.h(s.qU,{target:n,name:t}):"SLD"==r?a.yK.h(s.t8,{target:n,name:t}):"SEL"==r?a.yK.h(s.zN,{target:n,name:t}):"INP"==r?a.yK.h(s._j,{target:n,name:t}):"COL"==r?a.yK.h(s.Am,{target:n,name:t}):"FONT"==r?a.yK.h(s.BY,{target:n,name:t}):"CUR"==r?[a.yK.h(s._j,{target:n,name:t}),a.yK.h(s.Ot,{target:n,name:t})]:void 0}))}var E=function(e){T(n,e);var t=U(n);function n(){return _(this,n),t.apply(this,arguments)}return S(n,[{key:"render",value:R}]),n}(P);function M(){re.saveTheme()}function A(){re.restoreThemeSettings()}function j(){var e={};Object.entries(o.rS.raw).map((function(t){var n,r,o=b(t,2),i=o[0],a=o[1];null!==(r=e[n=a.path])&&void 0!==r||(e[n]=[]),a.optName=i,e[a.path].push(a)}));var t=Object.entries(e).map((function(t){var n,r,i=b(t,2),s=i[0],u=i[1];return null!==(r=e[n=u.path])&&void 0!==r||(e[n]=[]),{name:s,content:a.yK.h(E,{target:o.rS,array:u})}}));return[f(t),a.yK.h("div",{class:"content-bottom"},a.yK.h(h.V,{onSave:this.onSave,onRestore:this.onRestore}))]}var L=function(e){T(n,e);var t=U(n);function n(){return _(this,n),t.apply(this,arguments)}return S(n,[{key:"onSave",value:M},{key:"onRestore",value:A},{key:"render",value:j}]),n}(P);function F(){var e={};Object.entries(o.Xd.raw).map((function(t){var n,r,o=b(t,2),i=o[0],a=o[1];null!==(r=e[n=a.path])&&void 0!==r||(e[n]=[]),a.optName=i,e[a.path].push(a)}));var t=Object.entries(e).map((function(t){var n,r,i=b(t,2),s=i[0],u=i[1];return null!==(r=e[n=u.path])&&void 0!==r||(e[n]=[]),{name:s,content:a.yK.h(E,{target:o.Xd,array:u})}}));return f(t)}var D=function(e){T(n,e);var t=U(n);function n(){return _(this,n),t.apply(this,arguments)}return S(n,[{key:"render",value:F}]),n}(P);function K(){r.tO.set("settings",o.Xd.export())}function X(){r.tO.set("ogarioThemeSettings",o.rS.export())}function B(e,t){if(!this[e]){var n=document.createElement("style");document.head.appendChild(n),this[e]=n}this[e].textContent=t}function N(){o.rS.restore(),this.saveTheme()}function z(){o.Xd.restore()}function q(){r.d8.vanillaSkins&&r.d8.customSkins?r.d8.vanillaSkins=!1:!r.d8.vannillaSkins&&r.d8.customSkins?(r.d8.vanillaSkins=!0,r.d8.customSkins=!1):(r.d8.vanillaSkins=!0,r.d8.customSkins=!0)}function H(e,t){if(null===e)return O.info(t);e?(0,r.dz)("".concat(t,"A"))?O.info((0,r.dz)("".concat(t,"A"))):O.info(t):(0,r.dz)("".concat(t,"B"))?O.error((0,r.dz)("".concat(t,"B"))):O.error(t)}function W(e,t,n,r){r&&(n+=r),0===n&&(n="none"),document.body.style.setProperty("--".concat(t),n)}function G(){o.rS.raw.customMapTexture.value&&p.x.texturesMap.set(o.rS.raw.customMapTexture.value,o.rS.raw.customMapTexture.value)}function V(){r.HX&&p.x.texturesMap.set(r.HX,r.HX),o.rS.raw.customMapLogo.value&&p.x.texturesMap.set(o.rS.raw.customMapLogo.value,o.rS.raw.customMapLogo.value)}function Y(){document.body.style.backgroundImage=o.rS.raw.customBackground.value?"url("+o.rS.raw.customBackground.value+")":"none"}function Z(){document.body.style.backgroundColor=o.rS.raw.bgColor.string}function Q(){var e=this,t=0,n=function(n){var r=n,i=o.rS.raw[r],a=t;i.useCss&&o.rS.on(r,(function(){if("SLD"==o.rS.raw[r].type&&e.setCssVariable(a,r,o.rS.raw[r].value,i.dim),"COL"==o.rS.raw[r].type){var t=o.rS.raw[r].string;i.csshook&&(t=i.csshook(t)),e.setCssVariable(a,r,t,i.dim)}}))(),t++};for(var r in o.rS.raw)n(r);o.rS.on("menuBg",(function(){e.setCssVariable(0,"menuBg",o.rS.raw.menuBg.value?"url("+o.rS.raw.menuBg.value+")":"none")}))(),o.rS.on("menuFont2",(function(){e.setCssVariable(0,"menuFontFamily",o.rS.raw.menuFont2.fontFamily),e.setCssVariable(0,"menuFontWeight",o.rS.raw.menuFont2.fontWeight),e.updCustomCSS("iconFont",'\n                .iconfont::placeholder {\n                    font-family: "Font Awesome 5 Free", '.concat(o.rS.raw.menuFont2.fontFamily,";\n                    font-weight: 900;\n                }\n            "))}))(),o.rS.on("hudFont",(function(){e.setCssVariable(0,"hudFontFamily",o.rS.raw.hudFont.fontFamily),e.setCssVariable(0,"hudFontWeight",o.rS.raw.hudFont.fontWeight)}))(),o.rS.on("customMapTexture",G)(),o.rS.on("customMapLogo",V)(),o.rS.on("customBackground",Y)(),o.rS.on("bgColor",Z)(),o.rS.on("customCursor",(function(){var t="\n            * {\n                cursor: ".concat(o.rS.raw.customCursor.value?"url(".concat(o.rS.raw.customCursor.value,"), auto !important"):"auto",";\n            }");e.updCustomCSS("cursorCSS",t)}))()}function J(){location.reload()}function ee(){r.Hh.cache=Math.random(),setTimeout(J,150)}function te(e,t){}function ne(){var e=this;o.Xd.on("hideUserForms",(function(){var t=".user-form {\n                ".concat(o.Xd.raw.hideUserForms.value?"color: transparent !important;text-shadow2: 0 0 5px var(--menuTextColor);":"","\n            }");e.updCustomCSS("userforms",t)}))(),o.Xd.import(r.tO.get("settings")),o.rS.import(r.tO.get("ogarioThemeSettings")),this.initTheme(),o.Xd.once("language",ee),o.Xd.on("*",(function(t,n){e.saveSettings()})),o.rS.on("*",te)}var re=new(function(){function e(){_(this,e),g(this,"menuMainColorCSS",null),g(this,"menuPanelColorCSS",null),g(this,"menuTextlColorCSS",null),g(this,"menuButtonsCSS",null),g(this,"hudCSS",null),g(this,"chatCSS",null),g(this,"chatScaleCSS",null),g(this,"cursorCSS",null),g(this,"customMapTextureCanvas",{}),g(this,"customMapTextureLogo",{}),g(this,"noSkins",!1),g(this,"saveSettings",(0,d.Ds)(K,100))}return S(e,[{key:"saveTheme",value:X},{key:"updCustomCSS",value:B},{key:"restoreThemeSettings",value:N},{key:"restoreSettings",value:z},{key:"toggleSkins",value:q},{key:"displayChatInfo",value:H},{key:"setCssVariable",value:W},{key:"initTheme",value:Q},{key:"init",value:ne}]),e}());function oe(e,t,n){t.includes("noPreventDefault")?this.addEventListener("touchstart",n,{passive:!1}):this.addEventListener("touchstart",n,{passive:!0})}function ie(e){for(;;)switch(e.prev=e.next){case 0:o.Xd.raw.menuSounds.value&&i.g.debounce("button-hover");case 1:case"end":return e.stop()}}function ae(){return regeneratorRuntime.wrap(ie,ae)}function se(){var e=$(this);e.css("opacity",1).animate({opacity:0},50,"linear",(function(){e.removeClass("active").dequeue()})).dequeue()}function ue(){$(this).clearQueue().stop().css("opacity",0).animate({opacity:1},50,"linear").addClass("active").dequeue()}function ce(){o.Xd.raw.menuSounds.value&&i.g.play("button-click"),$(this).addClass("active").siblings().removeClass("active").closest(".contain").find("> .tabs-content > .tab-content").clearQueue().stop().queue(se).eq($(this).index()).queue(ue)}function le(e){e.stopPropagation()}function fe(e){e.stopPropagation()}function he(){$(".tab-button").mouseenter(m(regeneratorRuntime.mark(ae))),$(".tabs").on("click touchstart",".tab-button:not(.active):not(#toggleFullScreen)",ce),$(".contain").on("mousewheel",le).on("DOMMouseScroll",fe)}function de(e){"#"==e.currentTarget.getAttribute("href")&&e.preventDefault()}function pe(e){}function ve(e){}function ye(e){document.activeElement.blur(),90!==window.orientation&&-90!==window.orientation||(null===document.fullscreenElement&&document.documentElement.requestFullscreen(),screen.orientation.lock("landscape").then(pe,ve))}function me(e){document.fullscreenElement||screen.orientation.unlock()}function ge(){jQuery.event.special.touchstart={setup:oe},i.g.load("button-hover","assets/button-hover-1.wav"),i.g.load("button-click","assets/button-click-1.wav"),i.g.load("button-change","assets/button-change-1.wav"),i.g.load("button-disabled","assets/button-disabled-1.wav"),$(he),$(document).on("click","a",de),window.addEventListener("orientationchange",ye),document.documentElement.addEventListener("fullscreenchange",me)}new(function(){function e(){_(this,e),this.initBasicEvents()}return S(e,[{key:"initBasicEvents",value:ge}]),e}())},8967:(e,t,n)=>{"use strict";n.d(t,{qc:()=>f.Z,Xy:()=>$,QE:()=>r.QE,fC:()=>P,aN:()=>r.aN,FA:()=>L,Hh:()=>D,mr:()=>ue,dz:()=>ee,yf:()=>re,fO:()=>W,dD:()=>te,V$:()=>oe,tO:()=>U,d8:()=>ne,HX:()=>ce});var r=n(5914);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=function(e){return e&&"object"===o(e)};function a(e,t,n,r,o,a){o=o||{};var s=r[e],u=i(s),c=u||null!=t||null!=n;if(c){if(i(t)){var l=n;n=t,t=l}if(n=n||{},u){var f=null!=t&&s[t]||s["*"];null!=f?s=f:"number"==typeof t&&(s=function(e,t,n){var r=Math.abs(t);return null!=e[r=n?n(r):r]?e[r]:null!=e.n?e.n:void 0}(s,t,o.pluralize))}}if("string"!=typeof s){if(!1===o.useKeyForMissingTranslation)return;s=e,o.debug&&(null!=t?(s="@@"+e+"."+t+"@@",console.warn('No translation or pluralization form found for "'+t+'" in'+e)):(s="@@"+s+"@@",console.warn('Translation for "'+e+'" not found.')))}return c?function(e,t,n,r,o){var i=r[e];if(null==i){var a=e.replace(/\{(\w+)\}/g,"{x}$1{x}").split("{x}");i=a.length>1?a:a[0],r[e]=i}return i=i.pop?function(e,t,n,r){for(var o=r.array?e.slice():e[0],i=e.length,a=1;a<i;a+=2){var s=e[a],u=t[s];null==u&&("n"===s&&null!=n?u=n:(r.debug&&console.warn('No "'+s+'" in placeholder object:',t),u="{"+s+"}")),r.array?o[a]=u:o+=u+e[a+1]}return o}(i,t,n,o):i,i}(s,n,t,a,o):s}function s(){var e=this.opts,t=e.array;e.array=!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=this.apply(null,r);return e.array=t,i}function u(e,t){e=e||{},(t=t||{}).resolveAliases&&(e=u.resolveAliases(e));var n={};function r(e,t,o){return a(e,t,o,r.keys,r.opts,n)}return r.arr=s,r.keys=e||{},r.opts=t,r}u.resolveAliases=function(e){var t={};function n(n,o){if(t[o])throw new Error('Circular reference for "'+o+'" detected');t[o]=!0;var a=o,s="",u=o.match(/^(.+)\[(.+)\]$/);u&&(a=u[1],s=u[2]);var c=e[a];if(i(c)){if(!s)throw new Error("You can't alias objects");c=c[s]}if(null==c)throw new Error('No translation for alias "'+o+'"');var l=r(c);return t[o]=!1,l}function r(e){return i(e)?function(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=t(e[r],r),n}),{})}(e,r):e.replace(/{{(.*?)}}/g,n)}return r(e)};const c=u;var l,f=n(9181);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,n)}function S(e,t,n){var r=null!=n?n:k(this,l);return localStorage.setItem(r+e,JSON.stringify(t))}function T(e,t){var n=null!=t?t:k(this,l),r={};try{r=JSON.parse(localStorage.getItem(n+e))}catch(e){console.error(e)}return r}function x(e){return localStorage.removeItem(k(this,l)+e)}var U=new(l=new WeakMap,function(){function e(){b(this,e),l.set(this,{writable:!0,value:"v6"})}return _(e,[{key:"set",value:S},{key:"get",value:T},{key:"clear",value:x}]),e}());window.storage=U,window.Eventify=r.aN;var C=function(e){var t=new r.aN;return["on","removeListener","emit","once","listenTo","unlisten","ev","events"].forEach((function(n){Object.defineProperty(e,n,{value:t[n],enumerable:!1,writable:!1})})),e};function I(e,t,n){var r=e[t],o=n;e.emit("before*",t,n),e[t]=n;try{e.emit(t,n,r),r!==o&&e.emit("change:"+String(t),n),e.emit("*",t,n,r)}catch(e){console.error(e)}return!0}function P(e){return C(e),new Proxy(e,{set:I})}function O(e,t,n){var r=e[t],o=n;if(!e.hasOwnProperty(t))throw Error('Target property "'+t+'" not found');if(this.by.hasOwnProperty(t)){if(this.by[t].hasOwnProperty(r)){var i=this.by[t][r].indexOf(e);~i&&this.by[t][r].splice(i,1)}this.by[t].hasOwnProperty(r)&&0===this.by[t][r].length&&delete this.by[t][r],this.by[t].hasOwnProperty(o)||(this.by[t][o]=[]),this.by[t][o].push(e)}e[t]=n,o!==r&&(this.emit("change",e,t),this.emit(t,e))}function R(e){var t=e[this.indexId];return this.all[t]=e,this.reindex(e),this.emit("add",e),e}function E(e){var t=this;this.indexingProps.forEach((function(n){t.set(e,n,e[n])})),this.emit("reindex",e)}function M(e){var t,n=this,r=this.get(e);this.emit("remove",r),this.indexingProps.forEach((function(e){n.by[e].hasOwnProperty(r[e])&&(~(t=n.by[e][r[e]].indexOf(r))&&n.by[e][r[e]].splice(t,1),n.by[e].hasOwnProperty(r[e])&&0==n.by[e][r[e]].length&&delete n.by[e][r[e]])})),delete this.all[e]}function A(e){return this.all[e]}function j(e){return this.all.hasOwnProperty(e)}window.eventify=C;var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=g(t);if(n){var o=g(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return m(this,e)});function o(e,t,n){var i;if(b(this,o),i=r.call(this),!Array.isArray(t))throw Error("No indexing keys specified");i.all={},i.indexId=e,i.indexingProps=t,i.by={};var a,s=p(i.indexingProps);try{for(s.s();!(a=s.n()).done;){var u=a.value;i.by[u]={}}}catch(e){s.e(e)}finally{s.f()}return i}return _(o,[{key:"set",value:O},{key:"add",value:R},{key:"reindex",value:E},{key:"rem",value:M},{key:"get",value:A},{key:"has",value:j}]),o}(r.aN);function F(){}var D=function(){var e={cache:""},t=new F;return Object.assign(e,U.get("systemMemory")),t.data=P(e),t.data.on("*",(function(e){U.set("systemMemory",t.data)})),t.data}();function K(){return this.value}function X(){return this.value}function B(){return this.fontWeight+" 25px "+this.fontFamily}function N(e,t){var n=this;return new Promise((function(r,o){var i=n.fontFamily.replace(/"/g,"");if(W.possibleFonts[i]&&W.possibleFonts[i].isSystemFont)return r();new FontFaceObserver(i.replace(/"/g,""),{weight:n.fontWeight}).load(e,t).then(r,o)}))}function z(){var e=this.fontSize+"/"+this.lineHeight;return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(this.fontFamily)}function q(e){this.setter(e)}function H(e){this.h.appendChild(this.d);var t={};return t.name=this.s.style.fontFamily=e,t.width=this.s.offsetWidth,t.height=this.s.offsetHeight,this.h.removeChild(this.d),e=e.toLowerCase(),t.found="serif"==e||t.width!=this.defaultWidth||t.height!=this.defaultHeight,t}window.SystemMemory=D;var W=new(function(){function e(){b(this,e);var t=this.$el=document.createElement("span");function n(e){t.setAttribute("style","font: "+e),this.fontStyle=t.style.fontStyle,this.fontVariant=t.style.fontVariant,this.fontWeight=t.style.fontWeight,this.fontSize=t.style.fontSize,this.lineHeight=t.style.lineHeight,this.fontFamily=t.style.fontFamily}this.fontInstance=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal normal 500 25px Ubuntu";b(this,e),this.fontStyle="normal",this.fontVariant="normal",this.fontWeight="500",this.fontSize="25px",this.lineHeight="normal",this.fontFamily="Ubuntu",this.value=t,this.def=this.value}return _(e,[{key:"setter",value:n},{key:"toJSON",value:K},{key:"toString",value:X},{key:"toSelectboxFormat",value:B},{key:"load",value:N},{key:"value",get:z,set:q}]),e}(),this.possibleFonts={Ubuntu:{fontWeights:{700:"bold",500:""}},Roboto:{fontWeights:{700:"bold",500:""}},Oswald:{fontWeights:{700:"bold",500:""}},"Titillium Web":{fontWeights:{400:""}},"Exo 2":{fontWeights:{400:"",600:"semi-bold"}},Play:{fontWeights:{400:"",700:"bold"}},"Press Start 2P":{fontWeights:{500:""}},Pacifico:{fontWeights:{500:""}},"VCR OSD Mono":{fontWeights:{500:""}}},this.h=document.getElementsByTagName("BODY")[0],this.d=document.createElement("DIV"),this.s=document.createElement("SPAN"),this.d.appendChild(this.s),this.d.style.fontFamily="sans",this.s.style.fontFamily="sans",this.s.style.fontSize="72px",this.s.innerHTML="mmmmmmmmmmlil",this.h.appendChild(this.d),this.defaultWidth=this.s.offsetWidth,this.defaultHeight=this.s.offsetHeight,this.h.removeChild(this.d)}return _(e,[{key:"test",value:H}]),e}());function G(e){return Math.abs(e)}function V(e){return e.indexOf("ar_")>-1?"ar_EG":e}function Y(){}function Z(e){var t="lang_"+e,n=U.get(t,"");if(n)return"load"!=(n.version+216e5>Date.now()?"cache":"load")&&n.version||this.getLanguageStringsAsync(e).then((function(e){e.version=Date.now(),U.set(t,e,"")})),n;var r=this.getLanguageStringsSync(e);return r.version=Date.now(),U.set(t,r,""),r}function Q(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET","https://delta-agar-locales.gitlab.io/lang/".concat(e,".json?nocache").concat(D.cache),!0),r.onerror=function(){t({})},r.send(),r.onload=function(){if(200===r.status){var e=JSON.parse(r.responseText);t(e)}}}))}function J(e){var t=new XMLHttpRequest;if(t.open("GET","https://delta-agar-locales.gitlab.io/lang/".concat(e,".json?nocache").concat(D.cache),!1),t.onerror=function(){return console.error('Language "'.concat(e,'" is missed on the server!'))},t.send(),200===t.status){var n=JSON.parse(t.responseText);return U.set("lang_"+e,n,""),n}return{}}var $=new(function(){function e(){var t=this;b(this,e),d(this,"unused_keys",new Set),d(this,"mismatched_keys",new Set);var n={debug:!1,array:!1,resolveAliases:!1,pluralize:G,useKeyForMissingTranslation:!0},r={English:"en",Azərbaycanca:"az_AZ",Español:"es_ES",Русский:"ru_RU",Українська:"uk_UA",Polska:"pl_PL",Português:"pt_BR",Swedish:"sv_SE",Srpski:"sr_CS",Deutsch:"de_DE",Türkçe:"tr_TR",اَلْعَرَبِيَّةُ:"ar_EG","中文(台灣)":"zh_TW","中文(中國)":"zh_CN",日本語:"ja_JP",한국어:"ko_KR"};this.possibleLanguages=r,this.i18n_userlang=new c({},n),this.i18n_english=new c({},n),this.sourceLang="en",this.browserLang="en";var o,i,a=Object.values(r),s=[String(window.navigator.language||(null===(o=window.navigator)||void 0===o?void 0:o.userLanguage)).replace("-","_")];window.navigator.languages&&navigator.languages.forEach((function(e){return s.push(e.replace("-","_"))}));e:for(var u=0,l=s;u<l.length;u++){var f,h=l[u],v=p(a);try{for(v.s();!(f=v.n()).done;){var y=f.value;if(h==y){i=y;break e}if(h.substring(0,2)==y.substring(0,2)){i=y;break e}}}catch(e){v.e(e)}finally{v.f()}}i&&(this.browserLang=i),this.userLang=(U.get("settings")||{}).language||this.browserLang,this.strings={},this.strings.uk_UA=this.strings.ru_RU=this.strings.ru,Object.assign(this.i18n_userlang.keys,this.getLanguageFromCacheOrLoadSync(this.sourceLang)),Object.assign(this.i18n_english.keys,this.getLanguageFromCacheOrLoadSync(this.sourceLang)),this.userLang!==this.sourceLang&&Object.assign(this.i18n_userlang.keys,this.getLanguageFromCacheOrLoadSync(this.getOverrides(this.userLang))),this.dict=this.i18n_userlang,Object.keys(this.i18n_userlang.keys).forEach((function(e){return t.unused_keys.add(e)}))}return _(e,[{key:"getOverrides",value:V},{key:"getPossibleLanguages",value:Y},{key:"getLanguageFromCacheOrLoadSync",value:Z},{key:"getLanguageStringsAsync",value:Q},{key:"getLanguageStringsSync",value:J}]),e}());window.Dictionary=$;for(var ee=function(e){return e&&!$.i18n_userlang.keys[e]&&$.mismatched_keys.add(e),$.unused_keys.has(e)&&$.unused_keys.delete(e),$.dict(e)},te=window.hotkeys=P({}),ne={selectBiggestCell:!0,showAnySkins:!0,pause:!1},re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oe=[{name:"imgur.com",url:"https://imgur.com/",example:"https://i.imgur.com/xdmUp5N.png",regexp:/^https?:\/\/\w+\.imgur\.com\/\w{6,}\.(?:jpg|jpeg|png|gif)\??\d*/i,pattern:""},{name:"put.re",url:"https://put.re/",example:"https://s.put.re/iYHAW65g.png",regexp:/^https?:\/\/\w+\.put\.re\/\w{8,}\.(?:jpg|jpeg|png|gif)/i,pattern:""},{name:"hizliresim.com",url:"https://hizliresim.com/",example:"https://i.hizliresim.com/JjhDBo.jpg",regexp:/^https?:\/\/\w+\.hizliresim\.com\/\w{6,}\.(?:jpg|jpeg|png|gif)/i,pattern:""},{name:"imgbb.com",url:"https://imgbb.com/",example:"https://i.ibb.co/34qyQqs/filename.jpg",regexp:/^https?:\/\/\w+\.ibb\.co\/\w{6,}\/\w+\.(?:jpg|jpeg|png|gif)/i,pattern:""},{name:"postimages.org",url:"https://postimages.org/",example:"https://i.postimg.cc/zzK0sRPg/xdmUp5N.png",regexp:/^https?:\/\/\w+\.postimg\.cc\/\w{8,}\/\w+\.(?:jpg|jpeg|png|gif)/i,pattern:""}],ie=0,ae=oe;ie<ae.length;ie++){var se=ae[ie];se.pattern=se.regexp.source}function ue(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=p(oe);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=t.match(r.regexp);if(o)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}var ce="",le=new Date;2!=le.getMonth()&&6!=le.getMonth()||(ce="https://i.imgur.com/9Po3bwE.png")},2267:(e,t,n)=>{"use strict";n.d(t,{Xd:()=>be,rS:()=>we});var r=n(8967),o=n(115);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},a.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function e(t){m(this,e),g(this,"exportable",!0),g(this,"path",""),g(this,"name",""),this.path=t.path||"DEFAULT"};function w(){return this.export}function _(e){var t=0;if("string"==typeof e){var n=window.tinycolor(e),r=n._r,o=n._g,i=n._b,a=n._a;t=this.microcolor.fromRGB(r,o,i,Math.round(255*a)).getInta()}else t=e;this.microcolor.fromINT(t),this.value=t,this.string=this.alpha?this.microcolor.fromINT(t).toRgb(this.alpha):this.microcolor.fromINT(t).getHEX()}function k(){return"#"+window.tinycolor({r:this.microcolor.r,g:this.microcolor.g,b:this.microcolor.b,a:this.microcolor.a/255}).toHex8()}var S=function(e){f(n,e);var t=d(n);function n(e){var r,i=e.value,a=void 0===i?"#FF00FFFF":i,s=e.useAlpha,u=void 0!==s&&s,c=e.useCss,l=void 0!==c&&c,f=e.path;return m(this,n),(r=t.call(this,{path:f})).microcolor=new o.Z,r.type="COL",r.value=0,r.string="#FFFFFF",r.alpha=u,r.default=a,r.useCss=l,r.setter(a),r}return l(n,[{key:"toJSON",value:w},{key:"setter",value:_},{key:"export",get:k}]),n}(b);function T(){return this.export}function x(e){for(var t=!0,n=0,r=Object.entries(this.options);n<r.length;n++){var o=(i=r[n],a=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(i,a)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());o[0],o[1]===e&&(t=!1)}var i,a;if(t)return console.error("Select: Invalid value ",e,", fallback to default",this,this.default),void(this.value=this.default);this.value=e}function U(){return this.value}var C=function(e){f(n,e);var t=d(n);function n(e){var r,o=e.options,i=void 0===o?{}:o,a=e.value,s=void 0===a?null:a,u=e.path,c=void 0===u?"":u;return m(this,n),(r=t.call(this,{path:c})).type="SEL",r.options=i,r.value=null,r.default=s,r.setter(s),r}return l(n,[{key:"toJSON",value:T},{key:"setter",value:x},{key:"export",get:U}]),n}(b);function I(){return this.export}function P(e){"number"==typeof e&&void 0!==e||(e=this.default),this.value=e}function O(){return this.value}var R=function(e){f(n,e);var t=d(n);function n(e){var r,o=e.min,i=e.max,a=e.step,s=e.value,u=e.useCss,c=void 0!==u&&u,l=e.dim,f=void 0===l?"":l,h=e.unit,d=void 0===h?"":h,p=e.path;return m(this,n),(r=t.call(this,{path:p})).type="SLD",r.min=o,r.max=i,r.step=a,r.value=0,r.default=s,r.useCss=c,r.dim=f,r.unit=d,r.setter(s),r}return l(n,[{key:"toJSON",value:I},{key:"setter",value:P},{key:"export",get:O}]),n}(b);function E(){return this.export}function M(e){this.value=e}function A(){return this.value}var j=function(e){f(n,e);var t=d(n);function n(e){var r,o=e.value,i=e.path;return m(this,n),(r=t.call(this,{path:i})).type="OPT",r.value=!1,r.default=o,r.setter(o),r}return l(n,[{key:"toJSON",value:E},{key:"setter",value:M},{key:"export",get:A}]),n}(b);function L(){return this.export}function F(e){"string"==typeof e&&void 0!==e||(e=this.default),this.value=String(e)}function D(){return this.csshook?this.csshook(this.value):this.value}function K(){return this.value}var X=function(e){f(n,e);var t=d(n);function n(e){var r,o=e.value,i=e.csshook,a=void 0===i?null:i,s=e.path,u=e.useCss,c=void 0!==u&&u,l=e.options,f=void 0===l?{}:l;return m(this,n),(r=t.call(this,{path:s})).type="INP",r.value="",r.default=o,r.csshook=a,r.useCss=c,r.options=f,r.setter(o),r}return l(n,[{key:"toJSON",value:L},{key:"setter",value:F},{key:"cssValue",value:D},{key:"export",get:K}]),n}(b);function B(){return this.export}function N(){return this.fontWeight+" 25px "+this.fontFamily}function z(e,t){var n=this;return new Promise((function(o,i){var a=n.fontFamily.replace(/"/g,"");if(r.fO.possibleFonts[a]&&r.fO.possibleFonts[a].isSystemFont)return o();new FontFaceObserver(a.replace(/"/g,""),{weight:n.fontWeight}).load(e,t).then(o,i)}))}function q(){var e=this.fontSize+"/"+this.lineHeight;return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(this.fontFamily)}function H(e){this.setter(e)}function W(){return this.value}var G,V=function(e){f(n,e);var t=d(n);function n(e){var r,o=e.value,i=void 0===o?"normal normal 500 25px Ubuntu":o,a=e.path,s=void 0===a?"":a;return m(this,n),(r=t.call(this,{path:s})).type="FONT",r.fontStyle="normal",r.fontVariant="normal",r.fontWeight="500",r.fontSize="25px",r.lineHeight="normal",r.fontFamily="Ubuntu",r.default=r.value,r.setter(i),r}return l(n,[{key:"setter",value:function(e){void 0===e&&(e=this.default),"string"==typeof e&&" "==e[0]&&(e=this.default),n.el.style.font=e,this.fontStyle=n.el.style.fontStyle,this.fontVariant=n.el.style.fontVariant,this.fontWeight=n.el.style.fontWeight,this.fontSize=n.el.style.fontSize,this.lineHeight=n.el.style.lineHeight,this.fontFamily=n.el.style.fontFamily}},{key:"toJSON",value:B},{key:"toSelectboxFormat",value:N},{key:"load",value:z},{key:"value",get:q,set:H},{key:"export",get:W}]),n}(b);g(V,"el",(G=document.createElement("span"),document.body.appendChild(G),G.style.zIndex="-9999",G.style.position="absolute",G.style.top="-100px",G));var Y=function(e){f(n,e);var t=d(n);function n(e){e.value;var r,o=e.cursors,i=void 0===o?[]:o;return e.path,m(this,n),(r=t.call(this,arguments[0])).type="CUR",r.cursors=i,r}return n}(X),Z="mainTheme",Q="menuTheme",J="hudTheme",$="chatTheme",ee="minimapTheme",te={bgColor:new S({path:Z,value:"#000a11FF"}),bordersColor:new S({path:Z,value:"#01d9ccFF",useAlpha:!0}),gridColor:new S({path:Z,value:"#00243eFF"}),sectorsColor:new S({path:Z,value:"#00243eFF",useAlpha:!0}),strokeScale:new R({path:Z,value:1,min:1,max:2,step:.05,unit:"x"}),namesColor:new S({path:Z,value:"#ffffffFF",useAlpha:!0}),namesStrokeColor:new S({path:Z,value:"#000000FF",useAlpha:!0}),massColor:new S({path:Z,value:"#ffffffFF",useAlpha:!0}),massStrokeColor:new S({path:Z,value:"#000000FF",useAlpha:!0}),virusColor:new S({path:Z,value:"#002f5288",useAlpha:!0}),virusRangeColor:new S({path:Z,value:"#666666FF"}),virusStrokeColor:new S({path:Z,value:"#00b9e8FF"}),mothercellColor:new S({path:Z,value:"#002f5288",useAlpha:!0}),mothercellStrokeColor:new S({path:Z,value:"#00b9e8FF",useAlpha:!0}),mboxActiveCellStroke:new S({path:Z,value:"#ff00aaFF",useAlpha:!0}),mboxUnactiveCellStroke:new S({path:Z,value:"#FFFFFFFF",useAlpha:!0}),mergeIndicatorColor:new S({path:Z,value:"#00ff29FF"}),foodColor:new S({path:Z,value:"#5000ffFF"}),foodSize:new R({path:Z,value:5,min:1,max:10,step:1,unit:"px"}),foodGlowSize:new R({path:Z,value:0,min:0,max:1,step:.05,unit:"x"}),teammatesIndColor:new S({path:Z,value:"#ffffffFF"}),cursorTrackingColor:new S({path:Z,value:"#FFFFFFBF",useAlpha:!0}),splitRangeColor:new S({path:Z,value:"#ffffffFF"}),safeAreaColor:new S({path:Z,value:"#ffffffFF"}),dangerAreaColor:new S({path:Z,value:"#bf00aaFF"}),ghostCellsColor:new S({path:Z,value:"#ffffff7С",useAlpha:!0}),bHSTEColor:new S({path:Z,value:"#4000ffFF"}),sHSTEColor:new S({path:Z,value:"#0040ffFF"}),bDSTEColor:new S({path:Z,value:"#8000ffFF"}),sDSTEColor:new S({path:Z,value:"#005a63FF"}),bSTEColor:new S({path:Z,value:"#FF00FFFF"}),sSTEColor:new S({path:Z,value:"#80ff00FF"}),bColor:new S({path:Z,value:"#FF0000FF"}),eColor:new S({path:Z,value:"#FFFF00FF"}),sColor:new S({path:Z,value:"#00ffffFF"}),nickfont:new V({path:Z,value:"normal normal 500 2500px/normal Ubuntu"}),massfont:new V({path:Z,value:"normal normal 500 2500px/normal Ubuntu"}),namesScale:new R({path:Z,value:1,min:.5,max:2,step:.1,unit:"x"}),massScale:new R({path:Z,value:2,min:1,max:5,step:.2,unit:"x"}),virMassScale:new R({path:Z,value:3,min:1,max:5,step:.2,unit:"x"}),sectorsfont:new V({path:Z,value:"normal normal 500 2500px/normal Ubuntu"}),sectorsfontSize:new R({path:Z,value:1200,min:20,max:2e3,step:10}),sectorsWidth:new R({path:Z,value:40,min:2,max:200,step:2}),bordersWidth:new R({path:Z,value:20,min:2,max:200,step:2}),darkTheme:new j({path:Z,value:!0}),mbRingWidth:new R({path:Z,value:20,min:2,max:100,step:2,unit:"x"}),cursorTrackingSize:new R({path:Z,value:6,min:4,max:20,step:1,unit:"px"}),virusStrokeSize:new R({path:Z,value:14,min:2,max:40,step:1,unit:"px"}),cellBrightness:new R({path:Z,value:0,min:-100,max:100,step:2}),cellSaturation:new R({path:Z,value:0,min:-100,max:100,step:2}),cellsAlpha:new R({path:Z,value:1,min:.3,max:1,step:.01,unit:"x"}),skinsAlpha:new R({path:Z,value:1,min:.3,max:1,step:.01,unit:"x"}),customMapTexture:new X({path:Z,value:""}),customMapLogo:new X({path:Z,value:"https://i.imgur.com/7cugADY.png"}),customBackground:new X({path:Z,value:""}),menuOpacity:new R({path:Q,value:.96,min:.7,max:1,step:.01,useCss:!0,unit:"x"}),menuBlur:new R({path:Q,value:0,min:0,max:8,step:.01,useCss:!0,dim:"px",unit:"x"}),menuMainColor:new S({path:Q,value:"#01d9ccFF",useCss:!0}),menuBtnTextColor:new S({path:Q,value:"#ffffffFF",useCss:!0}),menuPanelColor:new S({path:Q,value:"#00243eFF",useAlpha:!0,useCss:!0}),menuTextColor:new S({path:Q,value:"#ffffffFF",useAlpha:!0,useCss:!0}),menuPanelColor2:new S({path:Q,value:"#1515154f",useAlpha:!0,useCss:!0}),tabsColor:new S({path:Q,value:"#FFFFFFFF",useAlpha:!0,useCss:!0}),menuPanelColor2active:new S({path:Q,value:"#002f52FF",useAlpha:!0,useCss:!0}),menuTextColor2:new S({path:Q,value:"#8096a7FF",useAlpha:!0,useCss:!0}),inputBg:new S({path:Q,value:"#15151547",useAlpha:!0,useCss:!0}),btnPrimaryColor:new S({path:Q,value:"#2d3f58FF",useAlpha:!0,useCss:!0}),btnPrimaryColorHover:new S({path:Q,value:"#FFFFFF99",useAlpha:!0,useCss:!0}),menuFont2:new V({path:Q,value:"normal normal 500 2500px/normal Roboto"}),menuBg:new X({path:Q,value:"",csshook:function(e){return"url('".concat(e.indexOf("http")>-1?e:document.baseURI+e,"')")},useCss:!0}),hudBlur:new R({path:J,value:0,min:0,max:8,step:.01,useCss:!0,dim:"px",unit:"x"}),hudMainColor:new S({path:J,value:"#00D1C5FF",useCss:!0}),hudColor:new S({path:J,value:"#00000066",useAlpha:!0}),hudTextColor:new S({path:J,value:"#ffffffFF",useCss:!0}),statsHudColor:new S({path:J,value:"#ffffffFF",useCss:!0}),timeHudColor:new S({path:J,value:"#01d9ccFF",useCss:!0}),top5MassColor:new S({path:J,value:"#0F7BA3FF",useCss:!0}),lbMeColor:new S({path:J,value:"#bf00aaFF",useCss:!0}),lbFriendColor:new S({path:J,value:"#018cf6FF",useCss:!0}),hudFont:new V({path:J,value:"normal normal 500 2500px/normal Ubuntu"}),hudScale:new R({path:J,value:1,min:.5,max:2,step:.01}),hudTransparency:new R({path:J,value:1,min:.3,max:1,step:.01,useCss:!0}),messageColor:new S({path:$,value:"#bf00aa99",useAlpha:!0,useCss:!0}),messageTextColor:new S({path:$,value:"#ffffffFF",useCss:!0}),messageTimeColor:new S({path:$,value:"#018cf6FF",useCss:!0}),messageNickColor:new S({path:$,value:"#01d9ccFF",useCss:!0}),commandsColor:new S({path:$,value:"#bf00aae6",useAlpha:!0,useCss:!0}),commandsTextColor:new S({path:$,value:"#ffffffFF",useCss:!0}),commandsTimeColor:new S({path:$,value:"#bf00aaFF",useCss:!0}),commandsNickColor:new S({path:$,value:"#ffffffFF",useCss:!0}),chatBoxColor:new S({path:$,value:"#00000066",useAlpha:!0,useCss:!0}),chatScale:new R({path:$,value:1,min:.6,max:2,step:.01}),chatTextScale:new R({path:$,value:1,min:.6,max:2,step:.01}),miniMapSectorsColor:new S({path:ee,value:"#ffffff88",useAlpha:!0}),miniMapNickColor:new S({path:ee,value:"#ffffffFF",useAlpha:!0}),miniMapNickStrokeColor:new S({path:ee,value:"#000000FF",useAlpha:!0}),miniMapMyCellColor:new S({path:ee,value:"#ffffffFF",useAlpha:!0}),miniMapMyCellStrokeColor:new S({path:ee,value:"#0076BFFF",useAlpha:!0}),miniMapTeammatesColor:new S({path:ee,value:"#01d9ccFF"}),miniMapViewportColor:new S({path:ee,value:"#AEAEAE15",useAlpha:!0}),miniMapGuidesColor:new S({path:ee,value:"#bf00aaFF",useAlpha:!0}),miniMapGhostCellsColor:new S({path:ee,value:"#ffffff67",useAlpha:!0}),miniMapFont:new V({path:ee,value:"normal normal 500 2500px/normal Ubuntu"}),miniMapNickfont:new V({path:ee,value:"normal normal 500 2500px/normal Ubuntu"}),miniMapNickSize:new R({path:ee,value:11,min:3,max:16,step:1,unit:"px"}),miniMapNickStrokeSize:new R({path:ee,value:2,min:0,max:6,step:1,unit:"px"}),miniMapCanvasScale:new R({path:ee,value:1,min:.5,max:2,step:.25,dim:"x"}),miniMapScale:new R({path:ee,value:1,min:.2,max:2,step:.02,dim:"x"}),miniMapMyCellSize:new R({path:ee,value:5,min:4,max:10,step:.5,unit:"px"}),miniMapMyCellStrokeSize:new R({path:ee,value:2,min:0,max:10,step:1,unit:"px"}),miniMapTeammatesSize:new R({path:ee,value:5.5,min:4,max:10,step:.5,unit:"px"}),sectorsX:new R({path:ee,value:5,min:1,max:30,step:1}),sectorsY:new R({path:ee,value:5,min:1,max:30,step:1}),customCursor:new Y({path:"cursorTheme",value:"assets/cursors/cursor_01.cur",cursors:[]})},ne="gameplayGroup",re="graphicsGroup",oe="helpersGroup",ie="cellsGroup",ae="objectsGroup",se="mapGroup",ue="miniMapGroup",ce="lbGroup",le="chatGroup",fe="statsGroup",he="soundsGroup",de="extrasGroup",pe={language:new C({path:ne,value:r.Xy.browserLang,options:r.Xy.possibleLanguages}),animation:new R({path:ne,value:140,min:26,max:300,step:1,unit:"ms"}),cameraDelay:new R({path:ne,value:0,min:0,max:15,step:1,unit:"x"}),centerWeightCamera:new j({path:ne,value:!0}),autoZoom:new j({path:ne,value:!1}),zoomSpeedValue:new R({path:ne,value:.9,min:.75,max:.99,step:.01,unit:"x"}),zoomSmoothness:new R({path:ne,value:12,min:5,max:30,step:1,unit:"x"}),autoResp:new j({path:ne,value:!1}),macroFeeding:new R({path:ne,value:80,min:10,max:160,step:10,unit:"ms"}),textScaleMode:new C({path:ne,value:1,options:{Linear:1,OFF:0}}),mbRings:new j({path:ne,value:!0}),mbCenterCamera:new j({path:ne,value:!0}),mbSkipCameraScroll:new j({path:ne,value:!1}),mbInactiveKeepMoving:new j({path:ne,value:!1}),mbMultiSplitRange:new j({path:ne,value:!1}),renderer:new C({path:re,value:0,options:{"Canvas (CPU)":0,"WebGL (GPU)":1}}),antialiasing:new C({path:re,value:1,options:{Disabled:0,Low:1,Medium:2,High:3,Highest:4}}),canvasScale:new R({path:re,value:1,min:.5,max:2,step:.25,unit:"x"}),jellyPhysics:new j({path:re,value:!1}),debug:new j({path:re,value:!1}),oppColors:new j({path:oe,value:!1}),oppRings:new j({path:oe,value:!1}),virColors:new j({path:oe,value:!1}),splitRange:new j({path:oe,value:!1}),doubleSplitRange:new j({path:oe,value:!1}),split64Range:new j({path:oe,value:!1}),virusesRange:new j({path:oe,value:!0}),cursorTracking:new j({path:oe,value:!1}),mbMultiCursorTracking:new j({path:oe,value:!1}),teammatesInd:new j({path:oe,value:!1}),mergeIndicator:new j({path:oe,value:!1}),showGhostCells:new j({path:oe,value:!1}),ghostCellsNames:new j({path:oe,value:!1}),spawnWaveEffect:new j({path:oe,value:!0}),vanillaSkins:new j({path:ie,value:!0}),customSkins:new j({path:ie,value:!0}),customGifSkins:new j({path:ie,value:!0}),cellStroke:new j({path:ie,value:!1}),cellStrokePlayer:new j({path:ie,value:!1}),myTransparentSkin:new j({path:ie,value:!1}),showNames:new j({path:ie,value:!0}),namesStroke2:new C({path:ie,value:1,options:{ON:1,OFF:0,BOX:2}}),hideMyName:new j({path:ie,value:!1}),hideTeammatesNames:new j({path:ie,value:!1}),autoHideNames:new j({path:ie,value:!0}),showMass:new j({path:ie,value:!0}),massStroke2:new C({path:ie,value:1,options:{ON:1,OFF:0,BOX:2}}),shortMass:new j({path:ie,value:!0}),hideMyMass:new j({path:ie,value:!1}),hideEnemiesMass:new j({path:ie,value:!1}),autoHideMass:new j({path:ie,value:!0}),massUpdateInterval:new R({path:ie,value:500,min:5,max:700,step:5,unit:"ms"}),showFood:new j({path:ae,value:!0}),rainbowFood:new j({path:ae,value:!1}),autoHideFood:new j({path:ae,value:!1}),autoHideFoodOnZoom:new j({path:ae,value:!1}),virMassType:new C({path:ae,value:3,options:{SHORT:2,OFF:0,FULL:1,SIMPLE:3}}),spikedViruses:new j({path:ae,value:!1}),showGrid:new j({path:se,value:!1}),showBgSectors:new j({path:se,value:!1}),customBgSectorsSymbol:new X({path:se,value:"",options:{Default:"","❄":"❄","☆":"☆"}}),showMapBorders:new j({path:se,value:!0}),showMiniMap:new j({path:ue,value:!0}),showMiniMapSectors:new j({path:ue,value:!0}),showMiniMapGrid:new j({path:ue,value:!1}),showMiniMapGhostCells:new j({path:ue,value:!0}),showMiniMapGuides:new j({path:ue,value:!0}),showExtraMiniMapGuides:new j({path:ue,value:!1}),oneColoredTeammates:new j({path:ue,value:!1}),showTime:new j({path:ue,value:!0}),timeHudTemplate:new X({path:ue,value:"%d.%m.%Y, %H:%i:%s",options:{Clock:"%H:%i:%s",Korean:"%Y-%m-%d(%D)　%h:%i:%s %A"}}),showTop5:new j({path:ce,value:!0}),teamboardLength:new R({path:ce,value:10,min:5,max:30,step:1,unit:""}),showLbSectors:new j({path:ce,value:!1}),showLbData:new j({path:ce,value:!0}),showLbTotal:new j({path:ce,value:!0}),showLbBots:new j({path:ce,value:!0}),leaderboardLength:new R({path:ce,value:10,min:5,max:30,step:1,unit:""}),lbRightAlign:new j({path:ce,value:!0}),normalLb:new j({path:ce,value:!1}),disableChat:new j({path:le,value:!1}),chatEmoticons:new j({path:le,value:!0}),showChatImages:new j({path:le,value:!0}),showChatVideos:new j({path:le,value:!0}),showChatBox:new j({path:le,value:!0}),showMessageSenderId:new j({path:le,value:!1}),showStats:new j({path:fe,value:!0}),statsAtCenter:new j({path:fe,value:!1}),showStatsMass:new j({path:fe,value:!0}),showStatsSTE:new j({path:fe,value:!1}),showStatsN16:new j({path:fe,value:!1}),showStatsFPS:new j({path:fe,value:!0}),showStatsPING:new j({path:fe,value:!0}),showStatsPPS:new j({path:fe,value:!0}),menuSounds:new j({path:he,value:!0}),chatSounds:new j({path:he,value:!0}),messageSound_:new X({path:he,value:"assets/notification_01.mp3"}),commandSound_:new X({path:he,value:"assets/notification_02.mp3"}),virusEatSound:new j({path:he,value:!1}),virusFeedSound:new j({path:he,value:!1}),virusPopSound:new j({path:he,value:!1}),x16Sound:new j({path:he,value:!0}),non16Sound:new j({path:he,value:!0}),hideUserForms:new j({path:de,value:!1}),autoCollectCoins:new j({path:de,value:!0}),autoBrewingPotions:new j({path:de,value:!0}),autoNotice:new j({path:de,value:!0}),showMultiProfile:new j({path:de,value:!1})};function ve(e){if(e)for(var t in this.raw)this.raw.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(this.proxy[t]=e[t])}function ye(){var e={};for(var t in this.raw)e[t]=this.raw[t].export;return e}function me(){for(var e in this.raw)this.raw.hasOwnProperty(e)&&(this.proxy[e]=this.raw[e].default)}var ge=function(e){f(n,e);var t=d(n);function n(e){var r;m(this,n);var o=v(r=t.call(this));for(var i in r.raw={},e)r.raw[i]=e[i];return r.proxy=new Proxy(r.raw,{set:function(e,t,n){var r=e[t].value;o.emit("before*",t,n),e[t].setter(n);try{n!==r&&o.emit(t,n,r),n!==r&&o.emit("*",t,n,r)}catch(e){console.error(e)}return!0},get:function(e,t){return o.raw[t].value}}),r}return l(n,[{key:"on",value:function(e){for(var t,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(t=a(y(n.prototype),"on",this)).call.apply(t,[this,e].concat(o))}},{key:"removeListener",value:function(e,t){return a(y(n.prototype),"removeListener",this).call(this,e,t)}},{key:"waitfor",value:function(e,t){return a(y(n.prototype),"waitfor",this).call(this,e,t)}},{key:"import",value:ve},{key:"export",value:ye},{key:"restore",value:me},{key:"emit",value:function(e,t,r){return a(y(n.prototype),"emit",this).apply(this,arguments)}},{key:"listenTo",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return a(y(n.prototype),"listenTo",this).apply(this,arguments)}}]),n}(r.aN),be=new ge(pe),we=new ge(te);be.adaptation={transparentCells:null,transparentSkins:null},be._import=be.import,be.import=function(e){e&&(this.adaptation.transparentCells=e.transparentCells),this._import(e)},we._import=we.import,we.import=function(e){var t,n,r,o;e&&(0!=be.adaptation.transparentCells&&0!=be.adaptation.transparentSkins||(e.cellsAlpha=te.cellsAlpha.default,e.skinsAlpha=te.skinsAlpha.default,console.error("Adaptation cellsAlpha, skinsAlpha: disabled")),e.miniMapGhostCellsAlpha>=0&&7==(null===(t=e.miniMapGhostCellsColor)||void 0===t?void 0:t.length)&&delete e.miniMapGhostCellsColor,e.ghostCellsAlpha>=0&&7==(null===(n=e.ghostCellsColor)||void 0===n?void 0:n.length)&&delete e.ghostCellsColor,e.miniMapSectorsOpacity>=0&&7==(null===(r=e.miniMapSectorsColor)||void 0===r?void 0:r.length)&&delete e.miniMapSectorsColor,e.virusAlpha>=0&&7==(null===(o=e.virusColor)||void 0===o?void 0:o.length)&&delete e.virusColor),this._import(e)},window.settings=be,window.theme=we},2840:(e,t,n)=>{"use strict";n.d(t,{B:()=>p,V:()=>d});var r=n(8967),o=n(5537);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=o.yK.Component;function h(e){return o.yK.h("div",{class:"row w100"},o.yK.h("div",{class:"col"},o.yK.h(p,{click:e.onRestore,icon:"fas fa-trash-restore"},(0,r.dz)("restoreSettings"))),o.yK.h("div",{class:"col"},o.yK.h(p,{click:e.onSave,icon:"fas fas fa-save"},(0,r.dz)("saveSett"))))}o.yK.render,o.yK.h,o.yK.createRef,o.rl.useState,o.rl.useEffect,o.rl.useRef;var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(f,e);var t,n,r,o,i=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(o){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(){return a(this,f),i.apply(this,arguments)}return t=f,(n=[{key:"render",value:h}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(f),p=function(e){var t=e.children,n=e.icon,r=e.click;return o.yK.h("div",{class:"btn",onClick:r},o.yK.h("div",{class:"btn-layer"},o.yK.h("div",{class:"btn-logo"},n?o.yK.h("div",{class:"btn-icon "+n}):""),o.yK.h("div",{class:"btn-info"},t)))}},3061:(e,t,n)=>{"use strict";n.d(t,{Am:()=>z,BY:()=>W,Ot:()=>Y,_j:()=>X,ns:()=>P,qU:()=>I,t8:()=>R,zN:()=>A});var r=n(8967),o=n(5537),i=n(4602),a=n(115),s=n(2267),u=n(2504);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}o.yK.Component,o.yK.render,o.yK.h,o.yK.createRef;var k=o.rl.useState,S=o.rl.useEffect,T=o.rl.useRef,x=new a.Z;function U(){s.Xd.raw.menuSounds.value&&u.g.debounce("button-change")}function C(e){var t=this,n=e.target,o=e.name,i=f(k(n.raw[o].value),2),a=i[0],c=i[1];function l(){return c(n.raw[o].value)}function h(){return t.unlisten()}return S((function(e,r,i){var a=l;return t.listenTo(n,o,a),a(),h}),[o]),P((0,r.dz)(o),a,(function(e){c(e),n.proxy[o]=e,s.Xd.raw.menuSounds.value&&u.g.debounce("button-change")}))}var I=function(e){y(n,e);var t=g(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"render",value:C}]),n}(i.l);function P(e,t,n){return o.yK.h("div",{class:"flex-row "},o.yK.h("div",{class:"input-box-cell rest"},e),o.yK.h("div",{class:"input-box-cell"},o.yK.h("label",{class:"switch"},o.yK.h("input",{class:"checkbox",onChange:function(e){return n(e.target.checked)},checked:t,defaultChecked:t,type:"checkbox"}),o.yK.h("slider",{class:"slider round","data-on":(0,r.dz)("ui_on"),"data-off":(0,r.dz)("ui_off")}))))}function O(e){var t=this,n=e.target,o=e.name,i=(e.callback,f(k(n.raw[o].value),2)),a=i[0],s=i[1];function u(){return s(n.raw[o].value)}function c(){return t.unlisten()}return S((function(){var e=u;return t.listenTo(n,o,e),e(),c}),[o]),E((0,r.dz)(o),a,n.raw[o],(function(e){n.proxy[o]=e}))}var R=function(e){y(n,e);var t=g(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"render",value:O}]),n}(i.l),E=function(e,t,n,r){return o.yK.h("div",{class:"flex-row"},o.yK.h("div",{class:"input-box-cell rest"},e),o.yK.h("div",{class:"input-box-cell"},o.yK.h("span",{class:"helper"},String(t)+(n.unit?n.unit:"")),o.yK.h("input",{class:"range",onInput:function(e){return r(Number(e.target.value))},onclick:U,type:"range",min:n.min,max:n.max,step:n.step,value:t,defaultValue:t})))};function M(e){var t=this,n=e.target,o=e.name,i=f(k(n.raw[o].value),2),a=i[0],s=i[1];function u(){return s(n.raw[o].value)}function c(){return t.unlisten()}return S((function(){var e=u;return t.listenTo(n,o,e),e(),c}),[o]),L((0,r.dz)(o),a,n.raw[o].options,(function(e){n.proxy[o]=e,U()}))}var A=function(e){y(n,e);var t=g(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"render",value:M}]),n}(i.l);function j(e){var t=f(e,2),n=t[0],i=t[1];return o.yK.h("option",{value:i},(0,r.dz)(n))}var L=function(e,t,n,r){return o.yK.h("div",{class:"flex-row"},o.yK.h("div",{class:"input-box-cell rest"},o.yK.h("div",null,e)),o.yK.h("div",{class:"input-box-cell"},o.yK.h("select",{class:"selectbox",value:t,onChange:function(e){return r(isNaN(e.target.value)?e.target.value:Number(e.target.value))}},Object.entries(n).map(j))))};function F(e){var t=this.props,n=t.target,r=t.name;n.proxy[r]=e}function D(e){var t=f(e,2),n=t[0],r=t[1];return o.yK.h("option",{value:r},n)}function K(e){var t,n=this,i=e.target,a=e.name,s=f(k(i.raw[a].value),2),u=s[0],c=s[1];function l(){return c(i.raw[a].value)}function h(){return n.unlisten()}S((function(){var e=l;return n.listenTo(i,a,e),e(),h}),[a]);var d=(0,r.dz)(a);return o.yK.h("div",{class:"flex-row"},o.yK.h("div",{class:"input-box-cell rest"},d),o.yK.h("div",{class:"input-box-cell"},o.yK.h("input",{class:"input",type:"search",placeholder:a,autocomplete:"off",value:u,defaultValue:u,onInput:function(e){return n.onValue(e.target.value)}}),o.yK.h("select",{class:"selectbox",onChange:function(e){null!=e.target.value&&n.onValue(e.target.value),e.target.value="",e.target.blur(),U()},style:"width: 40px;"},o.yK.h("option",{value:""}),i.raw[a].default&&o.yK.h("option",{value:i.raw[a].default},"Default"),null===(t=Object.entries(i.raw[a].options))||void 0===t?void 0:t.map(D))))}var X=function(e){y(n,e);var t=g(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"onValue",value:F},{key:"render",value:K}]),n}(i.l);function B(e,t,n){return.2126*e+.7152*t+.0722*n<40}function N(e){var t=this,n=e.target,o=e.name,i=n.raw[o].alpha?x.fromINT(n.raw[o].value).getHEXA():x.fromINT(n.raw[o].value).getHEX(),a=T(null),s=T(null),u=T(null);function c(e){e.target.blur()}function l(e){t.inputFocused=!1}function f(){s.current.value=(255!=n.raw[o].microcolor.a?x.fromINT(n.raw[o].value).getHEXA():x.fromINT(n.raw[o].value).getHEX()).toUpperCase(),a.current.style.backgroundColor=(n.raw[o].alpha?x.fromINT(n.raw[o].value).toRgb(!0):x.fromINT(n.raw[o].value).getHEX()).toUpperCase()}return S((function(){var e,r,i=null,a=function(e,t,n,r){i&&(i.style.backgroundColor=x.fromRGB(e,t,n,~~(255*r)).toRgb())},u=t,h=n.raw[o].alpha;function d(){if(this.value.length){console.log("change");var e=CP.HEX(this.value);u.picker._set.apply(u.picker,e),u.picker.source.value=CP.HEX(e),p()}}t.picker=new CP(s.current),h||t.picker.self.classList.add(t.picker.state.class+"__dialog--no-alpha"),t.picker.on("change",(function(e,r,i,s){if(a(e,r,i,s),t.blocked)t.blocked=!1;else{h||(s=1);var u=x.fromRGB(e,r,i,~~(255*s)).getInta();n.proxy[o]=u}})),t.picker.on("enter",(function(e,n,r,o){i=t.picker.self.children[0].children[0].children[3],a(e,n,r,o)})),s.current.addEventListener("focus",e=c),s.current.addEventListener("blur",r=l),["cut","input","keyup","paste"].forEach((function(e){s.current.addEventListener(e,d)}));var p=f;function v(e){s.current.removeEventListener(e,d)}return t.listenTo(n,o,p),p(),function(){["cut","input","keyup","paste"].forEach(v),s.current.removeEventListener("focus",e),s.current.removeEventListener("blur",r),t.blocked=!0,t.picker.pop(),t.unlisten()}}),[o]),q((0,r.dz)(o),i,(function(e){n.raw[o].setter(e)}),this.random,a,s,u)}var z=function(e){y(n,e);var t=g(n);function n(){var e;d(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return l(w(e=t.call.apply(t,[this].concat(o))),"picker",null),l(w(e),"random","r"+Math.random()),l(w(e),"blocked",!0),l(w(e),"inputFocused",!1),l(w(e),"isDark",B),e}return v(n,[{key:"render",value:N}]),n}(i.l),q=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"r"+Math.random(),i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;return o.yK.h("div",{class:"flex-row "},o.yK.h("div",{class:"input-box-cell rest"},e),o.yK.h("div",{class:"input-box-cell"},o.yK.h("input",{ref:a,type:"search",value:t.toUpperCase(),onChange:function(e){return n(e.target.value)},onInput:function(e){return n(e.target.value)},class:"input color"}),o.yK.h("input",{ref:s,id:r,type:"hidden",value:t.toUpperCase(),onChange:function(e){return n(e.target.value)},onInput:function(e){return n(e.target.value)},class:"input color"}),o.yK.h("label",{for:r,class:"colorpicker-input-addon"},o.yK.h("div",{ref:i,style:{backgroundColor:t}}))))};function H(e){var t=this,n=e.target,o=e.name,i=f(k(n.raw[o].toSelectboxFormat()),2),a=i[0],s=i[1];function u(){return s(n.raw[o].toSelectboxFormat())}function c(){return t.unlisten()}return S((function(){var e=u;return t.listenTo(n,o,e),e(),c}),[o]),G((0,r.dz)(o),a,(function(e){s(e),n.proxy[o]=e,U()}))}var W=function(e){y(n,e);var t=g(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"render",value:H}]),n}(i.l),G=function(e,t,n){return o.yK.h("div",{class:"flex-row"},o.yK.h("div",{class:"input-box-cell rest"},o.yK.h("div",null,e)),o.yK.h("div",{class:"input-box-cell"},o.yK.h("select",{class:"selectbox",value:t,defaultValue:t,onChange:function(e){n(e.target.value),e.target.blur()}},function(){var e=[];for(var t in r.fO.possibleFonts){var n=/\s+/.test(t)?'"'+t+'"':t,i=r.fO.possibleFonts[t];for(var a in i.fontWeights)e.push(o.yK.h("option",{value:a+" 25px "+n,style:{"font-family":n,"font-weight":i.fontWeights[a]}},t+" "+i.fontWeights[a]))}return e}())))};function V(e){var t=this,n=e.target,o=e.name,i=f(k(n.raw[o].value),2),a=i[0],s=i[1];function u(){return s(n.raw[o].value)}function c(){return t.unlisten()}return S((function(){var e=u;return t.listenTo(n,o,e),e(),c}),[o]),Z((0,r.dz)(o),a,(function(e){s(e),n.proxy[o]=e,U()}))}var Y=function(e){y(n,e);var t=g(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"render",value:V}]),n}(i.l),Z=function(e,t,n){return o.yK.h("div",{class:"flex-row"},o.yK.h("div",{class:"icon-selector"},Array.apply(null,Array(42)).map((function(e,r){var i="assets/cursors/cursor_".concat(r<9?"0":"").concat(r+1,".cur");return o.yK.h("div",{onClick:function(){return n(i)},class:"cursor-box icon-selector__item "+(i===t?"active":"")},o.yK.h("img",{src:i,class:"lazyload"}))}))))}},4602:(e,t,n)=>{"use strict";n.d(t,{l:()=>d});var r=n(5537),o=n(8967);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=r.yK.Component;function h(){}r.yK.render,r.yK.h,r.yK.createRef,r.rl.useState,r.rl.useEffect,r.rl.useRef;var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(d,e);var t,n,r,i,f=(r=d,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(i){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function d(){var e,t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),n=void 0,"__P"in(t=c(e=f.call(this)))?Object.defineProperty(t,"__P",{value:n,enumerable:!0,configurable:!0,writable:!0}):t.__P=n,e.eventify=new o.aN,e.ev=e.eventify.ev,e.events=e.eventify.events,e.on=e.eventify.on,e.once=e.eventify.once,e.waitfor=e.eventify.waitfor,e.listenTo=e.eventify.listenTo,e.unlisten=e.eventify.unlisten,e.emit=e.eventify.emit,e.removeListener=e.eventify.removeListener,e}return t=d,(n=[{key:"render",value:h}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(f)},9181:(e,t,n)=>{"use strict";function r(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!1})}function o(){}function i(){return this._isDebug}n.d(t,{Z:()=>a});const a=function(e,t,n){var a=r,s={};function u(){if(e&&t.isDebug){for(var r in console)if("function"==typeof console[r]&&"profile"!==r){if("time"==r)continue;s[r]=console[r].bind(console,n||t.toString()+": "),a(t,r,s[r])}}else for(var r in console)"function"==typeof console[r]&&"profile"!==r&&(s[r]=o,a(t,r,s[r]))}t._isDebug=t.isDebug,Object.defineProperty(t,"isDebug",{set:function(e){this._isDebug=e,u()},get:i}),u()}},5914:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(arguments.length<2)throw new Error("Eventify.on() need at least 2 arguments");var i,a,s=arguments.length,u=arguments[s-1];for(i=0;s-1>i;i++)a=arguments[i],"object"!==r(this.events[a])&&(this.events[a]=[]),this.events[a].push(u);return u}function h(e,t){var n;"object"===r(this.events[e])&&(n=this.events[e].indexOf(t))>-1&&this.events[e].splice(n,1)}function d(e){var t,n,o,i=[].slice.call(arguments,1);if("object"===r(this.events[e]))for(o=(n=this.events[e].slice()).length,t=0;t<o;t++)n[t].apply(this,i)}function p(e,t){var n,r=this;return this.on(e,n=function(){r.removeListener(e,n),t.apply(r,arguments)}),n}function v(e,t,n){var r=this,o=null,i=!1;return new Promise((function(a,s){var u=function(){i||(i=!0,clearTimeout(o),r.removeListener(e,a),s())};o=setTimeout((function(){return u()}),t),r.once(e,a),"function"==typeof n&&n(u)})).then((function(e){return i&&console.error("Fatal: Rejected cant be resolved"),clearTimeout(o),e}))}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(arguments.length<2)throw new Error("Eventify.on() need at least 2 arguments");var i,a,s=arguments.length,u=arguments[s-1];for(i=1;s-1>i;i++)a=arguments[i],"object"!==r(this.events[a])&&(this.events[a]=[]),this.ev.push([e,a,u]),e.on(a,u);return u}function m(){for(var e=this.ev.slice(),t=0;e.length>t;t++){var n=e[t][0],r=e[t][1],o=e[t][2];n.removeListener(r,o);var i=this.ev.indexOf(e[t]);i>-1&&this.ev.splice(i,1)}this.ev.length>0&&console.error("We have error in unlisten()",e,this.ev)}function g(e){a(s,e);var t,n,r=u(s);function s(){var e;o(this,s);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).events={},e.ev=[],e}return t=s,(n=[{key:"on",value:f},{key:"removeListener",value:h},{key:"emit",value:d},{key:"once",value:p},{key:"waitfor",value:v},{key:"listenTo",value:y},{key:"unlisten",value:m}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}function b(e){return g(e)}n.d(t,{QE:()=>b,aN:()=>w});var w=function(e){a(n,e);var t=u(n);function n(){return o(this,n),t.apply(this,arguments)}return n}(b(function(){return function e(){o(this,e)}}()))},2504:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){var r=this;return t?(this.remove(e),this.sounds[e]=new Audio(t),"function"!=typeof n?new Promise((function(t,n){r.sounds[e].addEventListener("canplaythrough",t),r.sounds[e].addEventListener("error",n)})):void this.sounds[e].addEventListener("canplaythrough",n)):this.remove(e)}function a(e){void 0!==this.sounds&&delete this.sounds[e]}function s(){}function u(e){"NotAllowedError"===e.name||console.error(e)}function c(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0===this.sounds[e])return console.error("Can't find sound called '"+e+"'."),!1;var i=this.sounds[e].cloneNode(!0);i.volume="number"==typeof r?r:this.default_volume,i.loop=o;var a=i.play();return this.instances.push(i),void 0!==a&&a.then(s).catch(u),i.addEventListener("ended",(function(){var e=n.instances.indexOf(i);-1!=e&&n.instances.splice(e,1)})),"function"==typeof t?(i.addEventListener("ended",t),!0):new Promise((function(e,t){return i.addEventListener("ended",e)}))}function l(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(this.instances.slice());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.pause(),n.dispatchEvent(new Event("ended"))}}catch(e){t.e(e)}finally{t.f()}}function f(e){}function h(){}function d(e){var t=this.sounds[e];if(t&&t.play){0!=t.currentTime&&(t.pause(),t.currentTime=0);var n=t.play();return n&&n.catch(f).then(h),n}}function p(e){}function v(){}function y(e){var t=this.sounds[e];if(t&&t.play&&0===t.currentTime){var n=t.play();if(n){t.addEventListener("ended",(function(){t.pause(),t.currentTime=0,t.removeEventListener("ended",this)})),n.catch(p).then(v)}return n}}n.d(t,{g:()=>m});var m=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sounds={},this.instances=[],this.default_volume=1}var t,n;return t=e,(n=[{key:"load",value:i},{key:"remove",value:a},{key:"play",value:c},{key:"stop_all",value:l},{key:"once",value:d},{key:"debounce",value:y}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());window.Sounds=m},4857:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{B7:()=>i,Ds:()=>f,EE:()=>d,P2:()=>l});var o={tick:1,onstart:null,ontick:null,onpause:null,onstop:null,onend:null},i=function e(t){if(!(this instanceof e))return new e(t);for(var n in this._={id:+new Date,options:{},duration:0,status:"initialized",start:0,measures:[]},o)this._.options[n]=o[n];this.options(t)};function a(){u.call(this,"ontick",this.getDuration())}function s(){c.call(this),this._.status="stopped",u.call(this,"onend")}function u(e){var t=this._.options[e],n=[].slice.call(arguments,1);"function"==typeof t&&t.apply(this,n)}function c(e){clearTimeout(this._.timeout),clearInterval(this._.interval),!0===e&&(this._.duration=0)}function l(e,t){var n;return function(){var r=n;n=Date.now(),(void 0===r||n-r>t)&&e.apply(void 0,arguments)}}function f(e,t){var n,r;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=n;n=Date.now(),s&&n-s<=t&&clearTimeout(r),r=setTimeout((function(){return e.apply(void 0,i)}),t)}}function h(e,t){for(var n=e.toString();n.length<t;n=0+n);return n}function d(e){var t=Date.parse(e)-Date.parse(new Date),n=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),o=Math.floor(t/36e5%24),i=h;return{days:Math.floor(t/864e5),hours:i(o,2),minutes:i(r,2),seconds:i(n,2)}}i.prototype.start=function(e){return+e||this._.duration?(e&&(e*=1e3),this._.timeout&&"started"===this._.status||(this._.duration=e||this._.duration,this._.timeout=setTimeout(s.bind(this),this._.duration),"function"==typeof this._.options.ontick&&(this._.interval=setInterval(a.bind(this),1e3*+this._.options.tick)),this._.start=+new Date,this._.status="started",u.call(this,"onstart",this.getDuration())),this):this},i.prototype.pause=function(){return"started"!==this._.status||(this._.duration-=+new Date-this._.start,c.call(this,!1),this._.status="paused",u.call(this,"onpause")),this},i.prototype.stop=function(){return/started|paused/.test(this._.status)?(c.call(this,!0),this._.status="stopped",u.call(this,"onstop"),this):this},i.prototype.getDuration=function(){return"started"===this._.status?this._.duration-(+new Date-this._.start):"paused"===this._.status?this._.duration:0},i.prototype.getStatus=function(){return this._.status},i.prototype.options=function(e,t){if(e&&t&&(this._.options[e]=t),!t&&"object"===r(e))for(var n in e)this._.options.hasOwnProperty(n)&&(this._.options[n]=e[n]);return this},i.prototype.on=function(e,t){return"string"!=typeof e||"function"!=typeof t||(/^on/.test(e)||(e="on"+e),this._.options.hasOwnProperty(e)&&(this._.options[e]=t)),this},i.prototype.off=function(e){return"string"!=typeof e?this:"all"===(e=e.toLowerCase())?(this._.options=o,this):(/^on/.test(e)||(e="on"+e),this._.options.hasOwnProperty(e)&&(this._.options[e]=o[e]),this)},i.prototype.measureStart=function(e){return this._.measures[e||""]=+new Date,this},i.prototype.measureStop=function(e){return+new Date-this._.measures[e||""]},window.Timer=i},7298:(e,t,n)=>{"use strict";function r(e,t,n){t/=100,n/=100;var r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e/60%2-1)),i=n-r/2,a=0,s=0,u=0;return 0<=e&&e<60?(a=r,s=o,u=0):60<=e&&e<120?(a=o,s=r,u=0):120<=e&&e<180?(a=0,s=r,u=o):180<=e&&e<240?(a=0,s=o,u=r):240<=e&&e<300?(a=o,s=0,u=r):300<=e&&e<360&&(a=r,s=0,u=o),a=Math.round(255*(a+i)).toString(16),s=Math.round(255*(s+i)).toString(16),u=Math.round(255*(u+i)).toString(16),1==a.length&&(a="0"+a),1==s.length&&(s="0"+s),1==u.length&&(u="0"+u),"#"+a+s+u}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,i)).toFixed(r))+" "+o[i]}n.d(t,{c:()=>r,t:()=>o})},115:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>I});var a=new Int8Array(4),s=new Int32Array(a.buffer,0,1),u=new Float32Array(a.buffer,0,1);function c(){this.vector[0]=this.r/255,this.vector[1]=this.g/255,this.vector[2]=this.b/255,this.vector[3]=this.a/255}function l(){this.packed=~~(this.r/255*128+.5)+129*~~(this.b/255*128+.5)+129*~~(this.g/255*128+.5)*129}function f(){this.string=this.toRgb(!0)}function h(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this.updVector(),this.updPacked(),this.updString(),this}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255;return this.r=e,this.g=t,this.b=n,this.a=r,this.updVector(),this.updPacked(),this.updString(),this}function p(e){return this.a=(4278190080&e)>>>24,this.r=(16711680&e)>>>16,this.g=(65280&e)>>>8,this.b=(255&e)>>>0,this.updVector(),this.updPacked(),this.updString(),this}function v(e){if(e&&7===e.length){var t=Number.parseInt(e.substring(1),16),n=t>>16&255,r=t>>8&255,o=255&t;this.fromRGB(n,r,o)}return this}function y(e){return e?"rgba(".concat(this.r,", ").concat(this.g,", ").concat(this.b,", ").concat(this.a/255,")"):"rgb(".concat(this.r,", ").concat(this.g,", ").concat(this.b,")")}function m(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16),r=this.a.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),1==r.length&&(r="0"+r),"#"+e+t+n+r}function g(){return"#"+(16777216|this.getInt()).toString(16).substring(1)}function b(){return this.r<<16|this.g<<8|this.b}function w(){return this.a<<24|this.r<<16|this.g<<8|this.b}function _(){return"#".concat((16777216|this.getInt()).toString(16).substring(1)).concat(this.a.toString(16).padStart(2,"0"))}function k(e,t,n){return e<<16|t<<8|n}function S(e){for(e=e.toString(16);e.length<6;)e="0"+e;return"#"+e}function T(e){return s[0]=e,u[0]}function x(e){return u[0]=e,s[0]}function U(e,t){var n="string"==typeof e?parseInt(e,16):e,r=Math.round(2.55*t),o=(n>>16)+r,i=(n>>8&255)+r,a=(255&n)+r;return"#"+(16777216+65536*(o<255?o<1?0:o:255)+256*(i<255?i<1?0:i:255)+(a<255?a<1?0:a:255)).toString(16).slice(1)}var C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:255,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255;r(this,e),this.r=t,this.g=n,this.b=o,this.a=i,this.vector=new Float32Array(4),this.packed=0,this.string="#000000",this.updVector(),this.updPacked(),this.updString()}var t,n,i;return t=e,i=[{key:"rgbToInt",value:k},{key:"colorIntToHex",value:S},{key:"pack",value:T},{key:"unpack",value:x},{key:"darkenColor",value:U}],(n=[{key:"updVector",value:c},{key:"updPacked",value:l},{key:"updString",value:f},{key:"cloneFrom",value:h},{key:"fromRGB",value:d},{key:"fromINT",value:p},{key:"fromHex",value:v},{key:"toRgb",value:y},{key:"getHEXA",value:m},{key:"getFloat",value:function(){var t=this.a<<24|this.b<<16|this.g<<8|this.r;return e.pack(4278190079&t)}},{key:"getHEX",value:g},{key:"getInt",value:b},{key:"getInta",value:w},{key:"getSecureHex",value:function(){return e.colorIntToHex(e.rgbToInt(~~(.9*this.r),~~(.9*this.g),~~(.9*this.b)))}},{key:"toHEX8",value:_},{key:"getNormalFromSecure",get:function(){return e.rgbToInt(Math.ceil(this.r/.9),Math.ceil(this.g/.9),Math.ceil(this.b/.9))}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(C,"isValidHex",(function(e){return/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(e)})),i(C,"getChunksFromString",(function(e,t){return e.match(new RegExp(".{".concat(t,"}"),"g"))})),i(C,"convertHexUnitTo256",(function(e){return parseInt(e.repeat(2/e.length),16)})),i(C,"getAlphafloat",(function(e,t){return void 0!==e?e/255:"number"!=typeof t||t<0||t>1?1:t})),i(C,"hexToRGBA",(function(e,t){if(!C.isValidHex(e))throw new Error("Invalid HEX");var n=Math.floor((e.length-1)/3);return C.getChunksFromString(e.slice(1),n).map(C.convertHexUnitTo256)}));const I=C;window.MicroColor=C},9564:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.view=e,this.offset=t}function a(){return this.view.getUint8(this.offset++)}function s(){return this.view.getInt8(this.offset++)}function u(){var e=this.view.getUint16(this.offset,this.le);return this.offset+=2,e}function c(){var e=this.view.getInt16(this.offset,this.le);return this.offset+=2,e}function l(){return this.readUInt8()<<16|this.readUInt8()<<8|this.readUInt8()}function f(){var e=this.view.getUint32(this.offset,this.le);return this.offset+=4,e}function h(){var e=this.view.getInt32(this.offset,this.le);return this.offset+=4,e}function d(){var e=this.view.getFloat32(this.offset,this.le);return this.offset+=4,e}function p(){var e=this.view.getFloat64(this.offset,this.le);return this.offset+=8,e}function v(e){this.offset+=e}function y(e){null==e&&(e=this.view.byteLength-this.offset),e=Math.max(0,e);for(var t="",n=0;n<e;){n++;var r=this.readUInt8();t+=String.fromCharCode(r)}return t}function m(){return this.readUTF8String(this.readUInt8())}function g(){for(var e="";this.offset<this.view.byteLength;){var t=this.readUInt8();if(!t)break;e+=String.fromCharCode(t)}return e}function b(e,t){return e+String.fromCharCode(t)}function w(){for(var e=this.offset,t=[];e+1<this.length;){var n=this.readUInt8();if(0===n)break;t.push(n),e+=1}return t.reduce(b,"")}function _(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null==e&&(e=this.view.byteLength-this.offset),e=Math.max(0,e);var n="",r=0;if(t)for(;r<e;){r++;var o=this.readUInt16();n+=String.fromCharCode(255&o)}else for(;r<e;){r++;var i=this.readUInt16();n+=String.fromCharCode(i)}return n}function k(){return this.readUTF16String(this.readUInt8())}function S(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="";if(e)for(;this.offset<this.view.byteLength;){var n=this.readUInt16();if(!n)break;t+=String.fromCharCode(255&n)}else for(;this.offset<this.view.byteLength;){var r=this.readUInt16();if(!r)break;t+=String.fromCharCode(r)}return t}function T(){for(var e="";this.offset<this.view.byteLength;){var t=this.readUInt16();if(!t)break;e+=String.fromCharCode(t)}return e}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.view.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}function U(){return this.view.byteLength}function C(){return this.offset===this.view.byteLength}n.d(t,{E:()=>I});var I=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r(this,e),this.view=t,this.offset=0,this.le=n}var t,n;return t=e,(n=[{key:"setView",value:i},{key:"readUInt8",value:a},{key:"readInt8",value:s},{key:"readUInt16",value:u},{key:"readInt16",value:c},{key:"readUInt24",value:l},{key:"readUInt32",value:f},{key:"readInt32",value:h},{key:"readFloat32",value:d},{key:"readFloat64",value:p},{key:"skip",value:v},{key:"readUTF8String",value:y},{key:"readUTF8StringLength",value:m},{key:"readUTF8StringZero",value:g},{key:"readZTStringUTF8Zero",value:w},{key:"readUTF16String",value:_},{key:"readUTF16StringLength",value:k},{key:"readUTF16StringZero",value:S},{key:"readStringUnicode",value:T},{key:"readBytes",value:x},{key:"length",get:U},{key:"EOF",get:C}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();globalThis.Reader=I},1205:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Q:()=>P});var i=new ArrayBuffer(1048576),a=new Uint8Array(i),s=new DataView(i);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.view=e,this.offset=t}function c(e){this.view.setUint8(this.offset++,e)}function l(e){for(var t=0,n=e.length;t<n;t++)this.writeUInt8(e[t])}function f(e){this.view.setInt8(this.offset++,e)}function h(e){this.view.setUint16(this.offset,e,this.le),this.offset+=2}function d(e){this.view.setInt16(this.offset,e,this.le),this.offset+=2}function p(e){this.writeUInt8((16711680&e)>>>16),this.writeUInt8((65280&e)>>>8),this.writeUInt8((255&e)>>>0)}function v(e){this.view.setUint32(this.offset,e,this.le),this.offset+=4}function y(e){this.view.setInt32(this.offset,e,this.le),this.offset+=4}function m(e){this.view.setFloat32(this.offset,e,this.le),this.offset+=4}function g(e){this.view.setFloat64(this.offset,e,this.le),this.offset+=8}function b(e){for(var t=0;t<e.length;t++)this.writeUInt8(e.charCodeAt(t))}function w(e){this.writeUTF8String(e),this.writeUInt8(0)}function _(e){e.length>255&&(e=e.substring(0,255)),this.writeUInt8(e.length),this.writeUTF8String(e)}function k(e){for(var t=0;t<e.length;t++)this.writeUInt16(e.charCodeAt(t))}function S(e){this.writeUTF16String(e),this.writeUInt16(0)}function T(e){e.length>255&&(e=e.substring(0,255)),this.writeUInt8(e.length),this.writeUTF16String(e)}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset+=e}function U(){return this.view.buffer.slice(0,this.offset)}function C(){return a.subarray(0,this.offset)}function I(){return a.subarray(0,this.offset)}var P=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r(this,e),this.offset=0,this.le=t,this.view=s}var t,n;return t=e,(n=[{key:"setView",value:u},{key:"writeUInt8",value:c},{key:"writeBytes",value:l},{key:"writeInt8",value:f},{key:"writeUInt16",value:h},{key:"writeInt16",value:d},{key:"writeUInt24",value:p},{key:"writeUInt32",value:v},{key:"writeInt32",value:y},{key:"writeFloat32",value:m},{key:"writeFloat64",value:g},{key:"writeUTF8String",value:b},{key:"writeUTF8StringZero",value:w},{key:"writeUTF8StringLength",value:_},{key:"writeUTF16String",value:k},{key:"writeUTF16StringZero",value:S},{key:"writeUTF16StringLength",value:T},{key:"skip",value:x},{key:"slice",value:U},{key:"finalize",value:C},{key:"toBuffer",value:I}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();globalThis.Writer=P}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e](i,i.exports,o),i.exports}o.m=n,o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>"js/"+e+".index.js",o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="deltav4:",o.l=(n,r,i,a)=>{if(e[n])e[n].push(r);else{var s,u;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==t+i){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var h=(t,r)=>{s.onerror=s.onload=null,clearTimeout(d);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(r))),t)return t(r)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="",(()=>{o.b=document.baseURI||self.location.href;var e={179:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=i);var a=o.p+o.u(t),s=new Error;o.l(a,(n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[a,s,u]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);u&&u(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkdeltav4=self.webpackChunkdeltav4||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o(5666),o(3804)})();