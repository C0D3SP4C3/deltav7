var worldPlayerBotNames=["Unreal bot"],worldPlayerBotSkins=[],playerMaxCells=16,worldEatMult=1.140175425099138,playerSplitSizeDiv=1.414213562373095,playerSplitBoost=780,worldEatOverlapDiv=3,playerViewScaleMult=1;class PlayerBot{constructor(t){this.player=t,this.splitCooldownTicks=0,this.target=null,this.splitAttempts=0}static get type(){return"playerbot"}static get separateInTeams(){return!0}update(){this.splitCooldownTicks>0?this.splitCooldownTicks--:this.target=null;const t=this.player;let e=null;for(let a=0,i=t.cells.length;a<i;a++)(null===e||t.cells[a].targetSize>e.targetSize)&&(e=t.cells[a]);if(null===e)return;if(null!=this.target){if(this.target.removed&&this.canEat(e.targetSize,this.target.targetSize))return this.mouseX=this.target.x,void(this.mouseY=this.target.y);this.target=null}const a=t.cells.length>=playerMaxCells,i=t.cells.length<=2,l=Object.keys(t.client.indexedCells).length;let r=0,s=0,o=null,n=!1;const g=[t.client.foods,t.client.cells];for(const t of g)for(let i of t){const t=Math.log10(e.targetSize*e.targetSize);let g=i.targetX-e.targetX,c=i.targetY-e.targetY,h=Math.max(1,Math.sqrt(g*g+c*c)),S=Math.max(1,h-e.targetSize-i.targetSize),p=0;switch(!0){case"_cell"==i.type&&!(i.isOtherFood||i.isPlayerFood):if(i.isPlayerCell)break;if(this.canEat(e.targetSize,i.targetSize)){if(p=t,!this.canSplitkill(e.targetSize,i.targetSize,h))break;(null===o||i.targetSize>o.targetSize)&&(o=i)}else p=this.canEat(i.targetSize,e.targetSize)?-t*l:-1,n=!0;break;case"_food"==i.type:if(this.canEat(e.targetSize,i.targetSize)){if(p=t,!this.canSplitkill(e.targetSize,i.targetSize,h))break;(null===o||i.targetSize>o.targetSize)&&(o=i)}else p=this.canEat(i.targetSize,e.targetSize)?-t*l:-1,n=!0;break;case i.isOtherFood||i.isPlayerFood:this.canEat(e.size,i.size)&&(p=t*l);break;case"_virus"==i.type:this.canEat(i.size,e.size)?p=-1:this.canEat(e.size,i.size)&&(p=a?t*l:-1)}0!==p&&(0===S&&(S=1),g/=S,c/=S,r+=g*p/S,s+=c*p/S)}if(i&&!n&&this.splitCooldownTicks<=0&&null!==o&&2*o.targetSize>e.targetSize)this.target=o,t.cursor.x=t.target.x=o.targetX,t.cursor.y=t.target.y=o.targetY,this.splitAttempts++,this.splitCooldownTicks=25;else{const a=Math.pow(Math.min(64/t.size,1),.4),i=1920/a/2*1.985,l=1080/a/2*1.985,o=Math.max(1,Math.sqrt(r*r+s*s));t.cursor.x=t.target.x=e.x+r/o*i,t.cursor.y=t.target.y=e.y+s/o*l}}canEat(t,e){return t>e*worldEatMult}canSplitkill(t,e,a){const i=Math.max(2*t/playerSplitSizeDiv/2,playerSplitBoost);return t/playerSplitSizeDiv>e*worldEatMult&&a-i<=t-e/worldEatOverlapDiv}}